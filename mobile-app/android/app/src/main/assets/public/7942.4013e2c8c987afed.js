"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7942],{7942:(I,c,a)=>{a.r(c),a.d(c,{MyPetsPageModule:()=>r});var d=a(9351),P=a(7199),s=a(7473),u=a(4170),g=a(5841),e=a(315),f=a(1572);function h(o,i){if(1&o){const l=e.RV6();e.j41(0,"ion-item",6)(1,"ion-avatar",7),e.nrm(2,"img",8),e.k0s(),e.j41(3,"ion-label")(4,"h2",1),e.EFF(5),e.k0s()(),e.j41(6,"ion-thumbnail",9),e.bIt("click",function(){const p=e.eBV(l).$implicit,m=e.XpG();return e.Njj(m.edit(p.id))}),e.nrm(7,"img",10),e.k0s()()}if(2&o){const l=i.$implicit;e.R7$(2),e.FS9("alt",l.name),e.Y8G("src",l.image,e.B4B),e.R7$(3),e.JRh(l.name)}}const y=[{path:"",component:(()=>{var o;class i{constructor(n,p){this.petService=n,this.router=p}ngOnInit(){var n=this;this.petService.fetchPets().then(function(){var p=(0,g.A)(function*(m){n.myPets=m,yield n.loadImages()});return function(m){return p.apply(this,arguments)}}())}loadImages(){var n=this;return(0,g.A)(function*(){for(let p of n.myPets)p.image&&(p.imageUrl=yield n.petService.uploadImage(p.image))})()}edit(n){this.router.navigate(["/petdetailes",n])}}return(o=i).\u0275fac=function(n){return new(n||o)(e.rXU(f.d),e.rXU(u.Ix))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-my-pets"]],decls:13,vars:1,consts:[[1,"titleFont"],[1,"bodyFont"],["lines","none",4,"ngFor","ngForOf"],[1,"ion-padding","fixedFooter"],["expand","full","fill","clear","routerLink","/pet-profile",1,"FilledButtons"],["expand","full","fill","clear","routerLink","/subscription",1,"OutlinedButtons"],["lines","none"],["slot","start"],[3,"src","alt"],[3,"click"],["src","assets/icons/editPet.svg",1,"edit-icon"]],template:function(n,p){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),e.EFF(3,"My Pets"),e.k0s()()(),e.nrm(4,"br"),e.j41(5,"ion-content",1)(6,"ion-list"),e.DNE(7,h,8,3,"ion-item",2),e.k0s(),e.j41(8,"div",3)(9,"ion-button",4),e.EFF(10," + Add More Pets "),e.k0s(),e.j41(11,"ion-button",5),e.EFF(12," Continue "),e.k0s()()()),2&n&&(e.R7$(7),e.Y8G("ngForOf",p.myPets))},dependencies:[d.Sq,s.mC,s.Jm,s.W9,s.eU,s.uz,s.he,s.nf,s.Zx,s.BC,s.ai,s.N7,u.Wk],styles:["ion-item[_ngcontent-%COMP%]{--background: white;border-radius:20px;height:auto;--padding-start: 20px;--padding-end: 20px;--padding-top: 12px;--padding-bottom: 12px;margin-bottom:1.5rem;margin-left:12px;margin-right:12px}ion-list[_ngcontent-%COMP%]{background:var(--background-color)}ion-thumbnail[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:20px;height:auto}.fixedFooter[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:var(--background-color)}"]}),i})()}];let t=(()=>{var o;class i{}return(o=i).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(y),u.iI]}),i})(),r=(()=>{var o;class i{}return(o=i).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[d.MD,P.YN,s.bv,t]}),i})()},1572:(I,c,a)=>{a.d(c,{d:()=>f});var d=a(496),P=a(5109),s=a(878),u=a(315),g=a(6e3),e=a(4003);let f=(()=>{var h;class ${constructor(t,r){this.http=t,this.storage=r,this.apiUrl=s.c.apiUrl,this.petId=null}addPet(t){for(const[o,i]of t.entries())console.log(`${o}: ${i}`);const r=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/store`,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}getPets(){const t=localStorage.getItem("token");return d.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${t}`}})}getPetsByOwnerId(t){const r=localStorage.getItem("token");return(0,P.H)(d.A.get(`${this.apiUrl}/api/pet_owners/${t}/pets`,{headers:{Authorization:`Bearer ${r}`}}).then(o=>(console.log("Pets by Owner ID response:",o),o.data.data)).catch(o=>{throw console.error("Error fetching pets by owner ID:",o),o}))}getAllPets(){const t=localStorage.getItem("token");return d.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${t}`}})}fetchAllPets(){return this.getAllPets().then(t=>(console.log("All Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching all pets:",t),t})}fetchPets(){return this.getPets().then(t=>(console.log("Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching pets:",t),t})}getPet(t){return this.http.get(`${this.apiUrl}/api/pet/${t}`)}storePet(t){return this.http.post(`${this.apiUrl}/api/pet`,t)}updatePet(t,r){console.log("pet in pet-info.service====>",r);const o=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/update/${t}`,r,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(t,r){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${t}`,{is_lost:r?1:0},{headers:{Authorization:`Bearer ${o}`}})}updateAdoptionStatus(t,r){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${t}`,{allow_adoption:r?1:0},{headers:{Authorization:`Bearer ${o}`}})}deleteImage(t){const r=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${t}`,{},{headers:{Authorization:`Bearer ${r}`}})}updateImage(t,r){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${t}`,r,{headers:{Authorization:`Bearer ${o}`}})}deletePet(t){const r=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${r}`}})}setPetId(t){this.petId=t}getPetId(){return this.petId}markPetAsLost(t){return this.http.post(`${this.apiUrl}/api/pet/lost/${t}`,{})}markPetAsFound(t){return this.http.post(`${this.apiUrl}/api/pet/found/${t}`,{})}getOwnerIdByEmail(t){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:t}})}updatePetOwner(t,r){return this.http.put(`${this.apiUrl}/api/pets/${t}`,{pet_owner_id:r})}addDocument(t,r){const o=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/${t}/documents`,r,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}uploadImage(t){return this.storage.ref(t).getDownloadURL().toPromise()}addLostPetByFounder(t){const r=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/addLostPetByFounder`,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const t=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${t}`}})}showLostPetByFounder(t){const r=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${r}`}})}deleteLostPetByFounder(t){const r=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${r}`}})}}return(h=$).\u0275fac=function(t){return new(t||h)(u.KVO(g.Qq),u.KVO(e.ap))},h.\u0275prov=u.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),$})()}}]);