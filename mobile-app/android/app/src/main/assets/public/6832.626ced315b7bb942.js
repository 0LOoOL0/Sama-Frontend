"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6832],{6832:(k,h,s)=>{s.r(h),s.d(h,{MyPageModule:()=>F});var f=s(9351),c=s(7199),p=s(7473),d=s(4170),v=s(5841),e=s(315),u=s(5822);function _(o,g){1&o&&(e.j41(0,"ion-note",13),e.EFF(1,"Female"),e.k0s())}function y(o,g){1&o&&(e.j41(0,"ion-note",13),e.EFF(1,"Male"),e.k0s())}function t(o,g){if(1&o&&(e.j41(0,"ion-note",13),e.EFF(1),e.nrm(2,"br"),e.EFF(3),e.nrm(4,"br"),e.EFF(5),e.nrm(6,"br"),e.EFF(7),e.k0s()),2&o){const r=e.XpG();e.R7$(),e.SpI(" ",r.profile.building_name," "),e.R7$(2),e.Lme(" ",r.profile.apt_number," , ",r.profile.floor," "),e.R7$(2),e.Lme(" ",r.profile.road,",",r.profile.block," "),e.R7$(2),e.SpI(" ",r.profile.city," ")}}function n(o,g){if(1&o&&(e.j41(0,"ion-note",13),e.EFF(1),e.nrm(2,"br"),e.EFF(3),e.nrm(4,"br"),e.EFF(5),e.k0s()),2&o){const r=e.XpG();e.R7$(),e.SpI(" ",r.profile.house," "),e.R7$(2),e.Lme(" ",r.profile.road,",",r.profile.block," "),e.R7$(2),e.SpI(" ",r.profile.city," ")}}function i(o,g){if(1&o&&(e.j41(0,"ion-note",13),e.EFF(1),e.nrm(2,"br"),e.EFF(3),e.nrm(4,"br"),e.EFF(5),e.k0s()),2&o){const r=e.XpG();e.R7$(),e.Lme(" ",r.profile.road,",",r.profile.block," "),e.R7$(2),e.E5c(" ",r.profile.building_name," , ",r.profile.floor," ",r.profile.company," "),e.R7$(2),e.SpI(" ",r.profile.city," ")}}const P=[{path:"",component:(()=>{var o;class g{constructor(l,a){this.router=l,this.authService=a,this.profile={}}ngOnInit(){var l=this;return(0,v.A)(function*(){try{l.profile=yield l.authService.fetchProfileData(),console.log("Profile:",l.profile)}catch(a){console.error("Error fetching profile data:",a)}})()}editProfile(){console.log("Navigating to edit profile page"),this.router.navigate(["/editprofile"]).then(l=>{console.log("Navigation success:",l)}).catch(l=>{console.error("Navigation error:",l)})}}return(o=g).\u0275fac=function(l){return new(l||o)(e.rXU(d.Ix),e.rXU(u.u))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-my"]],decls:57,vars:16,consts:[["slot","start"],[1,"ion-padding"],[1,"profile-header"],[1,"profile-container"],[1,"circul"],[1,"profile-image"],["alt","Profile Picture",1,"profile-image",3,"error","src"],[1,"profile-details"],["lines","none"],["fill","clear",1,"edit-button",3,"click"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 20.5H21M3.00003 20.5H4.67457C5.16376 20.5 5.40835 20.5 5.63852 20.4447C5.84259 20.3957 6.03768 20.3149 6.21663 20.2053C6.41846 20.0816 6.59141 19.9086 6.93732 19.5627L19.5001 6.99998C20.3285 6.17156 20.3285 4.82841 19.5001 3.99998C18.6716 3.17156 17.3285 3.17156 16.5001 3.99998L3.93729 16.5627C3.59139 16.9086 3.41843 17.0816 3.29475 17.2834C3.18509 17.4624 3.10428 17.6574 3.05529 17.8615C3.00003 18.0917 3.00003 18.3363 3.00003 18.8255V20.5Z","stroke","black","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["src","assets/icons/phone.svg",1,"icons"],["slot","end"],["src","assets/icons/email.svg",1,"icons"],["slot","start","name","mail-outline"],["slot","end",4,"ngIf"],["slot","start","name","calendar-outline"],["src","assets/icons/birthDay.svg",1,"icons"],["src","assets/icons/location-my.svg",1,"icons"],["src","assets/icons/nationality.svg",1,"icons"]],template:function(l,a){1&l&&(e.j41(0,"ion-buttons",0),e.nrm(1,"ion-back-button"),e.k0s(),e.j41(2,"ion-content",1)(3,"div",2)(4,"div",3)(5,"ion-card",4)(6,"ion-avatar",5)(7,"img",6),e.bIt("error",function(){return a.profile.profile_image="/assets/icons/no-profile.svg"}),e.k0s()()()()(),e.j41(8,"h2"),e.EFF(9),e.k0s(),e.j41(10,"p"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.j41(13,"ion-card",7)(14,"ion-list",8)(15,"ion-buttons")(16,"ion-button",9),e.bIt("click",function(){return a.editProfile()}),e.qSk(),e.j41(17,"svg",10),e.nrm(18,"path",11),e.k0s()()(),e.joV(),e.j41(19,"ion-item"),e.nrm(20,"img",12),e.j41(21,"ion-label"),e.EFF(22,"Phone number"),e.k0s(),e.j41(23,"ion-note",13),e.EFF(24),e.k0s()(),e.j41(25,"ion-item"),e.nrm(26,"img",14),e.j41(27,"ion-label"),e.EFF(28,"Email"),e.k0s(),e.j41(29,"ion-note",13),e.EFF(30),e.k0s()(),e.j41(31,"ion-item"),e.nrm(32,"ion-icon",15),e.j41(33,"ion-label"),e.EFF(34,"Gender"),e.k0s(),e.DNE(35,_,2,0,"ion-note",16)(36,y,2,0,"ion-note",16),e.k0s(),e.j41(37,"ion-item"),e.nrm(38,"ion-icon",17)(39,"img",18),e.j41(40,"ion-label"),e.EFF(41,"Date of birth"),e.k0s(),e.j41(42,"ion-note",13),e.EFF(43),e.k0s()(),e.j41(44,"ion-item"),e.nrm(45,"img",19),e.j41(46,"ion-label"),e.EFF(47,"Locations"),e.k0s(),e.DNE(48,t,8,6,"ion-note",16)(49,n,6,4,"ion-note",16)(50,i,6,6,"ion-note",16),e.k0s(),e.j41(51,"ion-item"),e.nrm(52,"img",20),e.j41(53,"ion-label"),e.EFF(54,"Nationality"),e.k0s(),e.j41(55,"ion-note",13),e.EFF(56),e.k0s()()()()()),2&l&&(e.R7$(7),e.Y8G("src",a.profile.profile_image,e.B4B),e.R7$(2),e.Lme("",a.profile.first_name," ",a.profile.last_name,""),e.R7$(2),e.SpI("Joined :",e.i5U(12,13,a.profile.created_at,"yyyy-MM-dd"),""),e.R7$(13),e.JRh(a.profile.phone),e.R7$(6),e.JRh(a.profile.email),e.R7$(5),e.Y8G("ngIf","f"===a.profile.gender),e.R7$(),e.Y8G("ngIf","m"===a.profile.gender),e.R7$(7),e.JRh(a.profile.date_of_birth),e.R7$(5),e.Y8G("ngIf","apartment"==a.profile.location),e.R7$(),e.Y8G("ngIf","house"==a.profile.location),e.R7$(),e.Y8G("ngIf","office"==a.profile.location),e.R7$(6),e.JRh(a.profile.nationality))},dependencies:[f.bT,p.mC,p.Jm,p.QW,p.b_,p.W9,p.iq,p.uz,p.he,p.nf,p.JI,p.el,f.vh],styles:[".profile-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;--padding: 30px ;position:relative;background:url(/assets/frem.svg) no-repeat center center/cover;--background-width: 100%;--background-color: rgba(255, 255, 255, .7);opacity:.25;--background-color: #dfe3e7}.circul[_ngcontent-%COMP%]{border-radius:50%;--margin-top: 70px;-webkit-margin-bottom-collapse:collapse;--margin-bottom:16px;margin:20px 0;position:relative;width:140px;height:140px;background-color:#fff;align-items:center;text-align:center}.circul[_ngcontent-%COMP%]   .profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;margin:5px 0;position:absolute}.icons[_ngcontent-%COMP%]{width:18px;height:18px;vertical-align:middle;margin-right:4px}.background-image[_ngcontent-%COMP%]{color:var(--GrayColor)}h2[_ngcontent-%COMP%]{font-size:22px;text-align:center;align-items:center;margin:5px 16px}p[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);text-align:center;align-items:center;margin:5px 16px}ion-list[_ngcontent-%COMP%]{--max-height: 100%}.profile-details[_ngcontent-%COMP%]{border-radius:20px;position:relative;margin:24px;box-shadow:0 4px 8px #0000001a}.profile-details[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{display:flex;justify-content:end}.profile-details[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{justify-content:space-evenly}"]}),g})()}];let m=(()=>{var o;class g{}return(o=g).\u0275fac=function(l){return new(l||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[d.iI.forChild(P),d.iI]}),g})(),F=(()=>{var o;class g{}return(o=g).\u0275fac=function(l){return new(l||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[f.MD,c.YN,p.bv,m]}),g})()},5822:(k,h,s)=>{s.d(h,{u:()=>e});var f=s(5841),c=s(496),p=s(878),d=s(315),v=s(6e3);c.A.defaults.withCredentials=!0;let e=(()=>{var u;class _{constructor(t){this.http=t,this.apiUrl=p.c.apiUrl}getCSRFToken(){return c.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(t){var n=this;return(0,f.A)(function*(){return yield n.getCSRFToken(),c.A.post(`${n.apiUrl}/api/register`,t).then(i=>(localStorage.setItem("token",i.data.token),i.data)).catch(i=>{throw console.error("Login error:",i),i})})()}checkEmail(t){return c.A.post(`${this.apiUrl}/api/check-email`,{email:t})}sendVerificationCode(t){return c.A.post(`${this.apiUrl}/api/send-verification-code`,{email:t})}verifyCode(t){return c.A.post(`${this.apiUrl}/api/verify-code`,t)}login(t){var n=this;return(0,f.A)(function*(){return yield n.getCSRFToken(),c.A.post(`${n.apiUrl}/api/login`,t).then(i=>(localStorage.setItem("token",i.data.token),i.data)).catch(i=>{throw console.error("Login error:",i),i})})()}logout(){const t=localStorage.getItem("token");return c.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${t}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var t=this;return(0,f.A)(function*(){const n=localStorage.getItem("token");return(yield c.A.get(`${t.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${n}`}})).data.data})()}fetchProfileData(){var t=this;return(0,f.A)(function*(){try{const n=yield t.getProfile();return console.log("Profile response:",n),n}catch(n){throw console.error("Error fetching profile:",n),n}})()}getPetOwnerData(t){const n=localStorage.getItem("token");return c.A.get(`${this.apiUrl}/api/pet_owner/${t}`,{headers:{Authorization:`Bearer ${n}`}})}fetchPetOwnerData(t){return console.log("th id in auth=====>",t),this.getPetOwnerData(t).then(n=>(console.log("pet owner data:",n),n.data.data)).catch(n=>{throw console.error("Error fetching pet owner:",n),n})}updateProfile(t,n){const i=localStorage.getItem("token");return c.A.put(`${this.apiUrl}/api/pet_owner/${n}`,t,{headers:{Authorization:`Bearer ${i}`}})}updateProfileImage(t,n){const i=localStorage.getItem("token");return c.A.post(`${this.apiUrl}/api/pet_owner/image/${n}`,t,{headers:{Authorization:`Bearer ${i}`}})}updatePass(t,n,i){var M=this;return(0,f.A)(function*(){const P=localStorage.getItem("token");try{return(yield c.A.put(`${M.apiUrl}/api/pet-owners/update-password`,{email:t,password:n,password_confirmation:i},{headers:{Authorization:`Bearer ${P}`}})).data}catch(m){throw console.error("Error updating password:",m),m}})()}}return(u=_).\u0275fac=function(t){return new(t||u)(d.KVO(v.Qq))},u.\u0275prov=d.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),_})()}}]);