"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4451],{8525:(x,f,l)=>{l.d(f,{$:()=>F});var p=l(5841),a=l(496),v=l(878),h=l(5109),e=l(6200),C=l(315);a.A.defaults.withCredentials=!0;let F=(()=>{var u;class M{constructor(){this.apiUrl=`${v.c.apiUrl}/api`,a.A.interceptors.request.use(i=>{const d=localStorage.getItem("token");return d&&(i.headers.Authorization=`Bearer ${d}`),i},i=>Promise.reject(i))}getAllProviders(){return a.A.get(`${this.apiUrl}/providers`)}getProviderById(i){return a.A.get(`${this.apiUrl}/providers/${i}`)}getProviderById2(i){return(0,h.H)(a.A.get(`${this.apiUrl}/providers/${i}`)).pipe((0,e.T)(d=>d.data))}createProvider(i){return a.A.post(`${this.apiUrl}/providers`,i)}getAllProviders2(){var i=this;return(0,p.A)(function*(){return a.A.get(`${i.apiUrl}/providers`).then(d=>d.data)})()}updateProvider(i,d){return a.A.put(`${this.apiUrl}/providers/${i}`,d)}deleteProvider(i){return a.A.delete(`${this.apiUrl}/providers/${i}`)}getServicesByProviderId(i){return a.A.get(`${this.apiUrl}/providers/${i}/services`)}getProductsByProviderId(i){return a.A.get(`${this.apiUrl}/providers/${i}/products`)}getVeterinariansByProviderId(i){return a.A.get(`${this.apiUrl}/providers/${i}/veterinarians`)}getVeterianById(i){return a.A.get(`${this.apiUrl}/veterinarians/${i}`)}getServiceById(i){return a.A.get(`${this.apiUrl}/services/${i}`)}getProductById(i){return a.A.get(`${this.apiUrl}/products/${i}`)}getServiceReviewsByServiceId(i){return a.A.get(`${this.apiUrl}/services/${i}/reviews`)}getPetOwnerById(i){return a.A.get(`${this.apiUrl}/pet_owners/${i}`)}getProductReviewsByProductId(i){return a.A.get(`${this.apiUrl}/products/${i}/reviews`)}getProviderByName(i){return(0,h.H)(a.A.get(`${this.apiUrl}/providers/name/${i}`))}addReview(i){var d=this;return(0,p.A)(function*(){try{console.log("Review data before sending:",i);const c=yield a.A.post(`${d.apiUrl}/reviews`,i);return console.log("Server response:",c.data),c.data}catch(c){throw console.error("Error adding review:",c),c}})()}getAverageRatingByProviderId(i){var d=this;return(0,p.A)(function*(){try{const m=(yield d.getServicesByProviderId(i)).data;let _=0,b=0;for(const O of m)(yield d.getServiceReviewsByServiceId(O.id)).data.forEach(I=>{b+=I.rate,_++});return _>0?b/_:0}catch(c){throw console.error("Error calculating average rating:",c),c}})()}getAverageRatingByProductId(i){var d=this;return(0,p.A)(function*(){try{const m=(yield a.A.get(`${d.apiUrl}/products/${i}/reviews`)).data;return 0===m.length?null:m.reduce((b,y)=>b+y.rate,0)/m.length}catch(c){throw console.error("Error fetching reviews:",c),c}})()}}return(u=M).\u0275fac=function(i){return new(i||u)},u.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),M})()},4451:(x,f,l)=>{l.r(f),l.d(f,{VetdetailsPageModule:()=>I});var p=l(9351),a=l(7199),v=l(7473),h=l(4170),e=l(315),C=l(8525),F=l(1851),u=l(5110);function M(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",29),e.bIt("click",function(){const t=e.eBV(n).$implicit,g=e.XpG(2);return e.Njj(g.navigateToDrProfile(t.id))}),e.j41(1,"div",30),e.nrm(2,"img",31),e.k0s(),e.j41(3,"div",32)(4,"ion-label",33),e.EFF(5),e.k0s()()()}if(2&r){const n=s.$implicit;e.R7$(2),e.Y8G("src",n.picture,e.B4B),e.R7$(3),e.SpI(" ",n.name," ")}}function k(r,s){if(1&r&&(e.j41(0,"div")(1,"ion-label",6),e.EFF(2),e.k0s(),e.j41(3,"div",26)(4,"div",27),e.DNE(5,M,6,2,"div",28),e.k0s()()()),2&r){const n=e.XpG();e.R7$(2),e.SpI(" ",n.job," "),e.R7$(3),e.Y8G("ngForOf",n.veterinarians)}}function i(r,s){if(1&r&&(e.j41(0,"div",34),e.EFF(1),e.k0s()),2&r){const n=s.$implicit;e.HbH(n.available?"DayAvailable":"DayNotAvailable"),e.R7$(),e.SpI(" ",n.name," ")}}function d(r,s){1&r&&(e.j41(0,"ion-segment-button",35)(1,"ion-label"),e.EFF(2,"Services"),e.k0s()())}function c(r,s){1&r&&(e.j41(0,"ion-segment-button",36)(1,"ion-label"),e.EFF(2,"Products"),e.k0s()())}function m(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",38),e.bIt("click",function(){const t=e.eBV(n).$implicit,g=e.XpG(2);return e.Njj(g.navigateToProviderService(t.id))}),e.j41(1,"div",39),e.nrm(2,"img",40),e.k0s(),e.j41(3,"div",2)(4,"div",41)(5,"div")(6,"ion-label",6),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.k0s(),e.j41(9,"div",42)(10,"ion-label",43),e.EFF(11),e.k0s(),e.nrm(12,"br"),e.j41(13,"ion-label",44),e.EFF(14,"OFF"),e.k0s()()(),e.j41(15,"div",2)(16,"div",45)(17,"ion-label",9),e.EFF(18),e.k0s()(),e.j41(19,"div",46)(20,"ion-label",47),e.EFF(21),e.nI1(22,"currency"),e.k0s(),e.j41(23,"ion-label",48),e.EFF(24),e.nI1(25,"currency"),e.k0s()()()()()}if(2&r){const n=s.$implicit;e.R7$(2),e.Y8G("src",null==n?null:n.image,e.B4B),e.R7$(5),e.SpI(" ",n.title," "),e.R7$(4),e.SpI("",null==n?null:n.percentage,"%"),e.R7$(7),e.SpI(" ",n.short_description," "),e.R7$(3),e.JRh(e.bMT(22,6,null==n?null:n.old_price)),e.R7$(3),e.JRh(e.bMT(25,8,null==n?null:n.new_price))}}function _(r,s){if(1&r&&(e.j41(0,"div"),e.nrm(1,"br"),e.DNE(2,m,26,10,"div",37),e.k0s()),2&r){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.services)}}function b(r,s){if(1&r){const n=e.RV6();e.j41(0,"div",38),e.bIt("click",function(){const t=e.eBV(n).$implicit,g=e.XpG(2);return e.Njj(g.navigateToProductDetails(t.id))}),e.j41(1,"div",39),e.nrm(2,"img",49),e.k0s(),e.j41(3,"div",2)(4,"div",41)(5,"div")(6,"ion-label",6),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.k0s(),e.j41(9,"div",42)(10,"ion-label",43),e.EFF(11),e.k0s(),e.nrm(12,"br"),e.j41(13,"ion-label",44),e.EFF(14,"OFF"),e.k0s()()(),e.j41(15,"div",2)(16,"div",45)(17,"ion-label",9),e.EFF(18),e.k0s()(),e.j41(19,"div",46)(20,"ion-label",47),e.EFF(21),e.nI1(22,"currency"),e.k0s(),e.j41(23,"ion-label",48),e.EFF(24),e.nI1(25,"currency"),e.k0s()()()()()}if(2&r){const n=s.$implicit;e.R7$(2),e.Y8G("src",n.images[0],e.B4B),e.R7$(5),e.SpI(" ",n.name," "),e.R7$(4),e.SpI("",null==n?null:n.percentage,"%"),e.R7$(7),e.SpI(" ",n.description," "),e.R7$(3),e.JRh(e.bMT(22,6,n.old_price)),e.R7$(3),e.JRh(e.bMT(25,8,null==n?null:n.new_price))}}function y(r,s){if(1&r&&(e.j41(0,"div"),e.nrm(1,"br"),e.DNE(2,b,26,10,"div",37),e.k0s()),2&r){const n=e.XpG();e.R7$(2),e.Y8G("ngForOf",n.products)}}const $=[{path:"",component:(()=>{var r;class s{constructor(o,t,g,P){this.activatedRoute=o,this.providerService=t,this.productService=g,this.navCtrl=P,this.services=[],this.availability=[],this.segment="services",this.products=[],this.veterinarians=[],this.servicesImage="assets/R.jpeg",this.days=[{name:"M",key:"mon",available:!1},{name:"T",key:"tue",available:!1},{name:"W",key:"wed",available:!1},{name:"T",key:"thu",available:!1},{name:"F",key:"fri",available:!1},{name:"S",key:"sat",available:!1},{name:"S",key:"sun",available:!1}],this.slideOpts={slidesPerView:1.5,spaceBetween:10,freeMode:!0}}ngOnInit(){this.providerId=+this.activatedRoute.snapshot.paramMap.get("id"),this.type=this.activatedRoute.snapshot.paramMap.get("type"),this.providerId&&(this.loadProviderDetails(this.providerId),this.loadServices(this.providerId),this.loadProducts(this.providerId),this.loadVeterinarians(this.providerId)),"groomers"===this.type&&(this.job="Groomers"),"vet clinics"===this.type&&(this.job="Clinic Doctors")}loadProviderDetails(o){this.providerService.getProviderById(o).then(t=>{var g;this.provider=Array.isArray(t.data)?t.data[0]:t.data,null!==(g=this.provider)&&void 0!==g&&g.availability&&(this.availability=JSON.parse(this.provider.availability),this.updateAvailability())},t=>{console.error("Error fetching provider details:",t)})}updateAvailability(){this.days.forEach(o=>{o.available=this.availability.includes(o.key)})}loadServices(o){this.providerService.getServicesByProviderId(o).then(t=>{console.log("Services fetched successfully:",t.data),this.services=t.data}).catch(t=>{console.error("Error fetching services:",t)})}loadProducts(o){this.productService.getProductsByProvider(o).subscribe(t=>{console.log("Products fetched successfully:",t),this.products=t},t=>{console.error("Error fetching products:",t)})}loadVeterinarians(o){this.providerService.getVeterinariansByProviderId(o).then(t=>{this.veterinarians=t.data,console.log("Veterinarians fetched successfully:",this.veterinarians)}).catch(t=>{console.error("Error fetching veterinarians:",t)})}openEmail(o){o&&(window.location.href=`mailto:${o}`)}callNumber(o){o&&(window.location.href=`tel:${o}`)}goBack(){window.history.back()}navigateToProviderService(o){this.navCtrl.navigateForward(`/providerservice/${o}`)}navigateToDrProfile(o){this.navCtrl.navigateForward(`/drprofile/${o}`)}navigateToProductDetails(o){this.navCtrl.navigateForward(`/product-details/${o}`)}}return(r=s).\u0275fac=function(o){return new(o||r)(e.rXU(h.nX),e.rXU(C.$),e.rXU(F.b),e.rXU(u.q9))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-vetdetails"]],decls:58,vars:10,consts:[["slot","start"],[1,"ion-padding"],[1,"MakeItFlexAsAColumn"],[1,"profile-image"],[3,"src"],[1,"title","MakeItFlexAsAColumn"],[1,"blackTitleFont"],[1,"location"],["src","assets/icons/location.svg",1,"icon"],[1,"bodyFont"],[1,"FlexSpaceInBetween","MakeItFlex"],[1,"MakeItFlex"],[1,"bodyFont","review"],["src","assets/icons/Star.svg",1,"icon"],[1,"MakeItFlexAsAColumnNoCenter"],["fill","clear",1,"whiteButton",3,"click"],["src","assets/icons/phone.svg",1,"icon"],["src","assets/icons/paperPlane.svg",1,"icon"],[4,"ngIf"],["class","MakeItFlex MakeItCenter",3,"class",4,"ngFor","ngForOf"],[1,"Hours"],[1,"textGray"],["value","services",3,"ngModelChange","ngModel"],["value","services",4,"ngIf"],["value","products",4,"ngIf"],[1,"MakeItCenter","fullWidth"],[1,"Scrollable"],[1,"MakeItFlexAtTheStart"],["class","Doctor",3,"click",4,"ngFor","ngForOf"],[1,"Doctor",3,"click"],[1,"DRImgs"],["alt","Doctor Image",3,"src"],[1,"break-word"],["id","drName",1,"bodyFont","boldFont"],[1,"MakeItFlex","MakeItCenter"],["value","services"],["value","products"],["class","Container MakeItFlexAtTheStart",3,"click",4,"ngFor","ngForOf"],[1,"Container","MakeItFlexAtTheStart",3,"click"],[1,"ImgContainer"],["alt","Service Image",3,"src"],[1,"info","FlexSpaceInBetween"],[1,"discount"],[1,"titleFont","percent"],[1,"titleFont"],[1,"desc"],[1,"MakeItFlex","prices"],[1,"old-price","bodyFont","blackTitleFont"],["id","new-price",1,"blackTitleFont","boldFont"],["alt","Product Image",3,"src"]],template:function(o,t){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e.nrm(3,"ion-back-button"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2)(6,"ion-avatar",3),e.nrm(7,"img",4),e.k0s(),e.nrm(8,"br"),e.j41(9,"div",5)(10,"ion-label",6),e.EFF(11),e.k0s(),e.j41(12,"div",7),e.nrm(13,"img",8),e.j41(14,"ion-label",9),e.EFF(15),e.k0s()()()(),e.nrm(16,"br"),e.j41(17,"div",10)(18,"div",11)(19,"ion-label",12),e.EFF(20,"5.0"),e.k0s(),e.nrm(21,"img",13)(22,"img",13)(23,"img",13)(24,"img",13)(25,"img",13),e.k0s(),e.j41(26,"ion-label",9),e.EFF(27,"230 review"),e.k0s()(),e.nrm(28,"br"),e.j41(29,"div",14)(30,"ion-label",6),e.EFF(31," Contact "),e.k0s(),e.j41(32,"div",11)(33,"ion-button",15),e.bIt("click",function(){return t.callNumber(null==t.provider?null:t.provider.contact_no)}),e.nrm(34,"img",16),e.k0s(),e.j41(35,"ion-button",15),e.bIt("click",function(){return t.openEmail(null==t.provider?null:t.provider.email)}),e.nrm(36,"img",17),e.k0s()()(),e.nrm(37,"br"),e.DNE(38,k,6,2,"div",18),e.nrm(39,"br"),e.j41(40,"ion-label",6),e.EFF(41," Availability "),e.k0s(),e.j41(42,"div",11),e.DNE(43,i,2,3,"div",19),e.k0s(),e.nrm(44,"br"),e.j41(45,"div",20)(46,"ion-label",21),e.EFF(47,"Hours: "),e.j41(48,"span",9),e.EFF(49,"9:00am - 2:00pm"),e.k0s()()(),e.nrm(50,"br"),e.j41(51,"ion-segment",22),e.mxI("ngModelChange",function(P){return e.DH7(t.segment,P)||(t.segment=P),P}),e.DNE(52,d,3,0,"ion-segment-button",23)(53,c,3,0,"ion-segment-button",24),e.k0s(),e.j41(54,"div",25),e.DNE(55,_,3,1,"div",18),e.k0s(),e.j41(56,"div",25),e.DNE(57,y,3,1,"div",18),e.k0s()()),2&o&&(e.R7$(7),e.Y8G("src",null==t.provider?null:t.provider.profile_image,e.B4B),e.R7$(4),e.JRh(null==t.provider?null:t.provider.name),e.R7$(4),e.SpI("",null==t.provider?null:t.provider.address," "),e.R7$(23),e.Y8G("ngIf","pet stores"!==t.type&&"doctors"!==t.type),e.R7$(5),e.Y8G("ngForOf",t.days),e.R7$(8),e.R50("ngModel",t.segment),e.R7$(),e.Y8G("ngIf","pet stores"!==t.type),e.R7$(),e.Y8G("ngIf","doctors"!==t.type),e.R7$(2),e.Y8G("ngIf","services"===t.segment&&"pet stores"!==t.type),e.R7$(2),e.Y8G("ngIf","products"===t.segment&&"doctors"!==t.type))},dependencies:[p.Sq,p.bT,a.BC,a.vS,v.mC,v.Jm,v.QW,v.W9,v.eU,v.he,v.Gp,v.eP,v.ai,v.Je,v.el,p.oe],styles:["ion-buttons[_ngcontent-%COMP%]{margin-top:20px}.blackTitleFont[_ngcontent-%COMP%]{font-size:1.2rem}.icon[_ngcontent-%COMP%]{width:24px;height:auto}.break-word[_ngcontent-%COMP%]{word-break:break-word;overflow-wrap:break-word;white-space:normal}.fullWidth[_ngcontent-%COMP%]{width:100%}.profile-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;overflow:hidden}.title[_ngcontent-%COMP%]{padding:0 16px;border-bottom:1px solid var(--GrayColor)}.title[_ngcontent-%COMP%]   .blackTitleFont[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem}.title[_ngcontent-%COMP%]   .bodyFont[_ngcontent-%COMP%]{font-size:1rem}.title[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:flex;margin-top:10px}.title[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .review[_ngcontent-%COMP%]{margin-right:5px}.whiteButton[_ngcontent-%COMP%]{background-color:var(--White);border-radius:16px;margin-top:10px;margin-right:5px;--padding-start: 10px;--padding-end: 10px;--padding-top: 10px;--padding-bottom: 10px}.Scrollable[_ngcontent-%COMP%]{display:flex;align-items:flex-start;overflow:auto;margin-top:11px}.MakeItFlexAtTheStart[_ngcontent-%COMP%]{display:flex}.Doctor[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:200px;margin:5px 10px 5px 5px}.Doctor[_ngcontent-%COMP%]   .FlexSpaceInBetween[_ngcontent-%COMP%]{padding:0 10px}.DRImgs[_ngcontent-%COMP%]{min-width:150px;width:80%;height:150px;border-radius:16px;margin-bottom:10px;position:relative;overflow:hidden}.DRImgs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.textContainer[_ngcontent-%COMP%]{height:30%}#drName[_ngcontent-%COMP%]{margin-left:10px}",".DayAvailable[_ngcontent-%COMP%], .DayNotAvailable[_ngcontent-%COMP%]{width:14%;height:50px;border-radius:16px;margin-top:5px;margin-right:3px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:600;font-style:normal}.DayAvailable.DayAvailable[_ngcontent-%COMP%], .DayNotAvailable.DayAvailable[_ngcontent-%COMP%]{background-color:var(--Main-One);color:var(--White)}.DayAvailable.DayNotAvailable[_ngcontent-%COMP%], .DayNotAvailable.DayNotAvailable[_ngcontent-%COMP%]{border:1px solid var(--GrayColor);color:var(--GrayColor)}.Hours[_ngcontent-%COMP%]{border-top:1px solid var(--GrayColor)}ion-segment-button.md[_ngcontent-%COMP%]::part(native), ion-segment-button.ios[_ngcontent-%COMP%]::part(native){color:var(--GrayColor);font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:600;font-style:normal}ion-segment-button.ios[_ngcontent-%COMP%]::part(native){padding:10px}.segment-button-checked.md[_ngcontent-%COMP%]::part(native), .segment-button-checked.ios[_ngcontent-%COMP%]::part(native){background:var(--Accent-One);--indicator-box-shadow: none;color:var(--Main-Two);border-radius:16px;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-weight:600;font-style:normal}.segment-button-checked.md[_ngcontent-%COMP%]::part(native)   .segment-button-checked.ios[_ngcontent-%COMP%]::part(native), .segment-button-checked.ios[_ngcontent-%COMP%]::part(native)   .segment-button-checked.ios[_ngcontent-%COMP%]::part(native){padding:10px}ion-segment-button[_ngcontent-%COMP%]{--indicator-color: none;--indicator-box-shadow: none}.Container[_ngcontent-%COMP%]{background-color:var(--White);border-radius:16px;margin-bottom:10px;padding:16px;max-width:350px}.ImgContainer[_ngcontent-%COMP%]{min-width:100px;width:30%;min-height:100px;height:100%;border-radius:16px;position:relative;overflow:hidden}.ImgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100px;width:30%;min-height:100px;height:100%;object-fit:cover;object-position:center;border-radius:16px}.info[_ngcontent-%COMP%]{margin:10px}.info[_ngcontent-%COMP%]   .blackTitleFont[_ngcontent-%COMP%]{font-size:1rem}.discount[_ngcontent-%COMP%]{margin-left:20px}.discount[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{font-size:1.2rem}.desc[_ngcontent-%COMP%]{margin:0 10px 10px}.prices[_ngcontent-%COMP%]{padding:0 10px;width:100%}.prices[_ngcontent-%COMP%]   .blackTitleFont[_ngcontent-%COMP%]{font-size:1rem}.old-price[_ngcontent-%COMP%]{text-decoration:line-through;margin-right:10px}#new-price[_ngcontent-%COMP%]{color:var(--Main-Two)!important}"]}),s})()}];let R=(()=>{var r;class s{}return(r=s).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[h.iI.forChild($),h.iI]}),s})(),I=(()=>{var r;class s{}return(r=s).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[p.MD,a.YN,v.bv,R]}),s})()}}]);