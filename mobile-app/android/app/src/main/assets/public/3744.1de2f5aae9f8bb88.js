"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3744],{3744:(S,y,d)=>{d.r(y),d.d(y,{MainsPageModule:()=>z});var u=d(9351),l=d(7199),v=d(7473),P=d(4170),b=d(5841),$=d(8580),t=d(315),h=d(5822),C=d(1572),p=d(1851),e=d(8525),r=d(8454),a=d(1301);const _=(s,g)=>({segButtonClicked:s,segButtonNotClicked:g});function M(s,g){1&s&&(t.j41(0,"p",63),t.EFF(1," No pets available. "),t.k0s())}function O(s,g){if(1&s){const o=t.RV6();t.j41(0,"div")(1,"div",66)(2,"ion-avatar")(3,"img",67),t.bIt("click",function(){const n=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.viewPetDetails(n))})("error",function(){const n=t.eBV(o).$implicit;return t.Njj(n.imageUrl="/assets/icons/no-profile.svg")}),t.k0s()(),t.j41(4,"p",68),t.EFF(5),t.k0s()()()}if(2&s){const o=g.$implicit;t.R7$(3),t.Y8G("src",o.imageUrl,t.B4B)("alt",o.name),t.R7$(2),t.JRh(o.name)}}function A(s,g){if(1&s&&(t.j41(0,"div",64),t.DNE(1,O,6,3,"div",65),t.k0s()),2&s){const o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.pets)}}function T(s,g){if(1&s){const o=t.RV6();t.j41(0,"div",79),t.bIt("click",function(){t.eBV(o);const n=t.XpG().$implicit,c=t.XpG();return t.Njj(c.addToFavorites(n))}),t.nrm(1,"img",82),t.k0s()}}function B(s,g){if(1&s){const o=t.RV6();t.j41(0,"div",79),t.bIt("click",function(){t.eBV(o);const n=t.XpG().$implicit,c=t.XpG();return t.Njj(c.addToFavorites(n))}),t.nrm(1,"img",83),t.k0s()}}function x(s,g){if(1&s&&(t.j41(0,"ion-label",84),t.EFF(1),t.k0s()),2&s){const o=t.XpG().$implicit;t.R7$(),t.SpI("x",o.quantity,"")}}function E(s,g){if(1&s){const o=t.RV6();t.j41(0,"div",69)(1,"div",70),t.bIt("click",function(){const n=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.viewProduct(n))}),t.nrm(2,"img",71),t.k0s(),t.j41(3,"div",72)(4,"div",73)(5,"div",74)(6,"ion-label",75),t.EFF(7),t.k0s()(),t.j41(8,"ion-label",76),t.EFF(9),t.k0s()(),t.j41(10,"div",77),t.DNE(11,T,2,0,"div",78)(12,B,2,0,"div",78),t.j41(13,"div",79),t.bIt("click",function(){const n=t.eBV(o).$implicit,c=t.XpG();return t.Njj(c.addToCart(n,1))}),t.nrm(14,"img",80),t.DNE(15,x,2,1,"ion-label",81),t.k0s()()()()}if(2&s){const o=g.$implicit;t.R7$(2),t.FS9("alt",o.name),t.Y8G("src",o.images[0],t.B4B),t.R7$(5),t.JRh(o.name),t.R7$(2),t.SpI(" ",o.old_price,"BHD "),t.R7$(2),t.Y8G("ngIf",!o.isFavorite),t.R7$(),t.Y8G("ngIf",o.isFavorite),t.R7$(3),t.Y8G("ngIf",o.isInCart)}}function j(s,g){if(1&s){const o=t.RV6();t.j41(0,"div",87),t.bIt("click",function(){const n=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.navigateToInfo(n.id))}),t.j41(1,"div",88)(2,"img",89),t.bIt("error",function(){const n=t.eBV(o).$implicit;return t.Njj(n.imageUrl="/assets/icons/no-profile.svg")}),t.k0s()(),t.j41(3,"div",2)(4,"ion-label",25),t.EFF(5),t.k0s(),t.nrm(6,"img",90),t.k0s(),t.j41(7,"div",91)(8,"div",2),t.nrm(9,"img",92),t.j41(10,"ion-label",93),t.EFF(11),t.k0s()(),t.j41(12,"ion-label",93),t.EFF(13),t.k0s()()()}if(2&s){const o=g.$implicit;t.R7$(2),t.FS9("alt",o.name),t.Y8G("src",o.imageUrl,t.B4B),t.R7$(3),t.JRh(o.name),t.R7$(),t.Y8G("src","m"===o.gender?"assets/icons/male.svg":"assets/icons/female.svg",t.B4B),t.R7$(5),t.SpI(" ",o.location," "),t.R7$(2),t.JRh(o.place)}}function w(s,g){if(1&s&&(t.j41(0,"div")(1,"div",85),t.DNE(2,j,14,6,"div",86),t.k0s()()),2&s){const o=t.XpG();t.R7$(2),t.Y8G("ngForOf",o.adopt)}}function R(s,g){if(1&s){const o=t.RV6();t.j41(0,"div",87),t.bIt("click",function(){const n=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.navigateToInfo(n.id))}),t.j41(1,"div",88),t.nrm(2,"img",94),t.k0s(),t.j41(3,"div",2)(4,"ion-label",25),t.EFF(5),t.k0s(),t.nrm(6,"img",90),t.k0s(),t.j41(7,"div",91)(8,"div",2),t.nrm(9,"img",92),t.j41(10,"ion-label",93),t.EFF(11),t.k0s()(),t.j41(12,"ion-label",93),t.EFF(13),t.k0s()()()}if(2&s){const o=g.$implicit;t.R7$(2),t.Y8G("src",o.image,t.B4B),t.R7$(3),t.JRh(o.name),t.R7$(),t.Y8G("src","m"===o.gender?"assets/icons/male.svg":"assets/icons/female.svg",t.B4B),t.R7$(5),t.SpI(" ",o.location," "),t.R7$(2),t.JRh(o.place)}}function U(s,g){if(1&s&&(t.j41(0,"div")(1,"div",85),t.DNE(2,R,14,5,"div",86),t.k0s()()),2&s){const o=t.XpG();t.R7$(2),t.Y8G("ngForOf",o.Lost)}}function L(s,g){if(1&s){const o=t.RV6();t.j41(0,"div",96)(1,"div",88)(2,"img",89),t.bIt("error",function(){const n=t.eBV(o).$implicit;return t.Njj(n.imageUrl="/assets/icons/no-profile.svg")}),t.k0s()(),t.j41(3,"div",2)(4,"ion-label",25),t.EFF(5),t.k0s(),t.nrm(6,"img",90),t.k0s(),t.j41(7,"div",91)(8,"div",2),t.nrm(9,"img",92),t.j41(10,"ion-label",93),t.EFF(11),t.k0s()(),t.j41(12,"ion-label",93),t.EFF(13),t.k0s()()()}if(2&s){const o=g.$implicit;t.R7$(2),t.FS9("alt",o.name),t.Y8G("src",o.imageUrl,t.B4B),t.R7$(3),t.JRh(o.name),t.R7$(),t.Y8G("src","m"===o.gender?"assets/icons/male.svg":"assets/icons/female.svg",t.B4B),t.R7$(5),t.SpI(" ",o.location," "),t.R7$(2),t.JRh(o.place)}}function D(s,g){if(1&s&&(t.j41(0,"div")(1,"div",85),t.DNE(2,L,14,6,"div",95),t.k0s()()),2&s){const o=t.XpG();t.R7$(2),t.Y8G("ngForOf",o.mate)}}const G=[{path:"",component:(()=>{var s;class g{constructor(i,n,c,m,F,I,f,k){this.authService=i,this.router=n,this.petInfoService=c,this.productService=m,this.providerService=F,this.cartService=I,this.toastController=f,this.favService=k,this.profile={},this.pets=[],this.petListType=0,this.products=[],this.Lost=[],this.buttonText="Adopt"}ngOnInit(){this.authService.fetchProfileData().then(i=>{this.profile=i,console.log("Profile data:",this.profile)}).catch(i=>{console.error("Error fetching profile data:",i)}),this.petInfoService.fetchPets().then(i=>{this.pets=i,this.loadImages(this.pets),console.log(" this.pets:",this.pets),console.log("this.pets ===> imageUrl:",this.pets)}).catch(i=>{console.error("Error fetching pets data:",i)}),this.petInfoService.fetchAllPets().then(i=>{this.AllPets=i,this.loadImages(this.AllPets),this.filterPets(),console.log("this.AllPets:",this.AllPets),console.log("this.AllPets ===> imageUrl:",this.AllPets)}).catch(i=>{console.error("Error fetching pets data:",i)}),this.petInfoService.fetchAllLostPets().subscribe(i=>{this.Lost=i.lostPets,console.log("Lost pets:",this.Lost)},i=>{console.error("Error fetching lost pets:",i)}),this.loadLastSixProducts()}loadImages(i){var n=this;return(0,b.A)(function*(){for(let c of i)c.image&&(c.imageUrl=yield n.petInfoService.uploadImage(c.image))})()}loadLastSixProducts(){this.providerService.getProviderByName("Sama Pet Store").subscribe(n=>{this.productService.getProductsByProvider(n.data.id).subscribe(m=>{console.log("Fetched products:",m),Array.isArray(m)?this.products=m.sort((F,I)=>new Date(I.created_at).getTime()-new Date(F.created_at).getTime()).slice(0,6):console.error("Expected an array of products but got:",m)},m=>{console.error("Error fetching products by provider ID:",m)})},n=>{console.error("Error fetching provider by name:",n)})}navigateToInfo(i){this.router.navigate(1===this.petListType?["/lostpetinfo",i]:["/adoptionpetinfo",i])}filterPets(){this.adopt=this.AllPets.filter(i=>1===i.allow_adoption),this.mate=this.AllPets.filter(i=>"yes"===i.is_neutered),console.log("Adopt:",this.adopt),console.log("Mate:",this.mate)}navigateTo(i){this.router.navigate([`/${i}`])}viewPetDetails(i){console.log("Navigating to details for pet:",i),this.router.navigate(["/petdetailes",i.id])}viewProfileDetails(i){console.log("Navigating to details for profile:",i),this.router.navigate(["/main",i.id])}showAdoption(){this.petListType=0,this.buttonText="Adopt"}showLostPet(){this.petListType=1,this.buttonText="Lost"}showMating(){this.petListType=2,this.buttonText="Mate"}getPets(){let i=[];return 0===this.petListType?i=this.adopt:1===this.petListType?i=this.Lost:2===this.petListType&&(i=this.mate),i}goToFavorite(){this.router.navigate(["/favorite"])}goToPetService(){this.router.navigate(["/pet-service"])}goToNotification(i){this.router.navigate(["/notification",i])}goToaddPet(){this.router.navigate(["/pet-profile"])}viewProduct(i){console.log("Navigating to details for product:",i),this.router.navigate(["/product-details",i.id])}clickButton(){0==this.petListType&&this.router.navigate(["/mypet"]),1==this.petListType&&this.router.navigate(["/lostform"])}addToCart(i,n){this.authService.fetchProfileData().then(c=>{const m=c.id;this.cartService.isProductInCart(m,i.id).subscribe(F=>{F?this.cartService.getCartsByPetOwnerId(m).subscribe(I=>{const f=I.find(k=>k.product_id===i.id);f&&void 0!==f.id&&(f.quantity+=n,this.cartService.updateCart(f.id,f).subscribe(()=>{i.isInCart=!0,i.quantity=f.quantity,console.log("Cart quantity updated"),this.presentToast("Product quantity updated in cart","success")},k=>{console.error("Error updating cart quantity:",k)}))}):this.cartService.createCart({id:0,pet_owner_id:m,product_id:i.id,quantity:n}).subscribe(()=>{i.isInCart=!0,i.quantity=n,console.log("Product added to cart"),this.presentToast("Product added to cart","success")},f=>{console.error("Error adding to cart:",f)})})})}presentToast(i,n="success"){var c=this;return(0,b.A)(function*(){(yield c.toastController.create({message:i,duration:2e3,color:n,position:"bottom"})).present()})()}addToFavorites(i){var n=this;this.authService.fetchProfileData().then(c=>{const m=c.id;this.favService.isProductInFavorites(m,i.id).subscribe(F=>{F?this.favService.getFavsByPetOwnerId(m).subscribe(I=>{const f=I.find(k=>k.provider_id===i.id);f&&void 0!==f.id&&this.favService.deleteFav(f.id).subscribe((0,b.A)(function*(){i.isFavorite=!1,console.log("Removed from favorites"),yield(0,$.P)(n.toastController," Removed from favorites","danger")}),k=>{console.error("Error removing from favorites:",k)})}):this.favService.createFav({pet_owner_id:m,product_id:i.id}).subscribe((0,b.A)(function*(){i.isFavorite=!0,yield(0,$.P)(n.toastController," Added to favorites","success")}),function(){var f=(0,b.A)(function*(k){console.error("Error adding to favorites:",k),yield(0,$.P)(n.toastController,"Error adding to favorites","danger")});return function(k){return f.apply(this,arguments)}}())})})}}return(s=g).\u0275fac=function(i){return new(i||s)(t.rXU(h.u),t.rXU(P.Ix),t.rXU(C.d),t.rXU(p.b),t.rXU(e.$),t.rXU(r.m),t.rXU(v.K_),t.rXU(a.L))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-mains"]],decls:137,vars:22,consts:[[1,"ion-padding"],["id","pfp and username",1,"profile-header","FlexSpaceInBetween"],[1,"MakeItFlex"],[1,"square"],[1,"parent"],["alt","Profile Picture",3,"error","click","src"],[1,"blackTitleFont","boldFont"],["id","icons",1,"MakeItFlex"],["src","assets/icons/heart.svg",3,"click"],["src","assets/icons/search.svg",3,"click"],["src","assets/icons/notif.svg",3,"click"],["id","Menu",1,"MakeItFlex"],["src","assets/icons/menu.svg"],["id","pet profiles"],[1,"NumberOfPets"],["routerLink","/mypet",1,"bodyFont","boldFont"],[1,"Scrollable"],[1,"AddButton"],["src","assets/icons/plus-purple.svg",3,"click"],["class","bodyFont noPets",4,"ngIf"],["class","pets",4,"ngIf"],["id","img",1,"MakeItCenter"],["src","assets/adv.svg"],[1,"MakeItCenter"],[1,"subscribe",2,"background-image","url('/assets/bg.svg')"],[1,"bodyFont","boldFont"],["fill","clear","routerLink","/subscription"],["id","services",1,"MakeItCenter"],[1,"Container"],[1,"FlexSpaceInBetween","MakeItFlex","Titles"],["routerLink","/pet-service",1,"bodyFont"],[1,"MakeItAGride"],[1,"serviceSquare",3,"click"],[1,"service","MakeItFlex","MakeItCenter"],["src","assets/icons/Syringe.svg"],[1,"bodyFont","LighFont","desc"],["src","assets/icons/PetFood.svg"],["src","assets/icons/HairComb.svg"],["src","assets/icons/logo.svg"],["id","sama-pet-store",1,"MakeItCenter"],["routerLink","/sama-pet-store",1,"bodyFont"],[1,"MakeItFlexAtTheStart"],["class","petStoreProduct",4,"ngFor","ngForOf"],["id","animalLists",1,"MakeItCenter"],["routerLink","/adoptionlist",1,"bodyFont"],[1,"FlexSpaceInBetween"],[1,"segments"],["fill","clear",3,"click","ngClass"],["fill","clear",1,"adoptButton",3,"click"],["id","location","src","assets/icons/plus-white.svg",1,"icon"],["id","big"],[4,"ngIf"],["slot","bottom"],["routerLink","/mains"],["src","assets/icons/home.svg"],["routerLink","/mypet"],["src","assets/icons/my-pets.svg"],["routerLink","/qr-card",1,"orangeCircle"],["src","assets/icons/navigation.svg"],["routerLink","/reminder"],["src","assets/icons/book.svg"],["routerLink","/main"],["src","assets/icons/profile.svg"],[1,"bodyFont","noPets"],[1,"pets"],[4,"ngFor","ngForOf"],[1,"petProfileSection"],[3,"click","error","src","alt"],[1,"bodyFont"],[1,"petStoreProduct"],[1,"petStoreImgs",3,"click"],[3,"src","alt"],[1,"FlexSpaceInBetween","textContainer"],[1,"titleAndPriceContainer"],[1,"titleContainer","break-word"],["id","title",1,"bodyFont","boldFont"],[1,"bodyFont","smallFont","boldFont","price"],[1,"MakeItFlex","smallimg"],[3,"click",4,"ngIf"],[3,"click"],["id","add","src","/assets/icons/plus-filled.svg"],["class","quantity-label",4,"ngIf"],["src","/assets/heart.svg",1,"icon"],["src","/assets/heartr.svg",1,"icon"],[1,"quantity-label"],[1,"MakeItFlexNoCenter"],["class","petStoreProduct FlexSpaceInBetween",3,"click",4,"ngFor","ngForOf"],[1,"petStoreProduct","FlexSpaceInBetween",3,"click"],[1,"petStoreImgs"],[3,"error","src","alt"],["id","gender",1,"icon",3,"src"],[1,"FlexSpaceInBetweenNoPadding"],["id","location","src","assets/icons/location.svg",1,"icon"],[1,"bodyFont","textGray"],[3,"src"],["class","petStoreProduct FlexSpaceInBetween",4,"ngFor","ngForOf"],[1,"petStoreProduct","FlexSpaceInBetween"]],template:function(i,n){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"img",5),t.bIt("error",function(){return n.profile.profile_image="/assets/icons/no-profile.svg"})("click",function(){return n.viewProfileDetails(n.profile)}),t.k0s()()(),t.j41(7,"ion-label",6),t.EFF(8),t.k0s()(),t.j41(9,"div",7)(10,"ion-thumbnail")(11,"img",8),t.bIt("click",function(){return n.goToFavorite()}),t.k0s()(),t.j41(12,"ion-thumbnail")(13,"img",9),t.bIt("click",function(){return n.goToPetService()}),t.k0s()(),t.j41(14,"ion-thumbnail")(15,"img",10),t.bIt("click",function(){return n.goToNotification(n.profile.id)}),t.k0s()()(),t.j41(16,"div",11)(17,"ion-thumbnail"),t.nrm(18,"img",12),t.k0s()()()()(),t.j41(19,"ion-content",0)(20,"div",13)(21,"div",2)(22,"ion-label",6),t.EFF(23,"Pet Profiles"),t.k0s(),t.j41(24,"div",14)(25,"p",15),t.EFF(26),t.k0s()()(),t.j41(27,"div",16)(28,"div",17)(29,"ion-thumbnail")(30,"img",18),t.bIt("click",function(){return n.goToaddPet()}),t.k0s()()(),t.DNE(31,M,2,0,"p",19)(32,A,2,1,"div",20),t.k0s()(),t.nrm(33,"br"),t.j41(34,"div",21),t.nrm(35,"img",22),t.k0s(),t.nrm(36,"br"),t.j41(37,"div",23)(38,"div",24)(39,"ion-label",25),t.EFF(40,"Not a member?"),t.k0s(),t.j41(41,"ion-button",26),t.EFF(42,"SUBSCRIBE"),t.k0s()()(),t.nrm(43,"br"),t.j41(44,"div",27)(45,"div",28)(46,"div",29)(47,"ion-label",6),t.EFF(48,"Pets Services"),t.k0s(),t.j41(49,"ion-label",30),t.EFF(50," See All "),t.k0s()(),t.j41(51,"div",31)(52,"div",32),t.bIt("click",function(){return n.navigateTo("vetclinic/vet clinics")}),t.j41(53,"div",33),t.nrm(54,"img",34),t.j41(55,"div")(56,"ion-label",25),t.EFF(57,"Vet clinics"),t.k0s(),t.nrm(58,"br"),t.j41(59,"ion-label",35),t.EFF(60,"(7 nearby)"),t.k0s()()()(),t.j41(61,"div",32),t.bIt("click",function(){return n.navigateTo("vetclinic/pet stores")}),t.j41(62,"div",33),t.nrm(63,"img",36),t.j41(64,"div")(65,"ion-label",25),t.EFF(66,"Pet Stores"),t.k0s(),t.nrm(67,"br"),t.j41(68,"ion-label",35),t.EFF(69,"(7 nearby)"),t.k0s()()()(),t.j41(70,"div",32),t.bIt("click",function(){return n.navigateTo("vetclinic/groomers")}),t.j41(71,"div",33),t.nrm(72,"img",37),t.j41(73,"div")(74,"ion-label",25),t.EFF(75,"Groomers"),t.k0s(),t.nrm(76,"br"),t.j41(77,"ion-label",35),t.EFF(78,"(7 nearby)"),t.k0s()()()(),t.j41(79,"div",32),t.bIt("click",function(){return n.navigateTo("sama-pet-store")}),t.j41(80,"div",33),t.nrm(81,"img",38),t.j41(82,"div")(83,"ion-label",25),t.EFF(84,"Sama pet store"),t.k0s(),t.nrm(85,"br"),t.j41(86,"ion-label",35),t.EFF(87,"(7 nearby)"),t.k0s()()()()()()(),t.nrm(88,"br"),t.j41(89,"div",39)(90,"div",28)(91,"div",29),t.nrm(92,"img",38),t.j41(93,"ion-label",6),t.EFF(94,"Sama store"),t.k0s(),t.j41(95,"ion-label",40),t.EFF(96,"See All"),t.k0s()(),t.j41(97,"div",16)(98,"div",41),t.DNE(99,E,16,7,"div",42),t.k0s()()()(),t.nrm(100,"br"),t.j41(101,"div",43)(102,"div",28)(103,"div",29)(104,"ion-label",6),t.EFF(105,"Explore Pets"),t.k0s(),t.j41(106,"ion-label",44),t.EFF(107," See All "),t.k0s()(),t.j41(108,"div",45)(109,"div",46)(110,"ion-button",47),t.bIt("click",function(){return n.showAdoption()}),t.EFF(111," Adoption "),t.k0s(),t.j41(112,"ion-button",47),t.bIt("click",function(){return n.showLostPet()}),t.EFF(113," Lost Pets "),t.k0s(),t.j41(114,"ion-button",47),t.bIt("click",function(){return n.showMating()}),t.EFF(115," Mating "),t.k0s()(),t.j41(116,"div",46)(117,"ion-button",48),t.bIt("click",function(){return n.clickButton()}),t.nrm(118,"img",49),t.j41(119,"div",50),t.EFF(120),t.k0s()()()(),t.j41(121,"div",16),t.DNE(122,w,3,1,"div",51)(123,U,3,1,"div",51)(124,D,3,1,"div",51),t.k0s()()()(),t.j41(125,"ion-tab-bar",52)(126,"ion-tab-button",53),t.nrm(127,"ion-icon",54),t.k0s(),t.j41(128,"ion-tab-button",55),t.nrm(129,"ion-icon",56),t.k0s(),t.j41(130,"div",57)(131,"ion-tab-button"),t.nrm(132,"ion-icon",58),t.k0s()(),t.j41(133,"ion-tab-button",59),t.nrm(134,"ion-icon",60),t.k0s(),t.j41(135,"ion-tab-button",61),t.nrm(136,"ion-icon",62),t.k0s()()),2&i&&(t.R7$(6),t.Y8G("src",n.profile.profile_image,t.B4B),t.R7$(2),t.SpI(" Hi, ",n.profile.first_name,"! "),t.R7$(18),t.JRh(n.pets.length),t.R7$(5),t.Y8G("ngIf",!n.pets||!n.pets.length),t.R7$(),t.Y8G("ngIf",n.pets&&n.pets.length),t.R7$(67),t.Y8G("ngForOf",n.products),t.R7$(11),t.Y8G("ngClass",t.l_i(13,_,0===n.petListType,0!==n.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(16,_,1===n.petListType,1!==n.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(19,_,2===n.petListType,2!==n.petListType)),t.R7$(6),t.JRh(n.buttonText),t.R7$(2),t.Y8G("ngIf",0===n.petListType),t.R7$(),t.Y8G("ngIf",1===n.petListType),t.R7$(),t.Y8G("ngIf",2===n.petListType))},dependencies:[u.YU,u.Sq,u.bT,v.mC,v.Jm,v.W9,v.eU,v.iq,v.he,v.Jq,v.qW,v.Zx,v.ai,v.N7,P.Wk],styles:[".blackTitleFont[_ngcontent-%COMP%]{font-size:1.1rem}.MakeItFlexAtTheStart[_ngcontent-%COMP%]{display:flex}ion-toolbar[_ngcontent-%COMP%]{--background-color: var(--White);border-radius:16px}.profile-header[_ngcontent-%COMP%]{padding:16px}.profile-header[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:10px}.profile-header[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]{width:50px;height:50px;position:relative;border-radius:50%;background-color:var(--White);overflow:hidden}.profile-header[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-size:cover;background-position:center}ion-thumbnail[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto}#icons[_ngcontent-%COMP%]{display:flex}#Menu[_ngcontent-%COMP%]{display:none}.Container[_ngcontent-%COMP%]{background-color:var(--White);border-radius:16px;padding:6px;width:100%;max-width:350px}.Titles[_ngcontent-%COMP%]{margin:10px}.Scrollable[_ngcontent-%COMP%]{display:flex;align-items:flex-start;overflow:auto;margin-top:11px}.NumberOfPets[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:30px;height:30px;background-color:var(--Main-One);border-radius:10px;margin-left:16px}.NumberOfPets[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--White)!important}.pets[_ngcontent-%COMP%]{display:flex}.noPets[_ngcontent-%COMP%]{margin-top:25px}.AddButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:48px;height:48px;border-radius:50%;border:2px dashed var(--Main-Two);margin-top:7px;margin-right:10px}.petProfileSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-right:10px}.petProfileSection[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.petProfileSection[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.petProfileSection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0}.subscribe[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:100%;max-width:350px;height:64px;border-radius:16px;padding-right:20px;padding-left:20px}.subscribe[_ngcontent-%COMP%]   .bodyFont[_ngcontent-%COMP%]{color:var(--White)!important}.subscribe[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-style:normal;text-align:center;border-radius:16px;background-color:var(--Main-One);color:#fff;padding:0 16px}",".serviceSquare[_ngcontent-%COMP%]{width:100%;padding:5px}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]{width:100%;min-height:120px;border-radius:16px;padding:10px;background-color:var(--Accent-One)}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;max-width:70px;width:30%}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{opacity:50%}.MakeItFlexNoCenter[_ngcontent-%COMP%]{display:flex}.petStoreProduct[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:200px;margin:5px 10px 5px 5px}.petStoreProduct[_ngcontent-%COMP%]   .FlexSpaceInBetween[_ngcontent-%COMP%]{padding:0 10px}.petStoreImgs[_ngcontent-%COMP%]{min-width:170px;width:80%;height:150px;border-radius:16px;margin-bottom:10px;position:relative;overflow:hidden}.petStoreImgs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.textContainer[_ngcontent-%COMP%]{height:30%}.price[_ngcontent-%COMP%]{margin-top:auto;color:var(--Main-Two)!important}#title[_ngcontent-%COMP%]{margin-bottom:5px}.smallimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.titleAndPriceContainer[_ngcontent-%COMP%]{width:60%;display:flex;flex-direction:column}.break-word[_ngcontent-%COMP%]{word-break:break-word;overflow-wrap:break-word;white-space:normal}#add[_ngcontent-%COMP%]{margin-left:5px}#locationInfo[_ngcontent-%COMP%]{margin-top:auto}#petname[_ngcontent-%COMP%]{margin-bottom:5px}.segments[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-style:normal;font-size:.69rem;text-align:center;border-radius:16px}.segments[_ngcontent-%COMP%]   #big[_ngcontent-%COMP%]{display:inline}.segButtonClicked[_ngcontent-%COMP%]{background-color:var(--Main-Two);color:#fff}.segButtonNotClicked[_ngcontent-%COMP%]{border:1px solid var(--GrayColor);background-color:var(--White);color:var(--GrayColor)}.adoptButton[_ngcontent-%COMP%]{background-color:var(--Main-One);color:#fff}.icon[_ngcontent-%COMP%]{width:17px;height:auto}#gender[_ngcontent-%COMP%]{margin-left:7px}#location[_ngcontent-%COMP%]{margin-right:5px}ion-tab-bar[_ngcontent-%COMP%]{--background: var(--Main-Two);margin:10px;border-radius:16px}.orangeCircle[_ngcontent-%COMP%]{background-color:var(--Main-One);border-radius:50%;width:65px;height:65px}@media screen and (max-width: 350px){#icons[_ngcontent-%COMP%]{display:none}#Menu[_ngcontent-%COMP%]{display:flex}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .bodyFont[_ngcontent-%COMP%]{font-size:.7rem!important}}@media screen and (max-width: 360px){.segments[_ngcontent-%COMP%]   #big[_ngcontent-%COMP%]{display:none}.segments[_ngcontent-%COMP%]   #location[_ngcontent-%COMP%]{margin-right:0}.icon[_ngcontent-%COMP%]{width:15px;height:auto}}@media screen and (max-width: 360px){.segments[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], .adopt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:.55rem}}"]}),g})()}];let N=(()=>{var s;class g{}return(s=g).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[P.iI.forChild(G),P.iI]}),g})(),z=(()=>{var s;class g{}return(s=g).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[u.MD,l.YN,v.bv,N]}),g})()},5822:(S,y,d)=>{d.d(y,{u:()=>$});var u=d(5841),l=d(496),v=d(878),P=d(315),b=d(6e3);l.A.defaults.withCredentials=!0;let $=(()=>{var t;class h{constructor(p){this.http=p,this.apiUrl=v.c.apiUrl}getCSRFToken(){return l.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(p){var e=this;return(0,u.A)(function*(){return yield e.getCSRFToken(),l.A.post(`${e.apiUrl}/api/register`,p).then(r=>(localStorage.setItem("token",r.data.token),r.data)).catch(r=>{throw console.error("Login error:",r),r})})()}checkEmail(p){return l.A.post(`${this.apiUrl}/api/check-email`,{email:p})}sendVerificationCode(p){return l.A.post(`${this.apiUrl}/api/send-verification-code`,{email:p})}verifyCode(p){return l.A.post(`${this.apiUrl}/api/verify-code`,p)}login(p){var e=this;return(0,u.A)(function*(){return yield e.getCSRFToken(),l.A.post(`${e.apiUrl}/api/login`,p).then(r=>(localStorage.setItem("token",r.data.token),r.data)).catch(r=>{throw console.error("Login error:",r),r})})()}logout(){const p=localStorage.getItem("token");return l.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${p}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var p=this;return(0,u.A)(function*(){const e=localStorage.getItem("token");return(yield l.A.get(`${p.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${e}`}})).data.data})()}fetchProfileData(){var p=this;return(0,u.A)(function*(){try{const e=yield p.getProfile();return console.log("Profile response:",e),e}catch(e){throw console.error("Error fetching profile:",e),e}})()}getPetOwnerData(p){const e=localStorage.getItem("token");return l.A.get(`${this.apiUrl}/api/pet_owner/${p}`,{headers:{Authorization:`Bearer ${e}`}})}fetchPetOwnerData(p){return console.log("th id in auth=====>",p),this.getPetOwnerData(p).then(e=>(console.log("pet owner data:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pet owner:",e),e})}updateProfile(p,e){const r=localStorage.getItem("token");return l.A.put(`${this.apiUrl}/api/pet_owner/${e}`,p,{headers:{Authorization:`Bearer ${r}`}})}updateProfileImage(p,e){const r=localStorage.getItem("token");return l.A.post(`${this.apiUrl}/api/pet_owner/image/${e}`,p,{headers:{Authorization:`Bearer ${r}`}})}updatePass(p,e,r){var a=this;return(0,u.A)(function*(){const _=localStorage.getItem("token");try{return(yield l.A.put(`${a.apiUrl}/api/pet-owners/update-password`,{email:p,password:e,password_confirmation:r},{headers:{Authorization:`Bearer ${_}`}})).data}catch(M){throw console.error("Error updating password:",M),M}})()}}return(t=h).\u0275fac=function(p){return new(p||t)(P.KVO(b.Qq))},t.\u0275prov=P.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),h})()},1572:(S,y,d)=>{d.d(y,{d:()=>t});var u=d(496),l=d(5109),v=d(878),P=d(315),b=d(6e3),$=d(4003);let t=(()=>{var h;class C{constructor(e,r){this.http=e,this.storage=r,this.apiUrl=v.c.apiUrl,this.petId=null}addPet(e){for(const[a,_]of e.entries())console.log(`${a}: ${_}`);const r=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/pet/store`,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}getPets(){const e=localStorage.getItem("token");return u.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${e}`}})}getPetsByOwnerId(e){const r=localStorage.getItem("token");return(0,l.H)(u.A.get(`${this.apiUrl}/api/pet_owners/${e}/pets`,{headers:{Authorization:`Bearer ${r}`}}).then(a=>(console.log("Pets by Owner ID response:",a),a.data.data)).catch(a=>{throw console.error("Error fetching pets by owner ID:",a),a}))}getPetById(e){const r=localStorage.getItem("token");return(0,l.H)(u.A.get(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${r}`}}).then(a=>(console.log("Pet response:",a),a.data.data)).catch(a=>{throw console.error("Error fetching pet:",a),a}))}getAllPets(){const e=localStorage.getItem("token");return u.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${e}`}})}fetchAllPets(){return this.getAllPets().then(e=>(console.log("All Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching all pets:",e),e})}fetchPets(){return this.getPets().then(e=>(console.log("Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets:",e),e})}getPet(e){return this.http.get(`${this.apiUrl}/api/pet/${e}`)}storePet(e){return this.http.post(`${this.apiUrl}/api/pet`,e)}updatePet(e,r){console.log("pet in pet-info.service====>",r);const a=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/pet/update/${e}`,r,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(e,r){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${e}`,{is_lost:r?1:0},{headers:{Authorization:`Bearer ${a}`}})}updateAdoptionStatus(e,r){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${e}`,{allow_adoption:r?1:0},{headers:{Authorization:`Bearer ${a}`}})}updateMatingStatus(e,r){const a=localStorage.getItem("token"),M={is_neutered:r.toLowerCase()};return this.http.post(`${this.apiUrl}/api/pet/update-mating-status/${e}`,M,{headers:{Authorization:`Bearer ${a}`}})}deleteImage(e){const r=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${e}`,{},{headers:{Authorization:`Bearer ${r}`}})}updateImage(e,r){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${e}`,r,{headers:{Authorization:`Bearer ${a}`}})}deletePet(e){const r=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${r}`}})}setPetId(e){this.petId=e}getPetId(){return this.petId}markPetAsLost(e){return this.http.post(`${this.apiUrl}/api/pet/lost/${e}`,{})}markPetAsFound(e){return this.http.post(`${this.apiUrl}/api/pet/found/${e}`,{})}getOwnerIdByEmail(e){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:e}})}updatePetOwner(e,r){return this.http.put(`${this.apiUrl}/api/pets/${e}`,{pet_owner_id:r})}addDocument(e,r){const a=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/pet/${e}/documents`,r,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})}uploadImage(e){return this.storage.ref(e).getDownloadURL().toPromise()}addLostPetByFounder(e){const r=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/addLostPetByFounder`,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${e}`}})}showLostPetByFounder(e){const r=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${r}`}})}deleteLostPetByFounder(e){const r=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${r}`}})}}return(h=C).\u0275fac=function(e){return new(e||h)(P.KVO(b.Qq),P.KVO($.ap))},h.\u0275prov=P.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),C})()},8525:(S,y,d)=>{d.d(y,{$:()=>t});var u=d(5841),l=d(496),v=d(878),P=d(5109),b=d(6200),$=d(315);l.A.defaults.withCredentials=!0;let t=(()=>{var h;class C{constructor(){this.apiUrl=`${v.c.apiUrl}/api`,l.A.interceptors.request.use(e=>{const r=localStorage.getItem("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e))}getAllProviders(){return l.A.get(`${this.apiUrl}/providers`)}getProviderById(e){return l.A.get(`${this.apiUrl}/providers/${e}`)}getProviderById2(e){return(0,P.H)(l.A.get(`${this.apiUrl}/providers/${e}`)).pipe((0,b.T)(r=>r.data))}createProvider(e){return l.A.post(`${this.apiUrl}/providers`,e)}getAllProviders2(){var e=this;return(0,u.A)(function*(){return l.A.get(`${e.apiUrl}/providers`).then(r=>r.data)})()}updateProvider(e,r){return l.A.put(`${this.apiUrl}/providers/${e}`,r)}deleteProvider(e){return l.A.delete(`${this.apiUrl}/providers/${e}`)}getServicesByProviderId(e){return l.A.get(`${this.apiUrl}/providers/${e}/services`)}getProductsByProviderId(e){return l.A.get(`${this.apiUrl}/providers/${e}/products`)}getVeterinariansByProviderId(e){return l.A.get(`${this.apiUrl}/providers/${e}/veterinarians`)}getVeterianById(e){return l.A.get(`${this.apiUrl}/veterinarians/${e}`)}getServiceById(e){return l.A.get(`${this.apiUrl}/services/${e}`)}getProductById(e){return l.A.get(`${this.apiUrl}/products/${e}`)}getServiceReviewsByServiceId(e){return l.A.get(`${this.apiUrl}/services/${e}/reviews`)}getPetOwnerById(e){return l.A.get(`${this.apiUrl}/pet_owners/${e}`)}getProductReviewsByProductId(e){return l.A.get(`${this.apiUrl}/products/${e}/reviews`)}getProviderByName(e){return(0,P.H)(l.A.get(`${this.apiUrl}/providers/name/${e}`))}addReview(e){var r=this;return(0,u.A)(function*(){try{console.log("Review data before sending:",e);const a=yield l.A.post(`${r.apiUrl}/reviews`,e);return console.log("Server response:",a.data),a.data}catch(a){throw console.error("Error adding review:",a),a}})()}getAverageRatingByProviderId(e){var r=this;return(0,u.A)(function*(){try{const _=(yield r.getServicesByProviderId(e)).data;let M=0,O=0;for(const T of _)(yield r.getServiceReviewsByServiceId(T.id)).data.forEach(E=>{O+=E.rate,M++});return M>0?O/M:0}catch(a){throw console.error("Error calculating average rating:",a),a}})()}getAverageRatingByProductId(e){var r=this;return(0,u.A)(function*(){try{const _=(yield l.A.get(`${r.apiUrl}/products/${e}/reviews`)).data;return 0===_.length?null:_.reduce((O,A)=>O+A.rate,0)/_.length}catch(a){throw console.error("Error fetching reviews:",a),a}})()}}return(h=C).\u0275fac=function(e){return new(e||h)},h.\u0275prov=$.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),C})()}}]);