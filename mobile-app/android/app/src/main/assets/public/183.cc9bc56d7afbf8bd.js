"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[183],{1572:(I,c,a)=>{a.d(c,{d:()=>P});var p=a(496),u=a(5109),s=a(878),h=a(315),g=a(6e3),r=a(4003);let P=(()=>{var d;class m{constructor(t,e){this.http=t,this.storage=e,this.apiUrl=s.c.apiUrl,this.petId=null}addPet(t){for(const[o,i]of t.entries())console.log(`${o}: ${i}`);const e=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/store`,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})}getPets(){const t=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${t}`}})}getPetsByOwnerId(t){const e=localStorage.getItem("token");return(0,u.H)(p.A.get(`${this.apiUrl}/api/pet_owners/${t}/pets`,{headers:{Authorization:`Bearer ${e}`}}).then(o=>(console.log("Pets by Owner ID response:",o),o.data.data)).catch(o=>{throw console.error("Error fetching pets by owner ID:",o),o}))}getPetById(t){const e=localStorage.getItem("token");return(0,u.H)(p.A.get(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(o=>(console.log("Pet response:",o),o.data.data)).catch(o=>{throw console.error("Error fetching pet:",o),o}))}getAllPets(){const t=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${t}`}})}fetchAllPets(){return this.getAllPets().then(t=>(console.log("All Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching all pets:",t),t})}fetchPets(){return this.getPets().then(t=>(console.log("Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching pets:",t),t})}getPet(t){return this.http.get(`${this.apiUrl}/api/pet/${t}`)}storePet(t){return this.http.post(`${this.apiUrl}/api/pet`,t)}updatePet(t,e){console.log("pet in pet-info.service====>",e);const o=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/update/${t}`,e,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(t,e){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${t}`,{is_lost:e?1:0},{headers:{Authorization:`Bearer ${o}`}})}updateAdoptionStatus(t,e){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${t}`,{allow_adoption:e?1:0},{headers:{Authorization:`Bearer ${o}`}})}updateMatingStatus(t,e){const o=localStorage.getItem("token"),n={is_neutered:e.toLowerCase()};return this.http.post(`${this.apiUrl}/api/pet/update-mating-status/${t}`,n,{headers:{Authorization:`Bearer ${o}`}})}deleteImage(t){const e=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${t}`,{},{headers:{Authorization:`Bearer ${e}`}})}updateImage(t,e){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${t}`,e,{headers:{Authorization:`Bearer ${o}`}})}deletePet(t){const e=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${e}`}})}setPetId(t){this.petId=t}getPetId(){return this.petId}markPetAsLost(t){return this.http.post(`${this.apiUrl}/api/pet/lost/${t}`,{})}markPetAsFound(t){return this.http.post(`${this.apiUrl}/api/pet/found/${t}`,{})}getOwnerIdByEmail(t){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:t}})}updatePetOwner(t,e){return this.http.put(`${this.apiUrl}/api/pets/${t}`,{pet_owner_id:e})}addDocument(t,e){const o=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/${t}/documents`,e,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}uploadImage(t){return this.storage.ref(t).getDownloadURL().toPromise()}addLostPetByFounder(t){const e=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/addLostPetByFounder`,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const t=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${t}`}})}showLostPetByFounder(t){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${e}`}})}deleteLostPetByFounder(t){const e=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${e}`}})}}return(d=m).\u0275fac=function(t){return new(t||d)(h.KVO(g.Qq),h.KVO(r.ap))},d.\u0275prov=h.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),m})()},183:(I,c,a)=>{a.r(c),a.d(c,{TransferOwnershipPageModule:()=>t});var p=a(9351),u=a(7199),s=a(7473),h=a(4170),g=a(5841),r=a(315),P=a(1572);const m=[{path:"",component:(()=>{var e;class o{constructor(n,l,f){this.alertController=n,this.activeRoute=l,this.petService=f}ngOnInit(){this.id=Number(this.activeRoute.snapshot.paramMap.get("id")),console.log("id in ogOnInit=====>",this.id)}transfer(){var n=this;return(0,g.A)(function*(){yield(yield n.alertController.create({header:"Confirm",message:"Are you sure you want to transfer this pet?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:f=>{console.log("Confirm Cancel: blah")}},{text:"Yes",handler:()=>{n.transferOwnerShip()}}]})).present()})()}transferOwnerShip(){var n=this;return(0,g.A)(function*(){try{const l=yield n.petService.getOwnerIdByEmail(n.NewEmail).toPromise();l&&l.ownerId?(yield n.petService.updatePetOwner(n.id,l.ownerId).toPromise(),console.log("Ownership transferred successfully")):console.log("No owner found with that email")}catch(l){console.error("Error transferring ownership:",l)}})()}}return(e=o).\u0275fac=function(n){return new(n||e)(r.rXU(s.hG),r.rXU(h.nX),r.rXU(P.d))},e.\u0275cmp=r.VBU({type:e,selectors:[["app-transfer-ownership"]],decls:19,vars:1,consts:[["slot","start"],[1,"header-margin"],[1,"titleFont"],[1,"textGray","bodyFont"],[1,"ion-padding","content-container"],[1,"bodyFont","boldFont","new-owner"],[1,"MakeItFlex"],[1,"roundedInput","Username"],["fill","solid","placeholder","Email",1,"bodyFont","textGray",3,"ngModelChange","ngModel"],[1,"ion-padding"],["fill","clear","expand","full",1,"FilledButtons",3,"click"]],template:function(n,l){1&n&&(r.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),r.nrm(3,"ion-back-button"),r.k0s(),r.j41(4,"div",1)(5,"ion-label",2),r.EFF(6,"Transfer Ownership"),r.k0s(),r.j41(7,"p",3),r.EFF(8," Caring transfer of your beloved pet to their new loving home we make the process easy and worry-free. "),r.k0s()()()(),r.j41(9,"ion-content",4),r.nrm(10,"br"),r.j41(11,"ion-label",5),r.EFF(12,"New Owner Email"),r.k0s(),r.j41(13,"div",6)(14,"ion-item",7)(15,"ion-input",8),r.mxI("ngModelChange",function(w){return r.DH7(l.NewEmail,w)||(l.NewEmail=w),w}),r.k0s()()()(),r.j41(16,"div",9)(17,"ion-button",10),r.bIt("click",function(){return l.transfer()}),r.EFF(18," Transfer "),r.k0s()()),2&n&&(r.R7$(15),r.R50("ngModel",l.NewEmail))},dependencies:[u.BC,u.vS,s.Jm,s.QW,s.W9,s.eU,s.$w,s.uz,s.he,s.ai,s.Gw,s.el],styles:["p[_ngcontent-%COMP%]{padding-top:2px;padding-right:5px;margin:5px 32px 0 0;width:100%}ion-buttons[_ngcontent-%COMP%]{margin-bottom:16px}ion-item[_ngcontent-%COMP%]{margin-top:10px}.Username[_ngcontent-%COMP%]{width:100%}"]}),o})()}];let $=(()=>{var e;class o{}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.$C({type:e}),e.\u0275inj=r.G2t({imports:[h.iI.forChild(m),h.iI]}),o})(),t=(()=>{var e;class o{}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.$C({type:e}),e.\u0275inj=r.G2t({imports:[p.MD,u.YN,s.bv,$]}),o})()}}]);