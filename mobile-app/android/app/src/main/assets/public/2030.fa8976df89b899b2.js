"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2030],{2030:(A,k,d)=>{d.r(k),d.d(k,{CartPageModule:()=>T});var h=d(9351),g=d(7199),u=d(7473),P=d(4170),_=d(5841),t=d(315),v=d(8454),C=d(1851),x=d(5822),l=d(1572);const e=["petModal"];function i(s,m){if(1&s&&(t.j41(0,"ion-select-option",27),t.EFF(1),t.k0s()),2&s){const a=m.$implicit;t.Y8G("value",a.id),t.R7$(),t.SpI(" ",a.name," ")}}function c(s,m){if(1&s){const a=t.RV6();t.j41(0,"div")(1,"ion-select",25),t.mxI("ngModelChange",function(o){t.eBV(a);const r=t.XpG().$implicit;return t.DH7(r.selectedPetId,o)||(r.selectedPetId=o),t.Njj(o)}),t.bIt("ionChange",function(){t.eBV(a);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.selectPet(o))}),t.DNE(2,i,2,2,"ion-select-option",26),t.k0s()()}if(2&s){const a=t.XpG().$implicit,n=t.XpG();t.R7$(),t.R50("ngModel",a.selectedPetId),t.R7$(),t.Y8G("ngForOf",n.pets)}}function I(s,m){if(1&s){const a=t.RV6();t.j41(0,"ion-buttons",28)(1,"ion-button",29),t.bIt("click",function(){t.eBV(a);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.decrementQuantity(o))}),t.nrm(2,"img",30),t.k0s(),t.j41(3,"ion-input",31),t.mxI("ngModelChange",function(o){t.eBV(a);const r=t.XpG().$implicit;return t.DH7(r.quantity,o)||(r.quantity=o),t.Njj(o)}),t.bIt("ionChange",function(o){t.eBV(a);const r=t.XpG().$implicit,p=t.XpG();return t.Njj(p.onQuantityChange(r,o))}),t.k0s(),t.j41(4,"ion-button",29),t.bIt("click",function(){t.eBV(a);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.incrementQuantity(o))}),t.nrm(5,"img",32),t.k0s()()}if(2&s){const a=t.XpG().$implicit;t.R7$(),t.Y8G("disabled",a.quantity<=1),t.R7$(2),t.R50("ngModel",a.quantity),t.Y8G("max",a.maxQuantity),t.R7$(),t.Y8G("disabled",a.quantity>=a.maxQuantity)}}function b(s,m){if(1&s){const a=t.RV6();t.j41(0,"ion-item-sliding")(1,"ion-item",13)(2,"div",14)(3,"ion-checkbox",15),t.mxI("ngModelChange",function(o){const r=t.eBV(a).$implicit;return t.DH7(r.selected,o)||(r.selected=o),t.Njj(o)}),t.bIt("ionChange",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.updatePageInfo())}),t.k0s(),t.nrm(4,"img",16),t.j41(5,"div",17)(6,"ion-label",18),t.EFF(7),t.k0s(),t.j41(8,"ion-label",19),t.EFF(9),t.nI1(10,"number"),t.k0s(),t.DNE(11,c,3,2,"div",20),t.k0s()(),t.DNE(12,I,6,4,"ion-buttons",21),t.k0s(),t.j41(13,"ion-item-options",22)(14,"ion-item-option",23),t.bIt("click",function(){const o=t.eBV(a).$implicit,r=t.XpG();return t.Njj(r.deleteCartItem(o))}),t.nrm(15,"img",24),t.k0s()()()}if(2&s){const a=m.$implicit;t.R7$(3),t.R50("ngModel",a.selected),t.R7$(),t.Y8G("src",a.imageUrl,t.B4B),t.R7$(3),t.JRh(a.label),t.R7$(2),t.SpI("",t.i5U(10,6,a.price*a.quantity,"1.2-2")," BHD"),t.R7$(2),t.Y8G("ngIf","collar"===a.label.toLowerCase()),t.R7$(),t.Y8G("ngIf","collar"!==a.label.toLowerCase())}}function B(s,m){if(1&s&&(t.j41(0,"div",17)(1,"ion-label",18),t.EFF(2,"Total:"),t.k0s(),t.j41(3,"ion-label",18),t.EFF(4),t.nI1(5,"number"),t.k0s(),t.j41(6,"ion-label",19),t.EFF(7),t.nI1(8,"number"),t.k0s()()),2&s){const a=t.XpG();t.R7$(4),t.SpI("",t.i5U(5,2,a.totalPrice,"1.2-2"),"BHD"),t.R7$(3),t.SpI("Saved: BHD ",t.i5U(8,5,a.savedPrice,"1.2-2"),"")}}function E(s,m){if(1&s&&(t.j41(0,"div",33)(1,"div",17)(2,"ion-label",18),t.EFF(3,"Total:"),t.k0s(),t.j41(4,"ion-label",18),t.EFF(5),t.nI1(6,"number"),t.k0s()()()),2&s){const a=t.XpG();t.R7$(5),t.SpI("",t.i5U(6,1,a.totalPrice,"1.2-2"),"BHD")}}function S(s,m){if(1&s){const a=t.RV6();t.j41(0,"ion-button",12),t.bIt("click",function(){t.eBV(a);const o=t.XpG();return t.Njj(o.deleteSelectedItems())}),t.nrm(1,"img",24),t.k0s()}}const U=[{path:"",component:(()=>{var s;class m{constructor(n,o,r,p,M,f,y){this.cartService=n,this.productService=o,this.authService=r,this.toastController=p,this.activatedRoute=M,this.router=f,this.petInfoService=y,this.items=[],this.selectAll=!1,this.isMember=!1,this.discountRate=.1,this.pets=[],this.totalPrice=0,this.savedPrice=0,this.selectedItemsCount=0,this.selectedPetId=null}ngOnInit(){var n=this;return(0,_.A)(function*(){yield n.loadCartItems()})()}loadCartItems(){var n=this;return(0,_.A)(function*(){try{const r=(yield n.authService.fetchProfileData()).id;n.petInfoService.fetchPets().then(f=>{n.pets=f,console.log("Pets data:",n.pets)}).catch(f=>{console.error("Error fetching pets data:",f)});const p=yield n.cartService.getCartsByPetOwnerId(r).toPromise();if(null==p||!p.length)return void(n.items=[]);const M=yield Promise.all(p.map(f=>n.getProduct(f.product_id)));n.items=n.mergeCartWithProducts(p,M),n.calculateTotal(),console.log("Cart items:",n.items)}catch(o){console.error("Error fetching cart items:",o)}})()}getProduct(n){var o=this;return(0,_.A)(function*(){return n?o.productService.getProductById(n).toPromise():null})()}mergeCartWithProducts(n,o){return n.map((r,p)=>{var M,f,y,O,$;return{...r,maxQuantity:(null===(M=o[p])||void 0===M?void 0:M.quantity)||10,imageUrl:(null===(f=o[p])||void 0===f||null===(f=f.images)||void 0===f?void 0:f[0])||"assets/default-image.png",label:(null===(y=o[p])||void 0===y?void 0:y.name)||"Unknown Product",price:this.isMember?null===(O=o[p])||void 0===O?void 0:O.new_price:null===($=o[p])||void 0===$?void 0:$.old_price}})}selectAllItems(n){const o=n.detail.checked;this.items.forEach(r=>r.selected=o),this.selectAll=o,this.updatePageInfo()}updatePageInfo(){this.selectAll=this.items.every(n=>n.selected),this.updateSelectedItemsCount(),this.calculateTotal()}updateSelectedItemsCount(){this.selectedItemsCount=this.items.filter(n=>n.selected).length}calculateTotal(){const o=this.items.filter(r=>r.selected).reduce((r,p)=>r+p.price*p.quantity,0);console.log("Total Without Discount:",o),this.isMember?(this.totalPrice=o*(1-this.discountRate),this.savedPrice=o*this.discountRate):(this.totalPrice=o,this.savedPrice=0),console.log("Total Price:",this.totalPrice)}incrementQuantity(n){var o=this;return(0,_.A)(function*(){n.quantity<n.maxQuantity&&(n.quantity++,yield o.updateCartItem(n),o.calculateTotal())})()}decrementQuantity(n){var o=this;return(0,_.A)(function*(){n.quantity>1&&(n.quantity--,yield o.updateCartItem(n),o.calculateTotal())})()}onQuantityChange(n,o){var r=this;return(0,_.A)(function*(){n.quantity=Math.min(Math.max(o.target.value,1),n.maxQuantity),yield r.updateCartItem(n),r.calculateTotal()})()}updateCartItem(n){var o=this;return(0,_.A)(function*(){try{yield o.cartService.updateCart(n.id,{...n,quantity:n.quantity}).toPromise(),console.log("Cart updated successfully")}catch(r){console.error("Error updating cart:",r),o.showToast("Error updating cart","danger")}})()}deleteCartItem(n){var o=this;return(0,_.A)(function*(){try{const r=yield o.findCartItem(n.product_id);r&&(yield o.cartService.deleteCart(r.id).toPromise(),yield o.loadCartItems())}catch(r){console.error("Error removing item from cart:",r),o.showToast("Error removing item from cart","danger")}})()}deleteSelectedItems(){var n=this;return(0,_.A)(function*(){try{const o=n.items.filter(r=>r.selected);if(!o.length)return;yield Promise.all(o.map(r=>n.deleteCartItem(r))),yield n.loadCartItems(),n.showToast("Selected items removed from cart","danger")}catch(o){console.error("Error removing selected items from cart:",o),n.showToast("Error removing selected items from cart","danger")}})()}findCartItem(n){var o=this;return(0,_.A)(function*(){const p=(yield o.authService.fetchProfileData()).id,M=yield o.cartService.getCartsByPetOwnerId(p).toPromise();return M?M.find(f=>f.product_id===n):null})()}showToast(n,o){var r=this;return(0,_.A)(function*(){(yield r.toastController.create({message:n,color:o,duration:2e3})).present()})()}get isCartEmpty(){return!this.items.length}checkout(){var n=this;return(0,_.A)(function*(){n.router.navigate(["/check-out",n.totalPrice])})()}selectPet(n){const o=this.pets.find(r=>r.id===n.selectedPetId);if(o){n.selectedPetName=o.name;const r={...n,pet_id:n.selectedPetId};this.updateCart(n.id,r)}}updateCart(n,o){this.cartService.updateCart(n,o).subscribe(r=>{console.log("Cart updated successfully",r)},r=>{console.error("Error updating cart:",r)})}}return(s=m).\u0275fac=function(n){return new(n||s)(t.rXU(v.m),t.rXU(C.b),t.rXU(x.u),t.rXU(u.K_),t.rXU(P.nX),t.rXU(P.Ix),t.rXU(l.d))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-cart"]],viewQuery:function(n,o){if(1&n&&t.GBs(e,5),2&n){let r;t.mGM(r=t.lsd())&&(o.petModal=r.first)}},decls:20,vars:7,consts:[["slot","start"],[1,"header-margin-Single-Line"],[1,"titleFont"],["slot","end"],[3,"ionChange","checked","disabled"],["id","select",1,"bodyFont"],[1,"ion-padding"],[4,"ngFor","ngForOf"],[1,"ion-padding","FlexSpaceInBetween"],["class","MakeItFlexAsAColumnNoCenter",4,"ngIf"],["class","notMemberTotal",4,"ngIf"],["class","FilledButtons","fill","clear",3,"click",4,"ngIf"],["fill","clear",1,"FilledButtons",3,"click"],[1,"FlexSpaceInBetween","Itemsdesign2"],[1,"MakeItFlex"],["slot","start",3,"ngModelChange","ionChange","ngModel"],["id","showImg",1,"Item-img",3,"src"],[1,"MakeItFlexAsAColumnNoCenter"],[1,"bodyFont","boldFont"],[1,"bodyFont","price"],[4,"ngIf"],["slot","end","class","buttons",4,"ngIf"],["side","end"],["fill","clear",1,"Delete-items",3,"click"],["src","../../assets/delete-trash.svg",1,"icon"],["placeholder","Select Pet",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["slot","end",1,"buttons"],[3,"click","disabled"],["src","/assets/icons/add-Minus.svg","alt","-",1,"icon"],["type","number","min","1",1,"bodyFont",3,"ngModelChange","ionChange","ngModel","max"],["src","/assets/icons/add-plus.svg","alt","+",1,"icon"],[1,"notMemberTotal"]],template:function(n,o){1&n&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button"),t.k0s(),t.j41(4,"div",1)(5,"ion-label",2),t.EFF(6,"My Cart"),t.k0s()(),t.j41(7,"ion-buttons",3)(8,"ion-checkbox",4),t.bIt("ionChange",function(p){return o.selectAllItems(p)}),t.k0s(),t.j41(9,"span",5),t.EFF(10),t.k0s()()()(),t.j41(11,"ion-content",6),t.DNE(12,b,16,9,"ion-item-sliding",7),t.k0s(),t.j41(13,"div",8),t.DNE(14,B,9,8,"div",9)(15,E,7,4,"div",10),t.j41(16,"div"),t.DNE(17,S,2,0,"ion-button",11),t.j41(18,"ion-button",12),t.bIt("click",function(){return o.checkout()}),t.EFF(19," Checkout "),t.k0s()()()),2&n&&(t.R7$(8),t.Y8G("checked",o.selectAll)("disabled",o.isCartEmpty),t.R7$(2),t.JRh(o.selectAll?"unselect all":"select all"),t.R7$(2),t.Y8G("ngForOf",o.items),t.R7$(2),t.Y8G("ngIf",!o.isMember),t.R7$(),t.Y8G("ngIf",o.isMember),t.R7$(2),t.Y8G("ngIf",o.selectedItemsCount>=2))},dependencies:[h.Sq,h.bT,g.BC,g.vS,u.Jm,u.QW,u.eY,u.W9,u.eU,u.$w,u.uz,u.LU,u.CE,u.A7,u.he,u.Nm,u.Ip,u.ai,u.hB,u.su,u.Je,u.el,u.T6,u.jL,h.QX],styles:["ion-header[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{margin-top:20px}.icon[_ngcontent-%COMP%]{width:24px;height:auto}#select[_ngcontent-%COMP%]{margin:5px}ion-checkbox[_ngcontent-%COMP%]{--border-radius: 6px;--checkbox-background-checked: var(--Main-One)}ion-checkbox[_ngcontent-%COMP%]::part(container){--border-radius: 6px;border:2px solid var(--Main-One);--checkbox-background: var(--background-color)}ion-item[_ngcontent-%COMP%]{--background: var(--White);--border-color: none}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important;font-size:.875rem!important}ion-item[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]::part(container){--checkbox-background: var(--White)}.itemsdesign[_ngcontent-%COMP%]{border-radius:16px;margin:5px;background-color:var(--White);padding:10px;--ion-item-border-width: 0;--ion-item-border-color: transparent}.Itemsdesign[_ngcontent-%COMP%]{border-radius:16px;background-color:var(--White);padding:10px;margin-bottom:10px}.Itemsdesign[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{width:20px}.Itemsdesign2[_ngcontent-%COMP%]{border-radius:16px;background-color:var(--White);padding:10px 0;margin-bottom:10px}.Itemsdesign2[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{width:20px}.item-img[_ngcontent-%COMP%]{border-radius:16px}.Item-img[_ngcontent-%COMP%]{width:50px;height:50px;margin:10px;border-radius:16px}.price[_ngcontent-%COMP%]{color:var(--Main-One)!important}.qt-buttons[_ngcontent-%COMP%]{margin-top:5px;width:25%}.delete-items[_ngcontent-%COMP%]{--background: var(--Main-One);--color: var(--White)!important;border-radius:16px;height:45px;width:45px;margin-bottom:5px;margin-right:5px}.delete-items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45px;width:45px}.Delete-items[_ngcontent-%COMP%]{--background: var(--Main-One);--color: var(--White)!important;height:65%;margin-top:13px;border-top-right-radius:16px;border-bottom-right-radius:16px}.notMemberTotal[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-content:flex-end;margin-bottom:10px}@media screen and (max-width: 355px){.Item-img[_ngcontent-%COMP%]{display:none!important}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:10px}.Delete-items[_ngcontent-%COMP%]{height:54%}}","#quantity-controls[_ngcontent-%COMP%]{margin:20px 5px 5px;display:flex;justify-content:center;align-items:center;color:var(--Main-One);font-size:12px}#quantity-controls[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{text-align:center;--ion-item-border-width: 0;--ion-item-border-color: transparent}#quantity-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{justify-content:space-between;margin:9px;font-size:9px;--border-radius: 50%;width:5px;height:5px;display:flex;justify-content:center;align-items:center;--background: var(--Main-Two)}.toolbar-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px;margin-bottom:10px}.checkoutbtn[_ngcontent-%COMP%]{--background:var(--Main-One);--color:var(--White);--border-radius: 16px;padding:70px;height:100px;width:200px}.item-name[_ngcontent-%COMP%]{margin-top:0}ion-footer[_ngcontent-%COMP%]{margin:5px 10px 10px}ion-footer[_ngcontent-%COMP%]   .FilledButtons[_ngcontent-%COMP%]{font-family:Montserrat;font-weight:600;font-size:.875rem;font-style:normal;text-align:center;border-radius:16px;margin-bottom:5px;margin-right:5px;height:9vh;width:26vh;--color: white !important}ion-footer[_ngcontent-%COMP%]   .FilledButtons.FilledButtons[_ngcontent-%COMP%]{background-color:var(--Main-One);color:var(--White)!important}ion-footer[_ngcontent-%COMP%]   .FilledButtons.OutlinedButtons[_ngcontent-%COMP%]{border:1px solid var(--Main-One);color:var(--Main-One)}ion-footer[_ngcontent-%COMP%]   .white[_ngcontent-%COMP%]{color:var(--White)!important}.btndelet[_ngcontent-%COMP%]{background:var(--Main-One)!important;color:var(--White)!important;border-radius:16px;height:45px;width:45px;margin-bottom:5px;margin-right:5px}.btndelet[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45px;width:45px}.btndelet.FilledButtons[_ngcontent-%COMP%]{background-color:var(--Main-One);color:var(--White)!important}.btndelet.OutlinedButtons[_ngcontent-%COMP%]{border:1px solid var(--Main-One);color:var(--Main-One)}.transfer-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);padding:0 95px;border-radius:16px;color:#fff!important;margin-left:10px;margin-right:10px;z-index:1}"]}),m})()}];let w=(()=>{var s;class m{}return(s=m).\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[P.iI.forChild(U),P.iI]}),m})(),T=(()=>{var s;class m{}return(s=m).\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[h.MD,g.YN,u.bv,w]}),m})()},5822:(A,k,d)=>{d.d(k,{u:()=>t});var h=d(5841),g=d(496),u=d(878),P=d(315),_=d(6e3);g.A.defaults.withCredentials=!0;let t=(()=>{var v;class C{constructor(l){this.http=l,this.apiUrl=u.c.apiUrl}getCSRFToken(){return g.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(l){var e=this;return(0,h.A)(function*(){return yield e.getCSRFToken(),g.A.post(`${e.apiUrl}/api/register`,l).then(i=>(localStorage.setItem("token",i.data.token),i.data)).catch(i=>{throw console.error("Login error:",i),i})})()}checkEmail(l){return g.A.post(`${this.apiUrl}/api/check-email`,{email:l})}sendVerificationCode(l){return g.A.post(`${this.apiUrl}/api/send-verification-code`,{email:l})}verifyCode(l){return g.A.post(`${this.apiUrl}/api/verify-code`,l)}login(l){var e=this;return(0,h.A)(function*(){return yield e.getCSRFToken(),g.A.post(`${e.apiUrl}/api/login`,l).then(i=>(localStorage.setItem("token",i.data.token),i.data)).catch(i=>{throw console.error("Login error:",i),i})})()}logout(){const l=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${l}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var l=this;return(0,h.A)(function*(){const e=localStorage.getItem("token");return(yield g.A.get(`${l.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${e}`}})).data.data})()}fetchProfileData(){var l=this;return(0,h.A)(function*(){try{const e=yield l.getProfile();return console.log("Profile response:",e),e}catch(e){throw console.error("Error fetching profile:",e),e}})()}getPetOwnerData(l){const e=localStorage.getItem("token");return g.A.get(`${this.apiUrl}/api/pet_owner/${l}`,{headers:{Authorization:`Bearer ${e}`}})}fetchPetOwnerData(l){return console.log("th id in auth=====>",l),this.getPetOwnerData(l).then(e=>(console.log("pet owner data:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pet owner:",e),e})}updateProfile(l,e){const i=localStorage.getItem("token");return g.A.put(`${this.apiUrl}/api/pet_owner/${e}`,l,{headers:{Authorization:`Bearer ${i}`}})}updateProfileImage(l,e){const i=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/pet_owner/image/${e}`,l,{headers:{Authorization:`Bearer ${i}`}})}updatePass(l,e,i){var c=this;return(0,h.A)(function*(){const I=localStorage.getItem("token");try{return(yield g.A.put(`${c.apiUrl}/api/pet-owners/update-password`,{email:l,password:e,password_confirmation:i},{headers:{Authorization:`Bearer ${I}`}})).data}catch(b){throw console.error("Error updating password:",b),b}})()}}return(v=C).\u0275fac=function(l){return new(l||v)(P.KVO(_.Qq))},v.\u0275prov=P.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),C})()},1572:(A,k,d)=>{d.d(k,{d:()=>v});var h=d(496),g=d(5109),u=d(878),P=d(315),_=d(6e3),t=d(4003);let v=(()=>{var C;class x{constructor(e,i){this.http=e,this.storage=i,this.apiUrl=u.c.apiUrl,this.petId=null}addPet(e){for(const[c,I]of e.entries())console.log(`${c}: ${I}`);const i=localStorage.getItem("token");return h.A.post(`${this.apiUrl}/api/pet/store`,e,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}})}getPets(){const e=localStorage.getItem("token");return h.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${e}`}})}getPetsByOwnerId(e){const i=localStorage.getItem("token");return(0,g.H)(h.A.get(`${this.apiUrl}/api/pet_owners/${e}/pets`,{headers:{Authorization:`Bearer ${i}`}}).then(c=>(console.log("Pets by Owner ID response:",c),c.data.data)).catch(c=>{throw console.error("Error fetching pets by owner ID:",c),c}))}getPetById(e){const i=localStorage.getItem("token");return(0,g.H)(h.A.get(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${i}`}}).then(c=>(console.log("Pet response:",c),c.data.data)).catch(c=>{throw console.error("Error fetching pet:",c),c}))}getAllPets(){const e=localStorage.getItem("token");return h.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${e}`}})}fetchAllPets(){return this.getAllPets().then(e=>(console.log("All Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching all pets:",e),e})}fetchPets(){return this.getPets().then(e=>(console.log("Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets:",e),e})}getPet(e){return this.http.get(`${this.apiUrl}/api/pet/${e}`)}storePet(e){return this.http.post(`${this.apiUrl}/api/pet`,e)}updatePet(e,i){console.log("pet in pet-info.service====>",i);const c=localStorage.getItem("token");return h.A.post(`${this.apiUrl}/api/pet/update/${e}`,i,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(e,i){const c=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${e}`,{is_lost:i?1:0},{headers:{Authorization:`Bearer ${c}`}})}updateAdoptionStatus(e,i){const c=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${e}`,{allow_adoption:i?1:0},{headers:{Authorization:`Bearer ${c}`}})}updateMatingStatus(e,i){const c=localStorage.getItem("token"),b={is_neutered:i.toLowerCase()};return this.http.post(`${this.apiUrl}/api/pet/update-mating-status/${e}`,b,{headers:{Authorization:`Bearer ${c}`}})}deleteImage(e){const i=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${e}`,{},{headers:{Authorization:`Bearer ${i}`}})}updateImage(e,i){const c=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${e}`,i,{headers:{Authorization:`Bearer ${c}`}})}deletePet(e){const i=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${i}`}})}setPetId(e){this.petId=e}getPetId(){return this.petId}markPetAsLost(e){return this.http.post(`${this.apiUrl}/api/pet/lost/${e}`,{})}markPetAsFound(e){return this.http.post(`${this.apiUrl}/api/pet/found/${e}`,{})}getOwnerIdByEmail(e){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:e}})}updatePetOwner(e,i){return this.http.put(`${this.apiUrl}/api/pets/${e}`,{pet_owner_id:i})}addDocument(e,i){const c=localStorage.getItem("token");return h.A.post(`${this.apiUrl}/api/pet/${e}/documents`,i,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"multipart/form-data"}})}uploadImage(e){return this.storage.ref(e).getDownloadURL().toPromise()}addLostPetByFounder(e){const i=localStorage.getItem("token");return h.A.post(`${this.apiUrl}/api/addLostPetByFounder`,e,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${e}`}})}showLostPetByFounder(e){const i=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${i}`}})}deleteLostPetByFounder(e){const i=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${i}`}})}}return(C=x).\u0275fac=function(e){return new(e||C)(P.KVO(_.Qq),P.KVO(t.ap))},C.\u0275prov=P.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),x})()}}]);