"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9238],{5822:(U,$,s)=>{s.d($,{u:()=>v});var p=s(5841),r=s(496),d=s(878),c=s(315),A=s(6e3);r.A.defaults.withCredentials=!0;let v=(()=>{var h;class l{constructor(a){this.http=a,this.apiUrl=d.c.apiUrl}getCSRFToken(){return r.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(a){var t=this;return(0,p.A)(function*(){return yield t.getCSRFToken(),r.A.post(`${t.apiUrl}/api/register`,a).then(e=>(localStorage.setItem("token",e.data.token),e.data)).catch(e=>{throw console.error("Login error:",e),e})})()}checkEmail(a){return r.A.post(`${this.apiUrl}/api/check-email`,{email:a})}sendVerificationCode(a){return r.A.post(`${this.apiUrl}/api/send-verification-code`,{email:a})}verifyCode(a){return r.A.post(`${this.apiUrl}/api/verify-code`,a)}login(a){var t=this;return(0,p.A)(function*(){return yield t.getCSRFToken(),r.A.post(`${t.apiUrl}/api/login`,a).then(e=>(localStorage.setItem("token",e.data.token),e.data)).catch(e=>{throw console.error("Login error:",e),e})})()}logout(){const a=localStorage.getItem("token");return r.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${a}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var a=this;return(0,p.A)(function*(){const t=localStorage.getItem("token");return(yield r.A.get(`${a.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${t}`}})).data.data})()}fetchProfileData(){var a=this;return(0,p.A)(function*(){try{const t=yield a.getProfile();return console.log("Profile response:",t),t}catch(t){throw console.error("Error fetching profile:",t),t}})()}getPetOwnerData(a){const t=localStorage.getItem("token");return r.A.get(`${this.apiUrl}/api/pet_owner/${a}`,{headers:{Authorization:`Bearer ${t}`}})}fetchPetOwnerData(a){return console.log("th id in auth=====>",a),this.getPetOwnerData(a).then(t=>(console.log("pet owner data:",t),t.data.data)).catch(t=>{throw console.error("Error fetching pet owner:",t),t})}updateProfile(a,t){const e=localStorage.getItem("token");return r.A.put(`${this.apiUrl}/api/pet_owner/${t}`,a,{headers:{Authorization:`Bearer ${e}`}})}updateProfileImage(a,t){const e=localStorage.getItem("token");return r.A.post(`${this.apiUrl}/api/pet_owner/image/${t}`,a,{headers:{Authorization:`Bearer ${e}`}})}updatePass(a,t,e){var o=this;return(0,p.A)(function*(){const u=localStorage.getItem("token");try{return(yield r.A.put(`${o.apiUrl}/api/pet-owners/update-password`,{email:a,password:t,password_confirmation:e},{headers:{Authorization:`Bearer ${u}`}})).data}catch(n){throw console.error("Error updating password:",n),n}})()}}return(h=l).\u0275fac=function(a){return new(a||h)(c.KVO(A.Qq))},h.\u0275prov=c.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),l})()},4330:(U,$,s)=>{s.d($,{O:()=>t});var p=s(5841),r=s(5109),d=s(496),c=s(6200),A=s(878),v=s(3595),h=s(4787),l=s(6815),_=s(315),a=s(8525);let t=(()=>{var e;class o{constructor(n){this.providerService=n,this.apiUrl=`${A.c.apiUrl}/api`,d.A.interceptors.request.use(i=>{const g=localStorage.getItem("token");return g&&(i.headers.Authorization=`Bearer ${g}`),i},i=>Promise.reject(i))}getCouponDetails(n){return(0,r.H)(d.A.get(`${this.apiUrl}/coupons/${n}`)).pipe((0,c.T)(i=>i.data))}getProviderById(n){return(0,r.H)(d.A.get(`${this.apiUrl}/providers/${n}`)).pipe((0,c.T)(i=>i.data))}getMembershipCoupons(){return(0,r.H)(d.A.get(`${this.apiUrl}/coupons/membership`)).pipe((0,v.M)(n=>{console.log("Coupons data:",n.data)}),(0,c.T)(n=>n.data))}getNotMembershipCoupons(){return(0,r.H)(d.A.get(`${this.apiUrl}/coupons/not-membership`)).pipe((0,v.M)(n=>{console.log("Coupons data:",n.data)}),(0,c.T)(n=>n.data))}getCouponById(n){return(0,r.H)(d.A.get(`${this.apiUrl}/coupons/${n}`)).pipe((0,c.T)(i=>i.data))}getCouponUsagesByOwnerId(n){return(0,r.H)(d.A.get(`${this.apiUrl}/coupon_usage/owner/${n}`)).pipe((0,c.T)(i=>i.data),(0,v.M)(i=>{console.log(`Coupon usages for owner ${n}:`,i)}),(0,l.W)(i=>(console.error(`Error fetching coupon usages for owner ${n}:`,i),(0,h.of)([]))))}addCouponUsage(n,i,g){var E=this;return(0,p.A)(function*(){return d.A.post(`${E.apiUrl}/coupon_usage`,{owner_id:n,coupon_id:i,date_of_usage:g}).then(P=>P).catch(P=>{throw console.error("Error occurred while adding coupon usage:",P),P})})()}reduceCouponQuantity(n){var i=this;return(0,p.A)(function*(){try{return yield d.A.post(`${i.apiUrl}/coupons/${n}/reduce-quantity`)}catch(g){throw console.error("Error occurred while reducing coupon quantity:",g),g}})()}}return(e=o).\u0275fac=function(n){return new(n||e)(_.KVO(a.$))},e.\u0275prov=_.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),o})()},1572:(U,$,s)=>{s.d($,{d:()=>h});var p=s(496),r=s(5109),d=s(878),c=s(315),A=s(6e3),v=s(4003);let h=(()=>{var l;class _{constructor(t,e){this.http=t,this.storage=e,this.apiUrl=d.c.apiUrl,this.petId=null}addPet(t){for(const[o,u]of t.entries())console.log(`${o}: ${u}`);const e=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/store`,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})}getPets(){const t=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${t}`}})}getPetsByOwnerId(t){const e=localStorage.getItem("token");return(0,r.H)(p.A.get(`${this.apiUrl}/api/pet_owners/${t}/pets`,{headers:{Authorization:`Bearer ${e}`}}).then(o=>(console.log("Pets by Owner ID response:",o),o.data.data)).catch(o=>{throw console.error("Error fetching pets by owner ID:",o),o}))}getPetById(t){const e=localStorage.getItem("token");return(0,r.H)(p.A.get(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${e}`}}).then(o=>(console.log("Pet response:",o),o.data.data)).catch(o=>{throw console.error("Error fetching pet:",o),o}))}getAllPets(){const t=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${t}`}})}fetchAllPets(){return this.getAllPets().then(t=>(console.log("All Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching all pets:",t),t})}fetchPets(){return this.getPets().then(t=>(console.log("Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching pets:",t),t})}getPet(t){return this.http.get(`${this.apiUrl}/api/pet/${t}`)}storePet(t){return this.http.post(`${this.apiUrl}/api/pet`,t)}updatePet(t,e){console.log("pet in pet-info.service====>",e);const o=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/update/${t}`,e,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(t,e){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${t}`,{is_lost:e?1:0},{headers:{Authorization:`Bearer ${o}`}})}updateAdoptionStatus(t,e){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${t}`,{allow_adoption:e?1:0},{headers:{Authorization:`Bearer ${o}`}})}updateMatingStatus(t,e){const o=localStorage.getItem("token"),n={is_neutered:e.toLowerCase()};return this.http.post(`${this.apiUrl}/api/pet/update-mating-status/${t}`,n,{headers:{Authorization:`Bearer ${o}`}})}deleteImage(t){const e=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${t}`,{},{headers:{Authorization:`Bearer ${e}`}})}updateImage(t,e){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${t}`,e,{headers:{Authorization:`Bearer ${o}`}})}deletePet(t){const e=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${e}`}})}setPetId(t){this.petId=t}getPetId(){return this.petId}markPetAsLost(t){return this.http.post(`${this.apiUrl}/api/pet/lost/${t}`,{})}markPetAsFound(t){return this.http.post(`${this.apiUrl}/api/pet/found/${t}`,{})}getOwnerIdByEmail(t){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:t}})}updatePetOwner(t,e){return this.http.put(`${this.apiUrl}/api/pets/${t}`,{pet_owner_id:e})}addDocument(t,e){const o=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/${t}/documents`,e,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}uploadImage(t){return this.storage.ref(t).getDownloadURL().toPromise()}addLostPetByFounder(t){const e=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/addLostPetByFounder`,t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const t=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${t}`}})}showLostPetByFounder(t){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${e}`}})}deleteLostPetByFounder(t){const e=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${e}`}})}}return(l=_).\u0275fac=function(t){return new(t||l)(c.KVO(A.Qq),c.KVO(v.ap))},l.\u0275prov=c.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),_})()},8525:(U,$,s)=>{s.d($,{$:()=>h});var p=s(5841),r=s(496),d=s(878),c=s(5109),A=s(6200),v=s(315);r.A.defaults.withCredentials=!0;let h=(()=>{var l;class _{constructor(){this.apiUrl=`${d.c.apiUrl}/api`,r.A.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t))}getAllProviders(){return r.A.get(`${this.apiUrl}/providers`)}getProviderById(t){return r.A.get(`${this.apiUrl}/providers/${t}`)}getProviderById2(t){return(0,c.H)(r.A.get(`${this.apiUrl}/providers/${t}`)).pipe((0,A.T)(e=>e.data))}createProvider(t){return r.A.post(`${this.apiUrl}/providers`,t)}getAllProviders2(){var t=this;return(0,p.A)(function*(){return r.A.get(`${t.apiUrl}/providers`).then(e=>e.data)})()}updateProvider(t,e){return r.A.put(`${this.apiUrl}/providers/${t}`,e)}deleteProvider(t){return r.A.delete(`${this.apiUrl}/providers/${t}`)}getServicesByProviderId(t){return r.A.get(`${this.apiUrl}/providers/${t}/services`)}getProductsByProviderId(t){return r.A.get(`${this.apiUrl}/providers/${t}/products`)}getVeterinariansByProviderId(t){return r.A.get(`${this.apiUrl}/providers/${t}/veterinarians`)}getVeterianById(t){return r.A.get(`${this.apiUrl}/veterinarians/${t}`)}getServiceById(t){return r.A.get(`${this.apiUrl}/services/${t}`)}getProductById(t){return r.A.get(`${this.apiUrl}/products/${t}`)}getServiceReviewsByServiceId(t){return r.A.get(`${this.apiUrl}/services/${t}/reviews`)}getPetOwnerById(t){return r.A.get(`${this.apiUrl}/pet_owners/${t}`)}getProductReviewsByProductId(t){return r.A.get(`${this.apiUrl}/products/${t}/reviews`)}getProviderByName(t){return(0,c.H)(r.A.get(`${this.apiUrl}/providers/name/${t}`))}addReview(t){var e=this;return(0,p.A)(function*(){try{console.log("Review data before sending:",t);const o=yield r.A.post(`${e.apiUrl}/reviews`,t);return console.log("Server response:",o.data),o.data}catch(o){throw console.error("Error adding review:",o),o}})()}getAverageRatingByProviderId(t){var e=this;return(0,p.A)(function*(){try{const u=(yield e.getServicesByProviderId(t)).data;let n=0,i=0;for(const E of u)(yield e.getServiceReviewsByServiceId(E.id)).data.forEach(I=>{i+=I.rate,n++});return n>0?i/n:0}catch(o){throw console.error("Error calculating average rating:",o),o}})()}getAverageRatingByProductId(t){var e=this;return(0,p.A)(function*(){try{const u=(yield r.A.get(`${e.apiUrl}/products/${t}/reviews`)).data;return 0===u.length?null:u.reduce((i,g)=>i+g.rate,0)/u.length}catch(o){throw console.error("Error fetching reviews:",o),o}})()}}return(l=_).\u0275fac=function(t){return new(t||l)},l.\u0275prov=v.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),_})()}}]);