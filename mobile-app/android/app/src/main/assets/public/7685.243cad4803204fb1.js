"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7685],{7685:(v,f,s)=>{s.r(f),s.d(f,{LoginPageModule:()=>n});var d=s(9351),i=s(7199),l=s(7473),p=s(4170),o=s(315),P=s(5822);function u(e,g){if(1&e&&(o.j41(0,"div",22)(1,"ion-label",23),o.EFF(2),o.k0s()()),2&e){const c=o.XpG();o.R7$(2),o.JRh(c.errorMessage)}}const M=[{path:"",component:(()=>{var e;class g{constructor(a,r){this.authService=a,this.router=r,this.email="",this.password="",this.showPassword=!1,this.errorMessage=""}login(){this.authService.login({email:this.email,password:this.password}).then(r=>{console.log("Logged in successfully:",r),this.router.navigate(["/mains"])}).catch(r=>{var h;console.error("Login failed:",(null===(h=r.response)||void 0===h?void 0:h.data)||r.message),this.errorMessage="Invalid email or password. Please try again."})}ngOnInit(){}togglePasswordVisibility(){this.showPassword=!this.showPassword}}return(e=g).\u0275fac=function(a){return new(a||e)(o.rXU(P.u),o.rXU(p.Ix))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-login"]],decls:43,vars:5,consts:[[1,"header-margin"],[1,"titleFont"],[1,"textGray","bodyFont"],[1,"ion-padding"],[1,"bodyFont","SmallMargin"],[1,"roundedInput"],["fill","solid","type","email","placeholder","Enter your email",1,"bodyFont","textGray",3,"ngModelChange","ngModel"],["id","SpecialMargin",1,"roundedInput"],["fill","solid","placeholder","Enter your password",1,"bodyFont","textGray",3,"ngModelChange","type","ngModel"],["slot","end",3,"click","name"],["class","error-message",4,"ngIf"],[1,"bodyFont","forgot-password"],["routerLink","/forgotpass",1,"textGray"],["expand","full","fill","clear",1,"FilledButtons",3,"click"],["routerLink","/create-your-account",1,"logIn"],[1,"logInButtons"],["expand","full","fill","clear","id","Facebook"],["slot","icon-only","src","assets/icons/facebook.svg"],["expand","full","fill","clear","id","Google"],["slot","icon-only","src","assets/icons/google.svg"],["expand","full","fill","clear","id","Apple"],["slot","icon-only","src","assets/icons/apple.svg"],[1,"error-message"],["color","danger"]],template:function(a,r){1&a&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-label",1),o.EFF(4,"Log In"),o.k0s(),o.j41(5,"p",2),o.EFF(6,"Please provide the following credentials."),o.k0s()()()(),o.j41(7,"ion-content",3)(8,"div",4),o.nrm(9,"br"),o.j41(10,"ion-label"),o.EFF(11,"Email"),o.k0s(),o.j41(12,"ion-item",5)(13,"ion-input",6),o.mxI("ngModelChange",function(m){return o.DH7(r.email,m)||(r.email=m),m}),o.k0s()(),o.nrm(14,"br"),o.j41(15,"ion-label"),o.EFF(16,"Password"),o.k0s(),o.j41(17,"ion-item",7)(18,"ion-input",8),o.mxI("ngModelChange",function(m){return o.DH7(r.password,m)||(r.password=m),m}),o.k0s(),o.j41(19,"ion-icon",9),o.bIt("click",function(){return r.togglePasswordVisibility()}),o.k0s()(),o.DNE(20,u,3,1,"div",10),o.j41(21,"div",11)(22,"p",12),o.EFF(23,"Forgot Password?"),o.k0s()()(),o.nrm(24,"br"),o.j41(25,"ion-button",13),o.bIt("click",function(){return r.login()}),o.EFF(26," Log In "),o.k0s(),o.j41(27,"ion-label",2),o.EFF(28," No account? "),o.j41(29,"span",14),o.EFF(30,"Register now"),o.k0s()(),o.j41(31,"div",15),o.nrm(32,"br")(33,"br"),o.j41(34,"ion-button",16),o.nrm(35,"ion-icon",17),o.EFF(36," Login with Facebook "),o.k0s(),o.j41(37,"ion-button",18),o.nrm(38,"ion-icon",19),o.EFF(39," Login with google "),o.k0s(),o.j41(40,"ion-button",20),o.nrm(41,"ion-icon",21),o.EFF(42," Login with apple "),o.k0s()()()),2&a&&(o.R7$(13),o.R50("ngModel",r.email),o.R7$(5),o.Y8G("type",r.showPassword?"text":"password"),o.R50("ngModel",r.password),o.R7$(),o.Y8G("name",r.showPassword?"eye-off-outline":"eye-outline"),o.R7$(),o.Y8G("ngIf",r.errorMessage))},dependencies:[d.bT,i.BC,i.vS,l.Jm,l.W9,l.eU,l.iq,l.$w,l.uz,l.he,l.ai,l.Gw,l.N7,p.Wk],styles:["p[_ngcontent-%COMP%]{padding-top:2px;margin:5px 32px 0 0;width:100%}ion-item[_ngcontent-%COMP%]{margin-top:10px}.SmallMargin[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:16px;font-weight:600}.SmallMargin[_ngcontent-%COMP%]   #SpecialMargin[_ngcontent-%COMP%]{margin-bottom:2px}.forgot-password[_ngcontent-%COMP%]{width:100%;margin-top:2px;margin-left:16px;margin-bottom:15px}.logIn[_ngcontent-%COMP%]{color:var(--Main-One);font-weight:600}.logInButtons[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.logInButtons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:90%;border-radius:16px}.logInButtons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:10px}#Facebook[_ngcontent-%COMP%]{background-color:#3975ea;color:var(--white)}#Google[_ngcontent-%COMP%]{background-color:#fffffe;color:var(--Black)}#Apple[_ngcontent-%COMP%]{background-color:var(--Black);color:#fffffe}"]}),g})()}];let t=(()=>{var e;class g{}return(e=g).\u0275fac=function(a){return new(a||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[p.iI.forChild(M),p.iI]}),g})(),n=(()=>{var e;class g{}return(e=g).\u0275fac=function(a){return new(a||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[d.MD,i.YN,l.bv,t]}),g})()},5822:(v,f,s)=>{s.d(f,{u:()=>P});var d=s(5841),i=s(496),l=s(878),p=s(315),o=s(6e3);i.A.defaults.withCredentials=!0;let P=(()=>{var u;class _{constructor(t){this.http=t,this.apiUrl=l.c.apiUrl}getCSRFToken(){return i.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(t){var n=this;return(0,d.A)(function*(){return yield n.getCSRFToken(),i.A.post(`${n.apiUrl}/api/register`,t).then(e=>(localStorage.setItem("token",e.data.token),e.data)).catch(e=>{throw console.error("Login error:",e),e})})()}checkEmail(t){return i.A.post(`${this.apiUrl}/api/check-email`,{email:t})}sendVerificationCode(t){return i.A.post(`${this.apiUrl}/api/send-verification-code`,{email:t})}verifyCode(t){return i.A.post(`${this.apiUrl}/api/verify-code`,t)}login(t){var n=this;return(0,d.A)(function*(){return yield n.getCSRFToken(),i.A.post(`${n.apiUrl}/api/login`,t).then(e=>(localStorage.setItem("token",e.data.token),e.data)).catch(e=>{throw console.error("Login error:",e),e})})()}logout(){const t=localStorage.getItem("token");return i.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${t}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var t=this;return(0,d.A)(function*(){const n=localStorage.getItem("token");return(yield i.A.get(`${t.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${n}`}})).data.data})()}fetchProfileData(){var t=this;return(0,d.A)(function*(){try{const n=yield t.getProfile();return console.log("Profile response:",n),n}catch(n){throw console.error("Error fetching profile:",n),n}})()}getPetOwnerData(t){const n=localStorage.getItem("token");return i.A.get(`${this.apiUrl}/api/pet_owner/${t}`,{headers:{Authorization:`Bearer ${n}`}})}fetchPetOwnerData(t){return console.log("th id in auth=====>",t),this.getPetOwnerData(t).then(n=>(console.log("pet owner data:",n),n.data.data)).catch(n=>{throw console.error("Error fetching pet owner:",n),n})}updateProfile(t,n){const e=localStorage.getItem("token");return i.A.put(`${this.apiUrl}/api/pet_owner/${n}`,t,{headers:{Authorization:`Bearer ${e}`}})}updateProfileImage(t,n){const e=localStorage.getItem("token");return i.A.post(`${this.apiUrl}/api/pet_owner/image/${n}`,t,{headers:{Authorization:`Bearer ${e}`}})}updatePass(t,n,e){var g=this;return(0,d.A)(function*(){const c=localStorage.getItem("token");try{return(yield i.A.put(`${g.apiUrl}/api/pet-owners/update-password`,{email:t,password:n,password_confirmation:e},{headers:{Authorization:`Bearer ${c}`}})).data}catch(a){throw console.error("Error updating password:",a),a}})()}}return(u=_).\u0275fac=function(t){return new(t||u)(p.KVO(o.Qq))},u.\u0275prov=p.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),_})()}}]);