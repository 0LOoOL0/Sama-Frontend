"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8162],{8162:(f,b,s)=>{s.r(b),s.d(b,{MainPageModule:()=>P});var h=s(9351),g=s(7199),c=s(7473),u=s(4170),t=s(315),_=s(5822),m=s(640);const M=()=>[0,.5,1];function v(n,d){if(1&n){const a=t.RV6();t.j41(0,"div",46)(1,"div",47),t.nrm(2,"img",48),t.k0s(),t.j41(3,"div",49)(4,"ion-label",50),t.EFF(5),t.k0s(),t.j41(6,"ion-label",51),t.bIt("click",function(){const l=t.eBV(a).$implicit,p=t.XpG();return t.Njj(p.showBlogDetails(l))}),t.EFF(7,"Learn more"),t.k0s()()()}if(2&n){const a=d.$implicit;t.R7$(2),t.Y8G("src",a.image,t.B4B),t.R7$(3),t.JRh(a.title)}}function e(n,d){if(1&n){const a=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",52),t.EFF(3,"Blog Details"),t.k0s(),t.j41(4,"ion-buttons",53)(5,"ion-button",54),t.bIt("click",function(){t.eBV(a);const l=t.XpG();return t.Njj(l.closeBlogModal())}),t.EFF(6,"Close"),t.k0s()()()(),t.j41(7,"ion-content",55)(8,"div",56),t.nrm(9,"img",57),t.k0s(),t.j41(10,"div",58)(11,"div",59),t.nrm(12,"br"),t.j41(13,"ion-label",60),t.EFF(14),t.k0s(),t.nrm(15,"br")(16,"br"),t.j41(17,"ion-label",61),t.EFF(18),t.k0s()()()()}if(2&n){const a=t.XpG();t.R7$(9),t.Y8G("src",null==a.selectedBlog?null:a.selectedBlog.image,t.B4B),t.R7$(5),t.JRh(null==a.selectedBlog?null:a.selectedBlog.title),t.R7$(4),t.JRh(null==a.selectedBlog?null:a.selectedBlog.description)}}const r=[{path:"",component:(()=>{var n;class d{constructor(i,l,p,C){this.router=i,this.route=l,this.authService=p,this.blogService=C,this.profile={},this.blogs=[],this.selectedBlog=null,this.showBlogModal=!1}ngOnInit(){this.authService.fetchProfileData().then(i=>{this.profile=i,console.log("Profile data:",this.profile)}).catch(i=>{console.error("Error fetching profile data:",i)}),this.blogService.getBlogs().subscribe(i=>{this.blogs=i.sort((l,p)=>new Date(p.created_at).getTime()-new Date(l.created_at).getTime()),this.blogs=this.blogs.slice(0,4),console.log("Latest 4 blog data:",this.blogs)},i=>{console.error("Error fetching blog data:",i)})}showBlogDetails(i){this.selectedBlog=i,this.showBlogModal=!0}closeBlogModal(){this.showBlogModal=!1,this.selectedBlog=null}goMyPetPage(){this.router.navigate(["/mypet"])}goOrdersPage(){this.router.navigate(["/orders"])}goCartPage(){this.router.navigate(["/cart"])}goMyFavPage(){this.router.navigate(["/favorite"])}goBlogsPage(){this.router.navigate(["/blog"])}}return(n=d).\u0275fac=function(i){return new(i||n)(t.rXU(u.Ix),t.rXU(u.nX),t.rXU(_.u),t.rXU(m.c))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-main"]],decls:73,vars:7,consts:[["id","pfp and username",1,"profile-header","FlexSpaceInBetween","MakeItFlex"],[1,"circle","MakeItFlex"],["fill","clear","routerLink","/my",1,"set"],["alt","Profile Picture",3,"src"],[1,"blackTitleFont","boldFont"],[1,"MakeItFlex"],[1,"circle"],["fill","clear","routerLink","/changelanguage",1,"lang"],["src","assets/icons/language.svg",2,"width","24px","height","24px"],["fill","clear","routerLink","/settings",1,"set"],["src","assets/icons/settings.svg",2,"width","24px","height","24px"],[1,"MakeItFlex","navigation"],[1,"MakeItFlex","MakeItCenter","path",3,"click"],[1,"MakeItFlexAsAColumn"],["src","assets/icons/paw.svg"],[1,"bodyFont","boldFont","smallFont"],[1,"MakeItFlex","MakeItCenter","path-tracking",3,"click"],["src","assets/icons/cart.svg"],[1,"MakeItFlex","MakeItCenter","path-My-Order",3,"click"],["src","assets/icons/file-05.svg"],["src","assets/icons/heartb.svg"],[1,"ion-padding"],["id","img",1,"MakeItCenter"],["src","assets/adv.svg"],[1,"MakeItCenter"],[1,"subscribe",2,"background-image","url('/assets/bg.svg')"],[1,"bodyFont","boldFont"],["fill","clear"],["id","blog"],[1,"FlexSpaceInBetween"],["button","",1,"bodyFont",3,"click"],[1,"MakeItAGride","blogContainer"],["class","blog",4,"ngFor","ngForOf"],[1,"bodyFont","modal","header-toolbar",3,"ionModalDidDismiss","isOpen","initialBreakpoint","breakpoints"],["slot","bottom"],["routerLink","/mains"],["src","assets/icons/home.svg"],["routerLink","/mypet"],["src","assets/icons/my-pets.svg"],[1,"orangeCircle"],["routerLink","/qr-card"],["src","assets/icons/navigation.svg"],["routerLink","/reminder"],["src","assets/icons/book.svg"],["routerLink","/main"],["src","assets/icons/profile.svg"],[1,"blog"],[1,"imgContainer"],[3,"src"],[1,"more"],[1,"bodyFont","boldFont","blogTitle"],[1,"bodyFont","smallFont","blogLink",3,"click"],[1,"titleFont"],["slot","end"],[1,"bodyFont",3,"click"],[1,"ion-padding","content-container","MakeItCenter"],[1,"imgdeteil","MakeItCenter"],["alt","Blog Image",3,"src"],[1,"descriptions-blog"],[1,"bodyFont"],[1,"boldFont","blogTitle","FlexSpaceInBetween"],[1,"smallFont"]],template:function(i,l){1&i&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"div",1)(4,"ion-button",2)(5,"ion-avatar"),t.nrm(6,"img",3),t.k0s()(),t.j41(7,"ion-label",4),t.EFF(8),t.k0s()(),t.j41(9,"div",5)(10,"div",6)(11,"ion-button",7),t.nrm(12,"img",8),t.k0s()(),t.j41(13,"div",6)(14,"ion-button",9),t.nrm(15,"img",10),t.k0s()()()()(),t.j41(16,"div",11)(17,"div",12),t.bIt("click",function(){return l.goMyPetPage()}),t.j41(18,"div",13),t.nrm(19,"img",14),t.j41(20,"ion-label",15),t.EFF(21,"My pet"),t.k0s()()(),t.j41(22,"div",16),t.bIt("click",function(){return l.goCartPage()}),t.j41(23,"div",13),t.nrm(24,"img",17),t.j41(25,"ion-label",15),t.EFF(26,"Cart"),t.k0s()()(),t.j41(27,"div",18),t.bIt("click",function(){return l.goOrdersPage()}),t.j41(28,"div",13),t.nrm(29,"img",19),t.j41(30,"ion-label",15),t.EFF(31,"My order"),t.k0s()()(),t.j41(32,"div",12),t.bIt("click",function(){return l.goMyFavPage()}),t.j41(33,"div",13),t.nrm(34,"img",20),t.j41(35,"ion-label",15),t.EFF(36,"Favorites"),t.k0s()()()()(),t.j41(37,"ion-content",21)(38,"div",22),t.nrm(39,"img",23),t.k0s(),t.nrm(40,"br"),t.j41(41,"div",24)(42,"div",25)(43,"ion-label",26),t.EFF(44,"Not a member?"),t.k0s(),t.j41(45,"ion-button",27),t.EFF(46,"SUBSCRIBE"),t.k0s()()(),t.nrm(47,"br"),t.j41(48,"div",24)(49,"div",28)(50,"div",29)(51,"ion-label",4),t.EFF(52,"Blogs"),t.k0s(),t.j41(53,"ion-label",30),t.bIt("click",function(){return l.goBlogsPage()}),t.EFF(54,"See More"),t.k0s()(),t.j41(55,"div",24)(56,"div")(57,"div",31),t.DNE(58,v,8,2,"div",32),t.k0s()()()()(),t.j41(59,"ion-modal",33),t.bIt("ionModalDidDismiss",function(){return l.closeBlogModal()}),t.DNE(60,e,19,3,"ng-template"),t.k0s()(),t.j41(61,"ion-tab-bar",34)(62,"ion-tab-button",35),t.nrm(63,"ion-icon",36),t.k0s(),t.j41(64,"ion-tab-button",37),t.nrm(65,"ion-icon",38),t.k0s(),t.j41(66,"div",39)(67,"ion-tab-button",40),t.nrm(68,"ion-icon",41),t.k0s()(),t.j41(69,"ion-tab-button",42),t.nrm(70,"ion-icon",43),t.k0s(),t.j41(71,"ion-tab-button",44),t.nrm(72,"ion-icon",45),t.k0s()()),2&i&&(t.R7$(6),t.Y8G("src",l.profile.profile_image,t.B4B),t.R7$(2),t.SpI(" ",l.profile.first_name," "),t.R7$(50),t.Y8G("ngForOf",l.blogs),t.R7$(),t.Y8G("isOpen",l.showBlogModal)("initialBreakpoint",.5)("breakpoints",t.lJ4(6,M)))},dependencies:[h.Sq,c.mC,c.Jm,c.QW,c.W9,c.eU,c.iq,c.he,c.Jq,c.qW,c.BC,c.ai,c.Sb,c.N7,u.Wk],styles:["ion-header[_ngcontent-%COMP%]{padding:16px 16px 0;--background:var(--background-color)}.header-toolbar[_ngcontent-%COMP%]{--background:var(--background-color)}.profile-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:5px}.profile-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.circle[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 50px}.lang[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 5px}.set[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0}.navigation[_ngcontent-%COMP%]{width:100%;min-height:75px}.navigation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:5px;width:24px;height:24px}.path[_ngcontent-%COMP%], .path-tracking[_ngcontent-%COMP%], .path-My-Order[_ngcontent-%COMP%]{width:25%;height:80%}.path.path-tracking[_ngcontent-%COMP%], .path-tracking.path-tracking[_ngcontent-%COMP%], .path-My-Order.path-tracking[_ngcontent-%COMP%]{border-left:1px solid var(--GrayColor);border-right:1px solid var(--GrayColor)}.path.path-My-Order[_ngcontent-%COMP%], .path-tracking.path-My-Order[_ngcontent-%COMP%], .path-My-Order.path-My-Order[_ngcontent-%COMP%]{border-right:1px solid var(--GrayColor)}.subscribe[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:100%;max-width:350px;height:64px;border-radius:16px;padding-right:20px;padding-left:20px}.subscribe[_ngcontent-%COMP%]   .bodyFont[_ngcontent-%COMP%]{color:var(--White)!important}.subscribe[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-style:normal;text-align:center;border-radius:16px;background-color:var(--Main-One);color:var(--White);padding:0 16px}.blogContainer[_ngcontent-%COMP%]{max-width:350px}#blog[_ngcontent-%COMP%]   .FlexSpaceInBetween[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.blog[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:200px;margin:5px;padding:10px;border-radius:16px;background-color:var(--White)}.imgContainer[_ngcontent-%COMP%]{width:100%;height:auto;max-height:100px;margin-bottom:10px;border-radius:16px;position:relative;overflow:hidden;object-position:center}.imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:16px;object-fit:cover;object-position:center}.imgdeteil[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;border-radius:16px;position:relative;overflow:hidden}.imgdeteil[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75%;height:75%;border-radius:16px;object-fit:cover;object-position:center}",".descriptions-blog[_ngcontent-%COMP%]{margin-top:0;margin-left:32px;margin-right:10px;justify-content:space-between;display:flex}.blogTitle[_ngcontent-%COMP%]{margin-bottom:3px}.blogLink[_ngcontent-%COMP%]{text-decoration:none;color:var(--Accent-Two)!important}.more[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-content:space-between;height:50%}ion-tab-bar[_ngcontent-%COMP%]{--background: var(--Main-Two);margin:10px;border-radius:16px}.orangeCircle[_ngcontent-%COMP%]{background-color:var(--Main-One);border-radius:50%;width:65px;height:65px}.popup[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;box-shadow:0 0 10px #0000001a;z-index:1000;max-width:90%;width:500px;border-radius:8px}.popup-content[_ngcontent-%COMP%]{padding:20px}ion-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0006;z-index:999}"]}),d})()}];let k=(()=>{var n;class d{}return(n=d).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[u.iI.forChild(r),u.iI]}),d})(),P=(()=>{var n;class d{}return(n=d).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[h.MD,g.YN,c.bv,k]}),d})()},5822:(f,b,s)=>{s.d(b,{u:()=>_});var h=s(5841),g=s(496),c=s(878),u=s(315),t=s(6e3);g.A.defaults.withCredentials=!0;let _=(()=>{var m;class M{constructor(e){this.http=e,this.apiUrl=c.c.apiUrl}getCSRFToken(){return g.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(e){var o=this;return(0,h.A)(function*(){return yield o.getCSRFToken(),g.A.post(`${o.apiUrl}/api/register`,e).then(r=>(localStorage.setItem("token",r.data.token),r.data)).catch(r=>{throw console.error("Login error:",r),r})})()}checkEmail(e){return g.A.post(`${this.apiUrl}/api/check-email`,{email:e})}sendVerificationCode(e){return g.A.post(`${this.apiUrl}/api/send-verification-code`,{email:e})}verifyCode(e){return g.A.post(`${this.apiUrl}/api/verify-code`,e)}login(e){var o=this;return(0,h.A)(function*(){return yield o.getCSRFToken(),g.A.post(`${o.apiUrl}/api/login`,e).then(r=>(localStorage.setItem("token",r.data.token),r.data)).catch(r=>{throw console.error("Login error:",r),r})})()}logout(){const e=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${e}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var e=this;return(0,h.A)(function*(){const o=localStorage.getItem("token");return(yield g.A.get(`${e.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${o}`}})).data.data})()}fetchProfileData(){var e=this;return(0,h.A)(function*(){try{const o=yield e.getProfile();return console.log("Profile response:",o),o}catch(o){throw console.error("Error fetching profile:",o),o}})()}getPetOwnerData(e){const o=localStorage.getItem("token");return g.A.get(`${this.apiUrl}/api/pet_owner/${e}`,{headers:{Authorization:`Bearer ${o}`}})}fetchPetOwnerData(e){return console.log("th id in auth=====>",e),this.getPetOwnerData(e).then(o=>(console.log("pet owner data:",o),o.data.data)).catch(o=>{throw console.error("Error fetching pet owner:",o),o})}updateProfile(e,o){const r=localStorage.getItem("token");return g.A.put(`${this.apiUrl}/api/pet_owner/${o}`,e,{headers:{Authorization:`Bearer ${r}`}})}updateProfileImage(e,o){const r=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/pet_owner/image/${o}`,e,{headers:{Authorization:`Bearer ${r}`}})}updatePass(e,o,r){var k=this;return(0,h.A)(function*(){const P=localStorage.getItem("token");try{return(yield g.A.put(`${k.apiUrl}/api/pet-owners/update-password`,{email:e,password:o,password_confirmation:r},{headers:{Authorization:`Bearer ${P}`}})).data}catch(n){throw console.error("Error updating password:",n),n}})()}}return(m=M).\u0275fac=function(e){return new(e||m)(u.KVO(t.Qq))},m.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),M})()}}]);