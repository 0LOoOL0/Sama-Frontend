"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6941],{6941:(A,v,i)=>{i.r(v),i.d(v,{MypetPageModule:()=>P});var l=i(9351),p=i(7199),c=i(7473),m=i(4170),$=i(5841),e=i(315),f=i(5822),d=i(1572);function y(n,g){1&n&&e.nrm(0,"ion-icon",17)}function r(n,g){if(1&n){const u=e.RV6();e.j41(0,"div",12),e.bIt("click",function(){const h=e.eBV(u).$implicit,_=e.XpG();return e.Njj(_.goProfileDetails(h.id))}),e.j41(1,"ion-avatar",13)(2,"img",14),e.bIt("error",function(){const h=e.eBV(u).$implicit;return e.Njj(h.imageUrl="/assets/icons/no-profile.svg")}),e.k0s(),e.DNE(3,y,1,0,"ion-icon",15),e.k0s(),e.j41(4,"p",16),e.EFF(5),e.k0s()()}if(2&n){const u=g.$implicit;e.R7$(2),e.FS9("alt",u.name),e.Y8G("src",u.imageUrl,e.B4B),e.R7$(),e.Y8G("ngIf",u.isFavorite),e.R7$(2),e.JRh(u.name)}}const o=[{path:"",component:(()=>{var n;class g{constructor(s,h,_){this.authService=s,this.router=h,this.petService=_,this.pets=[]}ngOnInit(){var s=this;this.petService.fetchPets().then(function(){var h=(0,$.A)(function*(_){s.pets=_,yield s.loadImages()});return function(_){return h.apply(this,arguments)}}())}goProfileDetails(s){this.petService.setPetId(s),this.router.navigate(["/petdetailes",s])}addNewPet(){this.router.navigate(["/pet-profile"])}loadImages(){var s=this;return(0,$.A)(function*(){for(let h of s.pets)h.image&&(h.imageUrl=yield s.petService.uploadImage(h.image));console.log("the Image URL  for all pets: ============>",s.pets)})()}}return(n=g).\u0275fac=function(s){return new(s||n)(e.rXU(f.u),e.rXU(m.Ix),e.rXU(d.d))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-mypet"]],decls:17,vars:3,consts:[[3,"translucent"],["slot","start"],["defaultHref","/"],[1,"ion-padding",3,"fullscreen"],[1,"pets-container"],["class","pet-item",3,"click",4,"ngFor","ngForOf"],[1,"pet-item","add-new",3,"click"],[1,"plus-container"],[1,"add-pet-image"],["src","assets\\icons\\Plus.svg","alt","plusicon",1,"plusicon"],["name","add",1,"add-icon"],[1,"add-pet-text","bodyFont"],[1,"pet-item",3,"click"],[1,"pet-image"],[3,"error","src","alt"],["class","favorite-icon","name","star",4,"ngIf"],[1,"pet-name","bodyFont"],["name","star",1,"favorite-icon"]],template:function(s,h){1&s&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"My Pet"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"ion-grid")(8,"div",4),e.DNE(9,r,6,4,"div",5),e.j41(10,"div",6),e.bIt("click",function(){return h.addNewPet()}),e.j41(11,"div",7)(12,"ion-avatar",8),e.nrm(13,"img",9)(14,"ion-icon",10),e.k0s()(),e.j41(15,"p",11),e.EFF(16,"Add New Pet"),e.k0s()()()()()),2&s&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(3),e.Y8G("ngForOf",h.pets))},dependencies:[l.Sq,l.bT,c.mC,c.QW,c.W9,c.lO,c.eU,c.iq,c.BC,c.ai,c.el],styles:["ion-title[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-size:1rem;font-weight:600;font-style:normal;color:var(--Main-One)}ion-body[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-size:.7rem;font-weight:500;font-style:normal;color:var(--Black)}.pets-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.pet-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:25px}.pet-image[_ngcontent-%COMP%]{width:85px;height:85px;position:relative}.favorite-icon[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;color:gold}.add-pet-image[_ngcontent-%COMP%]{width:85px;height:85px;background-color:var(--ion-color-primary);display:flex;justify-content:center;align-items:center}.add-icon[_ngcontent-%COMP%]{color:#fff;font-size:50px}.pet-name[_ngcontent-%COMP%], .add-pet-text[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.plus-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.plusicon[_ngcontent-%COMP%]{display:block;width:35%;height:auto}.add-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2em;border-radius:50%;padding:10px}"]}),g})()}];let a=(()=>{var n;class g{}return(n=g).\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[m.iI.forChild(o),m.iI]}),g})(),P=(()=>{var n;class g{}return(n=g).\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[l.MD,p.YN,c.bv,a]}),g})()},5822:(A,v,i)=>{i.d(v,{u:()=>e});var l=i(5841),p=i(496),c=i(878),m=i(315),$=i(6e3);p.A.defaults.withCredentials=!0;let e=(()=>{var f;class d{constructor(r){this.http=r,this.apiUrl=c.c.apiUrl}getCSRFToken(){return p.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(r){var t=this;return(0,l.A)(function*(){return yield t.getCSRFToken(),p.A.post(`${t.apiUrl}/api/register`,r).then(o=>(localStorage.setItem("token",o.data.token),o.data)).catch(o=>{throw console.error("Login error:",o),o})})()}checkEmail(r){return p.A.post(`${this.apiUrl}/api/check-email`,{email:r})}sendVerificationCode(r){return p.A.post(`${this.apiUrl}/api/send-verification-code`,{email:r})}verifyCode(r){return p.A.post(`${this.apiUrl}/api/verify-code`,r)}login(r){var t=this;return(0,l.A)(function*(){return yield t.getCSRFToken(),p.A.post(`${t.apiUrl}/api/login`,r).then(o=>(localStorage.setItem("token",o.data.token),o.data)).catch(o=>{throw console.error("Login error:",o),o})})()}logout(){const r=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${r}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var r=this;return(0,l.A)(function*(){const t=localStorage.getItem("token");return(yield p.A.get(`${r.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${t}`}})).data.data})()}fetchProfileData(){var r=this;return(0,l.A)(function*(){try{const t=yield r.getProfile();return console.log("Profile response:",t),t}catch(t){throw console.error("Error fetching profile:",t),t}})()}getPetOwnerData(r){const t=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/pet_owner/${r}`,{headers:{Authorization:`Bearer ${t}`}})}fetchPetOwnerData(r){return console.log("th id in auth=====>",r),this.getPetOwnerData(r).then(t=>(console.log("pet owner data:",t),t.data.data)).catch(t=>{throw console.error("Error fetching pet owner:",t),t})}updateProfile(r,t){const o=localStorage.getItem("token");return p.A.put(`${this.apiUrl}/api/pet_owner/${t}`,r,{headers:{Authorization:`Bearer ${o}`}})}updateProfileImage(r,t){const o=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet_owner/image/${t}`,r,{headers:{Authorization:`Bearer ${o}`}})}updatePass(r,t,o){var a=this;return(0,l.A)(function*(){const P=localStorage.getItem("token");try{return(yield p.A.put(`${a.apiUrl}/api/pet-owners/update-password`,{email:r,password:t,password_confirmation:o},{headers:{Authorization:`Bearer ${P}`}})).data}catch(n){throw console.error("Error updating password:",n),n}})()}}return(f=d).\u0275fac=function(r){return new(r||f)(m.KVO($.Qq))},f.\u0275prov=m.jDH({token:f,factory:f.\u0275fac,providedIn:"root"}),d})()},1572:(A,v,i)=>{i.d(v,{d:()=>f});var l=i(496),p=i(5109),c=i(878),m=i(315),$=i(6e3),e=i(4003);let f=(()=>{var d;class y{constructor(t,o){this.http=t,this.storage=o,this.apiUrl=c.c.apiUrl,this.petId=null}addPet(t){for(const[a,P]of t.entries())console.log(`${a}: ${P}`);const o=localStorage.getItem("token");return l.A.post(`${this.apiUrl}/api/pet/store`,t,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}getPets(){const t=localStorage.getItem("token");return l.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${t}`}})}getPetsByOwnerId(t){const o=localStorage.getItem("token");return(0,p.H)(l.A.get(`${this.apiUrl}/api/pet_owners/${t}/pets`,{headers:{Authorization:`Bearer ${o}`}}).then(a=>(console.log("Pets by Owner ID response:",a),a.data.data)).catch(a=>{throw console.error("Error fetching pets by owner ID:",a),a}))}getPetById(t){const o=localStorage.getItem("token");return(0,p.H)(l.A.get(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${o}`}}).then(a=>(console.log("Pet response:",a),a.data.data)).catch(a=>{throw console.error("Error fetching pet:",a),a}))}getAllPets(){const t=localStorage.getItem("token");return l.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${t}`}})}fetchAllPets(){return this.getAllPets().then(t=>(console.log("All Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching all pets:",t),t})}fetchPets(){return this.getPets().then(t=>(console.log("Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching pets:",t),t})}getPet(t){return this.http.get(`${this.apiUrl}/api/pet/${t}`)}storePet(t){return this.http.post(`${this.apiUrl}/api/pet`,t)}updatePet(t,o){console.log("pet in pet-info.service====>",o);const a=localStorage.getItem("token");return l.A.post(`${this.apiUrl}/api/pet/update/${t}`,o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(t,o){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${t}`,{is_lost:o?1:0},{headers:{Authorization:`Bearer ${a}`}})}updateAdoptionStatus(t,o){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${t}`,{allow_adoption:o?1:0},{headers:{Authorization:`Bearer ${a}`}})}updateMatingStatus(t,o){const a=localStorage.getItem("token"),n={is_neutered:o.toLowerCase()};return this.http.post(`${this.apiUrl}/api/pet/update-mating-status/${t}`,n,{headers:{Authorization:`Bearer ${a}`}})}deleteImage(t){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${t}`,{},{headers:{Authorization:`Bearer ${o}`}})}updateImage(t,o){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${t}`,o,{headers:{Authorization:`Bearer ${a}`}})}deletePet(t){const o=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${o}`}})}setPetId(t){this.petId=t}getPetId(){return this.petId}markPetAsLost(t){return this.http.post(`${this.apiUrl}/api/pet/lost/${t}`,{})}markPetAsFound(t){return this.http.post(`${this.apiUrl}/api/pet/found/${t}`,{})}getOwnerIdByEmail(t){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:t}})}updatePetOwner(t,o){return this.http.put(`${this.apiUrl}/api/pets/${t}`,{pet_owner_id:o})}addDocument(t,o){const a=localStorage.getItem("token");return l.A.post(`${this.apiUrl}/api/pet/${t}/documents`,o,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})}uploadImage(t){return this.storage.ref(t).getDownloadURL().toPromise()}addLostPetByFounder(t){const o=localStorage.getItem("token");return l.A.post(`${this.apiUrl}/api/addLostPetByFounder`,t,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const t=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${t}`}})}showLostPetByFounder(t){const o=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${o}`}})}deleteLostPetByFounder(t){const o=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${o}`}})}}return(d=y).\u0275fac=function(t){return new(t||d)(m.KVO($.Qq),m.KVO(e.ap))},d.\u0275prov=m.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),y})()}}]);