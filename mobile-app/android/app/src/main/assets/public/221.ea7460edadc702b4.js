"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[221],{221:($,f,l)=>{l.r(f),l.d(f,{AdoptionlistPageModule:()=>M});var d=l(9351),P=l(7199),c=l(7473),u=l(4170),v=l(5841),t=l(315),A=l(1572);const g=(r,p)=>({segButtonClicked:r,segButtonNotClicked:p});function _(r,p){1&r&&(t.j41(0,"div",10)(1,"div",11)(2,"div",12),t.nrm(3,"img",13),t.j41(4,"ion-label",14),t.EFF(5,"Sorry, we couldn\u2019t find what you are looking for!"),t.k0s()()()())}function k(r,p){1&r&&(t.j41(0,"div",10)(1,"div",11)(2,"div",12),t.nrm(3,"img",13),t.j41(4,"ion-label",14),t.EFF(5,"Sorry, we couldn\u2019t find what you are looking for!"),t.k0s()()()())}function e(r,p){if(1&r){const a=t.RV6();t.j41(0,"div",17),t.bIt("click",function(){const n=t.eBV(a).$implicit,h=t.XpG(2);return t.Njj(h.navigateToInfo(n.id))}),t.j41(1,"ion-label",18),t.EFF(2),t.k0s(),t.j41(3,"div",19),t.nrm(4,"img",20),t.k0s(),t.j41(5,"div",21)(6,"div")(7,"div",22)(8,"ion-label",18),t.EFF(9),t.k0s()(),t.j41(10,"div",23),t.nrm(11,"img",24),t.j41(12,"ion-label",25),t.EFF(13),t.k0s()()(),t.nrm(14,"img",26),t.k0s()()}if(2&r){const a=p.$implicit,o=t.XpG(2);t.R7$(2),t.JRh((null==a?null:a.role)||(2===o.petListType?"Owner":"")),t.R7$(2),t.Y8G("src",a.image,t.B4B),t.R7$(5),t.JRh(a.name),t.R7$(4),t.SpI(" ",a.distance,"")}}function i(r,p){if(1&r&&(t.j41(0,"div")(1,"div",11)(2,"div")(3,"div",15),t.DNE(4,e,15,4,"div",16),t.k0s()()()()),2&r){const a=t.XpG();t.R7$(4),t.Y8G("ngForOf",a.getPets())}}function s(r,p){if(1&r){const a=t.RV6();t.j41(0,"ion-fab",27)(1,"div",28)(2,"ion-fab-button",29),t.bIt("click",function(){t.eBV(a);const n=t.XpG();return t.Njj(n.showOptionsPopup())}),t.nrm(3,"img",30),t.j41(4,"ion-label"),t.EFF(5),t.k0s()()()()}if(2&r){const a=t.XpG();t.R7$(5),t.JRh(a.getFabLabel())}}const y=[{path:"",component:(()=>{var r;class p{constructor(o,n,h){this.router=o,this.petInfoService=n,this.alertController=h,this.searchQuery="",this.AllPets={},this.adoptionPets=[],this.lostPets=[],this.lostOwnerPets=[],this.mattingPets=[],this.petListType=1,this.role=""}ngOnInit(){this.petInfoService.fetchAllPets().then(o=>{this.AllPets=o,this.filterPets()}).catch(o=>{console.error("Error fetching pets data:",o)}),this.petInfoService.fetchAllLostPets().subscribe(o=>{this.lostPets=o.lostPets},o=>{console.error("Error fetching lost pets:",o)})}filterPets(){this.adoptionPets=this.AllPets.filter(o=>1===o.allow_adoption).sort((o,n)=>new Date(n.created_at).getTime()-new Date(o.created_at).getTime()),this.mattingPets=this.AllPets.filter(o=>"yes"===o.is_neutered).sort((o,n)=>new Date(n.created_at).getTime()-new Date(o.created_at).getTime()),this.lostOwnerPets=this.AllPets.filter(o=>1===o.is_lost)}getPets(){let o=[];return 1===this.petListType?o=this.adoptionPets:2===this.petListType?o=[...this.lostPets,...this.lostOwnerPets].sort((n,h)=>new Date(h.created_at).getTime()-new Date(n.created_at).getTime()):3===this.petListType&&(o=this.mattingPets),this.searchQuery&&(o=o.filter(n=>n.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),o}getFabLabel(){return 1===this.petListType?"Adopt":2===this.petListType?"Report Lost":3===this.petListType?"Find Mate":""}navigateToInfo(o){2===this.petListType?this.router.navigate(["/lostpetinfo",o],{queryParams:{role:this.role}}):this.router.navigate(["/adoptionpetinfo",o])}isFounder(){return"founder"===this.role}showAdoption(){this.petListType=1}showLostPet(){this.petListType=2}showMating(){this.petListType=3}showOptionsPopup(){var o=this;return(0,v.A)(function*(){o.router.navigate(1===o.petListType?["/mypet"]:2===o.petListType?["/lostform"]:["/mypet"])})()}navigateToForm(o,n){"lostForm"===o&&"founder"===n&&this.router.navigate(["/lostform",{role:n}])}}return(r=p).\u0275fac=function(o){return new(o||r)(t.rXU(u.Ix),t.rXU(A.d),t.rXU(c.hG))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-adoptionlist"]],decls:20,vars:17,consts:[["slot","start"],[1,"header-margin-Single-Line"],[1,"titleFont"],[1,"ion-padding","full-height"],["placeholder","Search here...",3,"ngModelChange","ngModel"],[1,"segments"],["fill","clear",3,"click","ngClass"],["class","contanier MakeItCenter MakeItFlex",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"contanier","MakeItCenter","MakeItFlex"],[1,"MakeItCenter"],[1,"noPets","MakeItFlexAsAColumn"],["src","assets/mypet.svg","alt","No pets found"],[1,"bodyFont","boldFont","textGray"],[1,"MakeItAGride","gridContainer"],["class","singleCell",3,"click",4,"ngFor","ngForOf"],[1,"singleCell",3,"click"],[1,"bodyFont","boldFont"],[1,"imgContainer"],["alt","Pet Image",3,"src"],[1,"FlexSpaceInBetween"],[1,"titleContainer"],[1,"MakeItFlex","location"],["id","location","src","assets/icons/location.svg",1,"iconSmall"],[1,"bodyFont","textGray"],["src","assets/icons/heart.svg",1,"icon"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"FabButton"],["fill","clear",3,"click"],["id","location","src","assets/icons/plus-white.svg",1,"iconSmall"]],template:function(o,n){1&o&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button"),t.k0s(),t.j41(4,"div",1)(5,"ion-label",2),t.EFF(6,"Explore Pets"),t.k0s()()()(),t.j41(7,"ion-content",3)(8,"ion-searchbar",4),t.mxI("ngModelChange",function(I){return t.DH7(n.searchQuery,I)||(n.searchQuery=I),I}),t.k0s(),t.j41(9,"div",5)(10,"ion-button",6),t.bIt("click",function(){return n.showAdoption()}),t.EFF(11," Adoption "),t.k0s(),t.j41(12,"ion-button",6),t.bIt("click",function(){return n.showLostPet()}),t.EFF(13," Lost Pets "),t.k0s(),t.j41(14,"ion-button",6),t.bIt("click",function(){return n.showMating()}),t.EFF(15," Mating "),t.k0s()(),t.DNE(16,_,6,0,"div",7)(17,k,6,0,"div",7)(18,i,5,1,"div",8)(19,s,6,1,"ion-fab",9),t.k0s()),2&o&&(t.R7$(8),t.R50("ngModel",n.searchQuery),t.R7$(2),t.Y8G("ngClass",t.l_i(8,g,1===n.petListType,1!==n.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(11,g,2===n.petListType,2!==n.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(14,g,3===n.petListType,3!==n.petListType)),t.R7$(2),t.Y8G("ngIf",0===n.petListType),t.R7$(),t.Y8G("ngIf",0!=n.petListType&&0===n.getPets().length),t.R7$(),t.Y8G("ngIf",0!=n.petListType&&n.getPets().length>0),t.R7$(),t.Y8G("ngIf",0!=n.petListType))},dependencies:[d.YU,d.Sq,d.bT,P.BC,P.vS,c.Jm,c.QW,c.W9,c.Q8,c.YW,c.eU,c.he,c.S1,c.ai,c.Gw,c.el],styles:["ion-buttons[_ngcontent-%COMP%]{margin-top:20px}.icon[_ngcontent-%COMP%]{width:24px;height:auto}.segments[_ngcontent-%COMP%]{margin-left:5px;width:100%}.segments[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-style:normal;font-size:.7rem;text-align:center;border-radius:16px}.segments[_ngcontent-%COMP%]   #big[_ngcontent-%COMP%]{display:inline}.segButtonClicked[_ngcontent-%COMP%]{background-color:var(--Main-Two);color:#fff}.segButtonNotClicked[_ngcontent-%COMP%]{border:1px solid var(--GrayColor);background-color:var(--background-color);color:var(--GrayColor)}.contanier[_ngcontent-%COMP%]{width:100%;height:85%}.noPets[_ngcontent-%COMP%]{width:80%;max-width:350px;text-align:center}.noPets[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:auto}.gridContainer[_ngcontent-%COMP%]{max-width:350px}.singleCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:5px;padding:10px;border-radius:16px;background-color:var(--White)}.imgContainer[_ngcontent-%COMP%]{width:100%;height:auto;max-height:100px;margin-bottom:10px;border-radius:16px;position:relative;overflow:hidden}.imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:16px;height:auto;object-fit:cover;object-position:center}.titleContainer[_ngcontent-%COMP%]{width:100%}.iconSmall[_ngcontent-%COMP%]{width:17px;height:auto}.location[_ngcontent-%COMP%]{margin-top:3px}#location[_ngcontent-%COMP%]{margin-right:5px}.FabButton[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-weight:600;font-size:.875rem;font-style:normal}.FabButton[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{width:125px;height:40px;--color: var(--White);--border-radius: 16px;--background: var(--Main-One)}"]}),p})()}];let C=(()=>{var r;class p{}return(r=p).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[u.iI.forChild(y),u.iI]}),p})(),M=(()=>{var r;class p{}return(r=p).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[d.MD,P.YN,c.bv,C]}),p})()},1572:($,f,l)=>{l.d(f,{d:()=>A});var d=l(496),P=l(5109),c=l(878),u=l(315),v=l(6e3),t=l(4003);let A=(()=>{var g;class _{constructor(e,i){this.http=e,this.storage=i,this.apiUrl=c.c.apiUrl,this.petId=null}addPet(e){for(const[s,m]of e.entries())console.log(`${s}: ${m}`);const i=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/store`,e,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}})}getPets(){const e=localStorage.getItem("token");return d.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${e}`}})}getPetsByOwnerId(e){const i=localStorage.getItem("token");return(0,P.H)(d.A.get(`${this.apiUrl}/api/pet_owners/${e}/pets`,{headers:{Authorization:`Bearer ${i}`}}).then(s=>(console.log("Pets by Owner ID response:",s),s.data.data)).catch(s=>{throw console.error("Error fetching pets by owner ID:",s),s}))}getPetById(e){const i=localStorage.getItem("token");return(0,P.H)(d.A.get(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${i}`}}).then(s=>(console.log("Pet response:",s),s.data.data)).catch(s=>{throw console.error("Error fetching pet:",s),s}))}getAllPets(){const e=localStorage.getItem("token");return d.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${e}`}})}fetchAllPets(){return this.getAllPets().then(e=>(console.log("All Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching all pets:",e),e})}fetchPets(){return this.getPets().then(e=>(console.log("Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets:",e),e})}getPet(e){return this.http.get(`${this.apiUrl}/api/pet/${e}`)}storePet(e){return this.http.post(`${this.apiUrl}/api/pet`,e)}updatePet(e,i){console.log("pet in pet-info.service====>",i);const s=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/update/${e}`,i,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(e,i){const s=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${e}`,{is_lost:i?1:0},{headers:{Authorization:`Bearer ${s}`}})}updateAdoptionStatus(e,i){const s=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${e}`,{allow_adoption:i?1:0},{headers:{Authorization:`Bearer ${s}`}})}updateMatingStatus(e,i){const s=localStorage.getItem("token"),y={is_neutered:i.toLowerCase()};return this.http.post(`${this.apiUrl}/api/pet/update-mating-status/${e}`,y,{headers:{Authorization:`Bearer ${s}`}})}deleteImage(e){const i=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${e}`,{},{headers:{Authorization:`Bearer ${i}`}})}updateImage(e,i){const s=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${e}`,i,{headers:{Authorization:`Bearer ${s}`}})}deletePet(e){const i=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${i}`}})}setPetId(e){this.petId=e}getPetId(){return this.petId}markPetAsLost(e){return this.http.post(`${this.apiUrl}/api/pet/lost/${e}`,{})}markPetAsFound(e){return this.http.post(`${this.apiUrl}/api/pet/found/${e}`,{})}getOwnerIdByEmail(e){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:e}})}updatePetOwner(e,i){return this.http.put(`${this.apiUrl}/api/pets/${e}`,{pet_owner_id:i})}addDocument(e,i){const s=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/${e}/documents`,i,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"multipart/form-data"}})}uploadImage(e){return this.storage.ref(e).getDownloadURL().toPromise()}addLostPetByFounder(e){const i=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/addLostPetByFounder`,e,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${e}`}})}showLostPetByFounder(e){const i=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${i}`}})}deleteLostPetByFounder(e){const i=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${i}`}})}}return(g=_).\u0275fac=function(e){return new(e||g)(u.KVO(v.Qq),u.KVO(t.ap))},g.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),_})()}}]);