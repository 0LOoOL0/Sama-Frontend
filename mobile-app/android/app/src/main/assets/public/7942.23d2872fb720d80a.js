"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7942],{7942:(I,c,a)=>{a.r(c),a.d(c,{MyPetsPageModule:()=>r});var p=a(9351),g=a(7199),s=a(7473),u=a(4170),m=a(5841),o=a(315),f=a(1572);function h(e,i){if(1&e){const l=o.RV6();o.j41(0,"ion-item",6)(1,"ion-avatar",7),o.nrm(2,"img",8),o.k0s(),o.j41(3,"ion-label")(4,"h2",1),o.EFF(5),o.k0s()(),o.j41(6,"ion-thumbnail",9),o.bIt("click",function(){const d=o.eBV(l).$implicit,P=o.XpG();return o.Njj(P.edit(d.id))}),o.nrm(7,"img",10),o.k0s()()}if(2&e){const l=i.$implicit;o.R7$(2),o.FS9("alt",l.name),o.Y8G("src",l.image,o.B4B),o.R7$(3),o.JRh(l.name)}}const y=[{path:"",component:(()=>{var e;class i{constructor(n,d){this.petService=n,this.router=d}ngOnInit(){var n=this;this.petService.fetchPets().then(function(){var d=(0,m.A)(function*(P){n.myPets=P,yield n.loadImages()});return function(P){return d.apply(this,arguments)}}())}loadImages(){var n=this;return(0,m.A)(function*(){for(let d of n.myPets)d.image&&(d.imageUrl=yield n.petService.uploadImage(d.image))})()}edit(n){this.router.navigate(["/petdetailes",n])}}return(e=i).\u0275fac=function(n){return new(n||e)(o.rXU(f.d),o.rXU(u.Ix))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-my-pets"]],decls:13,vars:1,consts:[[1,"titleFont"],[1,"bodyFont"],["lines","none",4,"ngFor","ngForOf"],[1,"ion-padding","fixedFooter"],["expand","full","fill","clear","routerLink","/pet-profile",1,"FilledButtons"],["expand","full","fill","clear","routerLink","/subscription",1,"OutlinedButtons"],["lines","none"],["slot","start"],[3,"src","alt"],[3,"click"],["src","assets/icons/editPet.svg",1,"edit-icon"]],template:function(n,d){1&n&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",0),o.EFF(3,"My Pets"),o.k0s()()(),o.nrm(4,"br"),o.j41(5,"ion-content",1)(6,"ion-list"),o.DNE(7,h,8,3,"ion-item",2),o.k0s(),o.j41(8,"div",3)(9,"ion-button",4),o.EFF(10," + Add More Pets "),o.k0s(),o.j41(11,"ion-button",5),o.EFF(12," Continue "),o.k0s()()()),2&n&&(o.R7$(7),o.Y8G("ngForOf",d.myPets))},dependencies:[p.Sq,s.mC,s.Jm,s.W9,s.eU,s.uz,s.he,s.nf,s.Zx,s.BC,s.ai,s.N7,u.Wk],styles:["ion-item[_ngcontent-%COMP%]{--background: white;border-radius:20px;height:auto;--padding-start: 20px;--padding-end: 20px;--padding-top: 12px;--padding-bottom: 12px;margin-bottom:1.5rem;margin-left:12px;margin-right:12px}ion-list[_ngcontent-%COMP%]{background:var(--background-color)}ion-thumbnail[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:20px;height:auto}.fixedFooter[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:var(--background-color)}"]}),i})()}];let t=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[u.iI.forChild(y),u.iI]}),i})(),r=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[p.MD,g.YN,s.bv,t]}),i})()},1572:(I,c,a)=>{a.d(c,{d:()=>f});var p=a(496),g=a(5109),s=a(878),u=a(315),m=a(6e3),o=a(4003);let f=(()=>{var h;class ${constructor(t,r){this.http=t,this.storage=r,this.apiUrl=s.c.apiUrl,this.petId=null}addPet(t){for(const[e,i]of t.entries())console.log(`${e}: ${i}`);const r=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/store`,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}getPets(){const t=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${t}`}})}getPetsByOwnerId(t){const r=localStorage.getItem("token");return(0,g.H)(p.A.get(`${this.apiUrl}/api/pet_owners/${t}/pets`,{headers:{Authorization:`Bearer ${r}`}}).then(e=>(console.log("Pets by Owner ID response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets by owner ID:",e),e}))}getPetById(t){const r=localStorage.getItem("token");return(0,g.H)(p.A.get(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${r}`}}).then(e=>(console.log("Pet response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pet:",e),e}))}getAllPets(){const t=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${t}`}})}fetchAllPets(){return this.getAllPets().then(t=>(console.log("All Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching all pets:",t),t})}fetchPets(){return this.getPets().then(t=>(console.log("Pets response:",t),t.data.data)).catch(t=>{throw console.error("Error fetching pets:",t),t})}getPet(t){return this.http.get(`${this.apiUrl}/api/pet/${t}`)}storePet(t){return this.http.post(`${this.apiUrl}/api/pet`,t)}updatePet(t,r){console.log("pet in pet-info.service====>",r);const e=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/update/${t}`,r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(t,r){const e=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${t}`,{is_lost:r?1:0},{headers:{Authorization:`Bearer ${e}`}})}updateAdoptionStatus(t,r){const e=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${t}`,{allow_adoption:r?1:0},{headers:{Authorization:`Bearer ${e}`}})}updateMatingStatus(t,r){const e=localStorage.getItem("token"),l={is_neutered:r.toLowerCase()};return this.http.post(`${this.apiUrl}/api/pet/update-mating-status/${t}`,l,{headers:{Authorization:`Bearer ${e}`}})}deleteImage(t){const r=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${t}`,{},{headers:{Authorization:`Bearer ${r}`}})}updateImage(t,r){const e=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${t}`,r,{headers:{Authorization:`Bearer ${e}`}})}deletePet(t){const r=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${t}`,{headers:{Authorization:`Bearer ${r}`}})}setPetId(t){this.petId=t}getPetId(){return this.petId}markPetAsLost(t){return this.http.post(`${this.apiUrl}/api/pet/lost/${t}`,{})}markPetAsFound(t){return this.http.post(`${this.apiUrl}/api/pet/found/${t}`,{})}getOwnerIdByEmail(t){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:t}})}updatePetOwner(t,r){return this.http.put(`${this.apiUrl}/api/pets/${t}`,{pet_owner_id:r})}addDocument(t,r){const e=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/${t}/documents`,r,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})}uploadImage(t){return this.storage.ref(t).getDownloadURL().toPromise()}addLostPetByFounder(t){const r=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/addLostPetByFounder`,t,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const t=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${t}`}})}showLostPetByFounder(t){const r=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${r}`}})}deleteLostPetByFounder(t){const r=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${t}`,{headers:{Authorization:`Bearer ${r}`}})}}return(h=$).\u0275fac=function(t){return new(t||h)(u.KVO(m.Qq),u.KVO(o.ap))},h.\u0275prov=u.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),$})()}}]);