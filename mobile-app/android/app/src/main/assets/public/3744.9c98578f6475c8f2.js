"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3744],{3744:(A,C,c)=>{c.r(C),c.d(C,{MainsPageModule:()=>L});var u=c(9351),a=c(7199),h=c(7473),_=c(4170),I=c(5841),t=c(315),f=c(5822),v=c(1572),b=c(1851),l=c(8525),e=c(8454);const n=(o,g)=>({segButtonClicked:o,segButtonNotClicked:g});function d(o,g){1&o&&(t.j41(0,"p",63),t.EFF(1," No pets available. "),t.k0s())}function m(o,g){if(1&o){const s=t.RV6();t.j41(0,"div")(1,"div",66)(2,"ion-avatar")(3,"img",67),t.bIt("click",function(){const r=t.eBV(s).$implicit,p=t.XpG(2);return t.Njj(p.viewPetDetails(r))}),t.k0s()(),t.j41(4,"p",68),t.EFF(5),t.k0s()()()}if(2&o){const s=g.$implicit;t.R7$(3),t.Y8G("src",s.imageUrl,t.B4B)("alt",s.name),t.R7$(2),t.JRh(s.name)}}function M(o,g){if(1&o&&(t.j41(0,"div",64),t.DNE(1,m,6,3,"div",65),t.k0s()),2&o){const s=t.XpG();t.R7$(),t.Y8G("ngForOf",s.pets)}}function O(o,g){if(1&o&&(t.j41(0,"ion-label",82),t.EFF(1),t.k0s()),2&o){const s=t.XpG().$implicit;t.R7$(),t.SpI("x",s.quantity,"")}}function F(o,g){if(1&o){const s=t.RV6();t.j41(0,"div",69),t.bIt("click",function(){const r=t.eBV(s).$implicit,p=t.XpG();return t.Njj(p.viewProduct(r))}),t.j41(1,"div",70),t.nrm(2,"img",71),t.k0s(),t.j41(3,"div",72)(4,"div",73)(5,"div",74)(6,"ion-label",75),t.EFF(7),t.k0s()(),t.j41(8,"ion-label",76),t.EFF(9),t.k0s()(),t.j41(10,"div",77),t.nrm(11,"img",78),t.j41(12,"div",79),t.bIt("click",function(){const r=t.eBV(s).$implicit,p=t.XpG();return t.Njj(p.addToCart(r,1))}),t.nrm(13,"img",80),t.DNE(14,O,2,1,"ion-label",81),t.k0s()()()()}if(2&o){const s=g.$implicit;t.R7$(2),t.FS9("alt",s.name),t.Y8G("src",s.images[0],t.B4B),t.R7$(5),t.JRh(s.name),t.R7$(2),t.SpI(" ",s.old_price,"BHD "),t.R7$(5),t.Y8G("ngIf",s.isInCart)}}function S(o,g){if(1&o){const s=t.RV6();t.j41(0,"div",85),t.bIt("click",function(){const r=t.eBV(s).$implicit,p=t.XpG(2);return t.Njj(p.navigateToInfo(r.id))}),t.j41(1,"div",70),t.nrm(2,"img",86),t.k0s(),t.j41(3,"div",2)(4,"ion-label",25),t.EFF(5),t.k0s(),t.nrm(6,"img",87),t.k0s(),t.j41(7,"div",88)(8,"div",2),t.nrm(9,"img",89),t.j41(10,"ion-label",90),t.EFF(11),t.k0s()(),t.j41(12,"ion-label",90),t.EFF(13),t.k0s()()()}if(2&o){const s=g.$implicit;t.R7$(2),t.Y8G("src",s.imageUrl,t.B4B),t.R7$(3),t.JRh(s.name),t.R7$(),t.Y8G("src","m"===s.gender?"assets/icons/male.svg":"assets/icons/female.svg",t.B4B),t.R7$(5),t.SpI(" ",s.location," "),t.R7$(2),t.JRh(s.place)}}function x(o,g){if(1&o&&(t.j41(0,"div")(1,"div",83),t.DNE(2,S,14,5,"div",84),t.k0s()()),2&o){const s=t.XpG();t.R7$(2),t.Y8G("ngForOf",s.adopt)}}function B(o,g){if(1&o){const s=t.RV6();t.j41(0,"div",85),t.bIt("click",function(){const r=t.eBV(s).$implicit,p=t.XpG(2);return t.Njj(p.navigateToInfo(r.id))}),t.j41(1,"div",70),t.nrm(2,"img",86),t.k0s(),t.j41(3,"div",2)(4,"ion-label",25),t.EFF(5),t.k0s(),t.nrm(6,"img",87),t.k0s(),t.j41(7,"div",88)(8,"div",2),t.nrm(9,"img",89),t.j41(10,"ion-label",90),t.EFF(11),t.k0s()(),t.j41(12,"ion-label",90),t.EFF(13),t.k0s()()()}if(2&o){const s=g.$implicit;t.R7$(2),t.Y8G("src",s.image,t.B4B),t.R7$(3),t.JRh(s.name),t.R7$(),t.Y8G("src","m"===s.gender?"assets/icons/male.svg":"assets/icons/female.svg",t.B4B),t.R7$(5),t.SpI(" ",s.location," "),t.R7$(2),t.JRh(s.place)}}function E(o,g){if(1&o&&(t.j41(0,"div")(1,"div",83),t.DNE(2,B,14,5,"div",84),t.k0s()()),2&o){const s=t.XpG();t.R7$(2),t.Y8G("ngForOf",s.Lost)}}function w(o,g){if(1&o&&(t.j41(0,"div",92)(1,"div",70),t.nrm(2,"img",86),t.k0s(),t.j41(3,"div",2)(4,"ion-label",25),t.EFF(5),t.k0s(),t.nrm(6,"img",87),t.k0s(),t.j41(7,"div",88)(8,"div",2),t.nrm(9,"img",89),t.j41(10,"ion-label",90),t.EFF(11),t.k0s()(),t.j41(12,"ion-label",90),t.EFF(13),t.k0s()()()),2&o){const s=g.$implicit;t.R7$(2),t.Y8G("src",s.imageUrl,t.B4B),t.R7$(3),t.JRh(s.name),t.R7$(),t.Y8G("src","m"===s.gender?"assets/icons/male.svg":"assets/icons/female.svg",t.B4B),t.R7$(5),t.SpI(" ",s.location," "),t.R7$(2),t.JRh(s.place)}}function j(o,g){if(1&o&&(t.j41(0,"div")(1,"div",83),t.DNE(2,w,14,5,"div",91),t.k0s()()),2&o){const s=t.XpG();t.R7$(2),t.Y8G("ngForOf",s.mate)}}const R=[{path:"",component:(()=>{var o;class g{constructor(i,r,p,P,y,$,k){this.authService=i,this.router=r,this.petInfoService=p,this.productService=P,this.providerService=y,this.cartService=$,this.toastController=k,this.profile={},this.pets=[],this.petListType=0,this.products=[],this.Lost=[],this.buttonText="Adopt"}ngOnInit(){this.authService.fetchProfileData().then(i=>{this.profile=i,console.log("Profile data:",this.profile)}).catch(i=>{console.error("Error fetching profile data:",i)}),this.petInfoService.fetchPets().then(i=>{this.pets=i,this.loadImages(this.pets),console.log(" this.pets:",this.pets),console.log("this.pets ===> imageUrl:",this.pets)}).catch(i=>{console.error("Error fetching pets data:",i)}),this.petInfoService.fetchAllPets().then(i=>{this.AllPets=i,this.loadImages(this.AllPets),this.filterPets(),console.log("this.AllPets:",this.AllPets),console.log("this.AllPets ===> imageUrl:",this.AllPets)}).catch(i=>{console.error("Error fetching pets data:",i)}),this.petInfoService.fetchAllLostPets().subscribe(i=>{this.Lost=i.lostPets,console.log("Lost pets:",this.Lost)},i=>{console.error("Error fetching lost pets:",i)}),this.loadLastSixProducts()}loadImages(i){var r=this;return(0,I.A)(function*(){for(let p of i)p.image&&(p.imageUrl=yield r.petInfoService.uploadImage(p.image))})()}loadLastSixProducts(){this.providerService.getProviderByName("Sama Pet Store").subscribe(r=>{this.productService.getProductsByProvider(r.data.id).subscribe(P=>{console.log("Fetched products:",P),Array.isArray(P)?this.products=P.sort((y,$)=>new Date($.created_at).getTime()-new Date(y.created_at).getTime()).slice(0,6):console.error("Expected an array of products but got:",P)},P=>{console.error("Error fetching products by provider ID:",P)})},r=>{console.error("Error fetching provider by name:",r)})}navigateToInfo(i){this.router.navigate(1===this.petListType?["/lostpetinfo",i]:["/adoptionpetinfo",i])}filterPets(){this.adopt=this.AllPets.filter(i=>1===i.allow_adoption),this.mate=this.AllPets.filter(i=>"yes"===i.is_neutered),console.log("Adopt:",this.adopt),console.log("Mate:",this.mate)}navigateTo(i){this.router.navigate([`/${i}`])}viewPetDetails(i){console.log("Navigating to details for pet:",i),this.router.navigate(["/petdetailes",i.id])}viewProfileDetails(i){console.log("Navigating to details for profile:",i),this.router.navigate(["/main",i.id])}showAdoption(){this.petListType=0,this.buttonText="Adopt"}showLostPet(){this.petListType=1,this.buttonText="Lost"}showMating(){this.petListType=2,this.buttonText="Mate"}getPets(){let i=[];return 0===this.petListType?i=this.adopt:1===this.petListType?i=this.Lost:2===this.petListType&&(i=this.mate),i}goToFavorite(){this.router.navigate(["/favorite"])}goToPetService(){this.router.navigate(["/pet-service"])}goToNotification(i){this.router.navigate(["/notification",i])}goToaddPet(){this.router.navigate(["/pet-profile"])}viewProduct(i){console.log("Navigating to details for product:",i),this.router.navigate(["/product-details",i.id])}clickButton(){0==this.petListType&&this.router.navigate(["/mypet"]),1==this.petListType&&this.router.navigate(["/lostform"])}addToCart(i,r){this.authService.fetchProfileData().then(p=>{const P=p.id;this.cartService.isProductInCart(P,i.id).subscribe(y=>{y?this.cartService.getCartsByPetOwnerId(P).subscribe($=>{const k=$.find(T=>T.product_id===i.id);k&&void 0!==k.id&&(k.quantity+=r,this.cartService.updateCart(k.id,k).subscribe(()=>{i.isInCart=!0,i.quantity=k.quantity,console.log("Cart quantity updated"),this.presentToast("Product quantity updated in cart","success")},T=>{console.error("Error updating cart quantity:",T)}))}):this.cartService.createCart({id:0,pet_owner_id:P,product_id:i.id,quantity:r}).subscribe(()=>{i.isInCart=!0,i.quantity=r,console.log("Product added to cart"),this.presentToast("Product added to cart","success")},k=>{console.error("Error adding to cart:",k)})})})}presentToast(i,r="success"){var p=this;return(0,I.A)(function*(){(yield p.toastController.create({message:i,duration:2e3,color:r,position:"bottom"})).present()})()}}return(o=g).\u0275fac=function(i){return new(i||o)(t.rXU(f.u),t.rXU(_.Ix),t.rXU(v.d),t.rXU(b.b),t.rXU(l.$),t.rXU(e.m),t.rXU(h.K_))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-mains"]],decls:137,vars:22,consts:[[1,"ion-padding"],["id","pfp and username",1,"profile-header","FlexSpaceInBetween"],[1,"MakeItFlex"],[1,"square"],[1,"parent"],["alt","Profile Picture",3,"click","src"],[1,"blackTitleFont","boldFont"],["id","icons",1,"MakeItFlex"],["src","assets/icons/heart.svg",3,"click"],["src","assets/icons/search.svg",3,"click"],["src","assets/icons/notif.svg",3,"click"],["id","Menu",1,"MakeItFlex"],["src","assets/icons/menu.svg"],["id","pet profiles"],[1,"NumberOfPets"],["routerLink","/mypet",1,"bodyFont","boldFont"],[1,"Scrollable"],[1,"AddButton"],["src","assets/icons/plus-purple.svg",3,"click"],["class","bodyFont noPets",4,"ngIf"],["class","pets",4,"ngIf"],["id","img",1,"MakeItCenter"],["src","assets/adv.svg"],[1,"MakeItCenter"],[1,"subscribe",2,"background-image","url('/assets/bg.svg')"],[1,"bodyFont","boldFont"],["fill","clear","routerLink","/subscription"],["id","services",1,"MakeItCenter"],[1,"Container"],[1,"FlexSpaceInBetween","MakeItFlex","Titles"],["routerLink","/pet-service",1,"bodyFont"],[1,"MakeItAGride"],[1,"serviceSquare",3,"click"],[1,"service","MakeItFlex","MakeItCenter"],["src","assets/icons/Syringe.svg"],[1,"bodyFont","LighFont","desc"],["src","assets/icons/PetFood.svg"],["src","assets/icons/HairComb.svg"],["src","assets/icons/logo.svg"],["id","sama-pet-store",1,"MakeItCenter"],["routerLink","/sama-pet-store",1,"bodyFont"],[1,"MakeItFlexAtTheStart"],["class","petStoreProduct",3,"click",4,"ngFor","ngForOf"],["id","animalLists",1,"MakeItCenter"],["routerLink","/adoptionlist",1,"bodyFont"],[1,"FlexSpaceInBetween"],[1,"segments"],["fill","clear",3,"click","ngClass"],["fill","clear",1,"adoptButton",3,"click"],["id","location","src","assets/icons/plus-white.svg",1,"icon"],["id","big"],[4,"ngIf"],["slot","bottom"],["routerLink","/mains"],["src","assets/icons/home.svg"],["routerLink","/mypet"],["src","assets/icons/my-pets.svg"],["routerLink","/qr-card",1,"orangeCircle"],["src","assets/icons/navigation.svg"],["routerLink","/reminder"],["src","assets/icons/book.svg"],["routerLink","/main"],["src","assets/icons/profile.svg"],[1,"bodyFont","noPets"],[1,"pets"],[4,"ngFor","ngForOf"],[1,"petProfileSection"],[3,"click","src","alt"],[1,"bodyFont"],[1,"petStoreProduct",3,"click"],[1,"petStoreImgs"],[3,"src","alt"],[1,"FlexSpaceInBetween","textContainer"],[1,"titleAndPriceContainer"],[1,"titleContainer","break-word"],["id","title",1,"bodyFont","boldFont"],[1,"bodyFont","smallFont","boldFont","price"],[1,"MakeItFlex","smallimg"],["src","/assets/icons/heart.svg"],[3,"click"],["id","add","src","/assets/icons/plus-filled.svg"],["class","quantity-label",4,"ngIf"],[1,"quantity-label"],[1,"MakeItFlexNoCenter"],["class","petStoreProduct FlexSpaceInBetween",3,"click",4,"ngFor","ngForOf"],[1,"petStoreProduct","FlexSpaceInBetween",3,"click"],[3,"src"],["id","gender",1,"icon",3,"src"],[1,"FlexSpaceInBetweenNoPadding"],["id","location","src","assets/icons/location.svg",1,"icon"],[1,"bodyFont","textGray"],["class","petStoreProduct FlexSpaceInBetween",4,"ngFor","ngForOf"],[1,"petStoreProduct","FlexSpaceInBetween"]],template:function(i,r){1&i&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"img",5),t.bIt("click",function(){return r.viewProfileDetails(r.profile)}),t.k0s()()(),t.j41(7,"ion-label",6),t.EFF(8),t.k0s()(),t.j41(9,"div",7)(10,"ion-thumbnail")(11,"img",8),t.bIt("click",function(){return r.goToFavorite()}),t.k0s()(),t.j41(12,"ion-thumbnail")(13,"img",9),t.bIt("click",function(){return r.goToPetService()}),t.k0s()(),t.j41(14,"ion-thumbnail")(15,"img",10),t.bIt("click",function(){return r.goToNotification(r.profile.id)}),t.k0s()()(),t.j41(16,"div",11)(17,"ion-thumbnail"),t.nrm(18,"img",12),t.k0s()()()()(),t.j41(19,"ion-content",0)(20,"div",13)(21,"div",2)(22,"ion-label",6),t.EFF(23,"Pet Profiles"),t.k0s(),t.j41(24,"div",14)(25,"p",15),t.EFF(26),t.k0s()()(),t.j41(27,"div",16)(28,"div",17)(29,"ion-thumbnail")(30,"img",18),t.bIt("click",function(){return r.goToaddPet()}),t.k0s()()(),t.DNE(31,d,2,0,"p",19)(32,M,2,1,"div",20),t.k0s()(),t.nrm(33,"br"),t.j41(34,"div",21),t.nrm(35,"img",22),t.k0s(),t.nrm(36,"br"),t.j41(37,"div",23)(38,"div",24)(39,"ion-label",25),t.EFF(40,"Not a member?"),t.k0s(),t.j41(41,"ion-button",26),t.EFF(42,"SUBSCRIBE"),t.k0s()()(),t.nrm(43,"br"),t.j41(44,"div",27)(45,"div",28)(46,"div",29)(47,"ion-label",6),t.EFF(48,"Pets Services"),t.k0s(),t.j41(49,"ion-label",30),t.EFF(50," See All "),t.k0s()(),t.j41(51,"div",31)(52,"div",32),t.bIt("click",function(){return r.navigateTo("vetclinic/vet clinics")}),t.j41(53,"div",33),t.nrm(54,"img",34),t.j41(55,"div")(56,"ion-label",25),t.EFF(57,"Vet clinics"),t.k0s(),t.nrm(58,"br"),t.j41(59,"ion-label",35),t.EFF(60,"(7 nearby)"),t.k0s()()()(),t.j41(61,"div",32),t.bIt("click",function(){return r.navigateTo("vetclinic/pet stores")}),t.j41(62,"div",33),t.nrm(63,"img",36),t.j41(64,"div")(65,"ion-label",25),t.EFF(66,"Pet Stores"),t.k0s(),t.nrm(67,"br"),t.j41(68,"ion-label",35),t.EFF(69,"(7 nearby)"),t.k0s()()()(),t.j41(70,"div",32),t.bIt("click",function(){return r.navigateTo("vetclinic/groomers")}),t.j41(71,"div",33),t.nrm(72,"img",37),t.j41(73,"div")(74,"ion-label",25),t.EFF(75,"Groomers"),t.k0s(),t.nrm(76,"br"),t.j41(77,"ion-label",35),t.EFF(78,"(7 nearby)"),t.k0s()()()(),t.j41(79,"div",32),t.bIt("click",function(){return r.navigateTo("sama-pet-store")}),t.j41(80,"div",33),t.nrm(81,"img",38),t.j41(82,"div")(83,"ion-label",25),t.EFF(84,"Sama pet store"),t.k0s(),t.nrm(85,"br"),t.j41(86,"ion-label",35),t.EFF(87,"(7 nearby)"),t.k0s()()()()()()(),t.nrm(88,"br"),t.j41(89,"div",39)(90,"div",28)(91,"div",29),t.nrm(92,"img",38),t.j41(93,"ion-label",6),t.EFF(94,"Sama store"),t.k0s(),t.j41(95,"ion-label",40),t.EFF(96,"See All"),t.k0s()(),t.j41(97,"div",16)(98,"div",41),t.DNE(99,F,15,5,"div",42),t.k0s()()()(),t.nrm(100,"br"),t.j41(101,"div",43)(102,"div",28)(103,"div",29)(104,"ion-label",6),t.EFF(105,"Explore Pets"),t.k0s(),t.j41(106,"ion-label",44),t.EFF(107," See All "),t.k0s()(),t.j41(108,"div",45)(109,"div",46)(110,"ion-button",47),t.bIt("click",function(){return r.showAdoption()}),t.EFF(111," Adoption "),t.k0s(),t.j41(112,"ion-button",47),t.bIt("click",function(){return r.showLostPet()}),t.EFF(113," Lost Pets "),t.k0s(),t.j41(114,"ion-button",47),t.bIt("click",function(){return r.showMating()}),t.EFF(115," Mating "),t.k0s()(),t.j41(116,"div",46)(117,"ion-button",48),t.bIt("click",function(){return r.clickButton()}),t.nrm(118,"img",49),t.j41(119,"div",50),t.EFF(120),t.k0s()()()(),t.j41(121,"div",16),t.DNE(122,x,3,1,"div",51)(123,E,3,1,"div",51)(124,j,3,1,"div",51),t.k0s()()()(),t.j41(125,"ion-tab-bar",52)(126,"ion-tab-button",53),t.nrm(127,"ion-icon",54),t.k0s(),t.j41(128,"ion-tab-button",55),t.nrm(129,"ion-icon",56),t.k0s(),t.j41(130,"div",57)(131,"ion-tab-button"),t.nrm(132,"ion-icon",58),t.k0s()(),t.j41(133,"ion-tab-button",59),t.nrm(134,"ion-icon",60),t.k0s(),t.j41(135,"ion-tab-button",61),t.nrm(136,"ion-icon",62),t.k0s()()),2&i&&(t.R7$(6),t.Y8G("src",r.profile.profile_image,t.B4B),t.R7$(2),t.SpI(" Hi, ",r.profile.first_name,"! "),t.R7$(18),t.JRh(r.pets.length),t.R7$(5),t.Y8G("ngIf",!r.pets||!r.pets.length),t.R7$(),t.Y8G("ngIf",r.pets&&r.pets.length),t.R7$(67),t.Y8G("ngForOf",r.products),t.R7$(11),t.Y8G("ngClass",t.l_i(13,n,0===r.petListType,0!==r.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(16,n,1===r.petListType,1!==r.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(19,n,2===r.petListType,2!==r.petListType)),t.R7$(6),t.JRh(r.buttonText),t.R7$(2),t.Y8G("ngIf",0===r.petListType),t.R7$(),t.Y8G("ngIf",1===r.petListType),t.R7$(),t.Y8G("ngIf",2===r.petListType))},dependencies:[u.YU,u.Sq,u.bT,h.mC,h.Jm,h.W9,h.eU,h.iq,h.he,h.Jq,h.qW,h.Zx,h.ai,h.N7,_.Wk],styles:[".blackTitleFont[_ngcontent-%COMP%]{font-size:1.1rem}.MakeItFlexAtTheStart[_ngcontent-%COMP%]{display:flex}ion-toolbar[_ngcontent-%COMP%]{--background-color: var(--White);border-radius:16px}.profile-header[_ngcontent-%COMP%]{padding:16px}.profile-header[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:10px}.profile-header[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]{width:50px;height:50px;position:relative;border-radius:50%;background-color:var(--White);overflow:hidden}.profile-header[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-size:cover;background-position:center}ion-thumbnail[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto}#icons[_ngcontent-%COMP%]{display:flex}#Menu[_ngcontent-%COMP%]{display:none}.Container[_ngcontent-%COMP%]{background-color:var(--White);border-radius:16px;padding:6px;width:100%;max-width:350px}.Titles[_ngcontent-%COMP%]{margin:10px}.Scrollable[_ngcontent-%COMP%]{display:flex;align-items:flex-start;overflow:auto;margin-top:11px}.NumberOfPets[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:30px;height:30px;background-color:var(--Main-One);border-radius:10px;margin-left:16px}.NumberOfPets[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--White)!important}.pets[_ngcontent-%COMP%]{display:flex}.noPets[_ngcontent-%COMP%]{margin-top:25px}.AddButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:48px;height:48px;border-radius:50%;border:2px dashed var(--Main-Two);margin-top:7px;margin-right:10px}.petProfileSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-right:10px}.petProfileSection[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.petProfileSection[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.petProfileSection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0}.subscribe[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:100%;max-width:350px;height:64px;border-radius:16px;padding-right:20px;padding-left:20px}.subscribe[_ngcontent-%COMP%]   .bodyFont[_ngcontent-%COMP%]{color:var(--White)!important}.subscribe[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-style:normal;text-align:center;border-radius:16px;background-color:var(--Main-One);color:#fff;padding:0 16px}",".serviceSquare[_ngcontent-%COMP%]{width:100%;padding:5px}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]{width:100%;min-height:120px;border-radius:16px;padding:10px;background-color:var(--Accent-One)}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;max-width:70px;width:30%}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{opacity:50%}.MakeItFlexNoCenter[_ngcontent-%COMP%]{display:flex}.petStoreProduct[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:200px;margin:5px 10px 5px 5px}.petStoreProduct[_ngcontent-%COMP%]   .FlexSpaceInBetween[_ngcontent-%COMP%]{padding:0 10px}.petStoreImgs[_ngcontent-%COMP%]{min-width:170px;width:80%;height:150px;border-radius:16px;margin-bottom:10px;position:relative;overflow:hidden}.petStoreImgs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.textContainer[_ngcontent-%COMP%]{height:30%}.price[_ngcontent-%COMP%]{margin-top:auto;color:var(--Main-Two)!important}#title[_ngcontent-%COMP%]{margin-bottom:5px}.smallimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.titleAndPriceContainer[_ngcontent-%COMP%]{width:60%;display:flex;flex-direction:column}.break-word[_ngcontent-%COMP%]{word-break:break-word;overflow-wrap:break-word;white-space:normal}#add[_ngcontent-%COMP%]{margin-left:5px}#locationInfo[_ngcontent-%COMP%]{margin-top:auto}#petname[_ngcontent-%COMP%]{margin-bottom:5px}.segments[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-style:normal;font-size:.69rem;text-align:center;border-radius:16px}.segments[_ngcontent-%COMP%]   #big[_ngcontent-%COMP%]{display:inline}.segButtonClicked[_ngcontent-%COMP%]{background-color:var(--Main-Two);color:#fff}.segButtonNotClicked[_ngcontent-%COMP%]{border:1px solid var(--GrayColor);background-color:var(--White);color:var(--GrayColor)}.adoptButton[_ngcontent-%COMP%]{background-color:var(--Main-One);color:#fff}.icon[_ngcontent-%COMP%]{width:17px;height:auto}#gender[_ngcontent-%COMP%]{margin-left:7px}#location[_ngcontent-%COMP%]{margin-right:5px}ion-tab-bar[_ngcontent-%COMP%]{--background: var(--Main-Two);margin:10px;border-radius:16px}.orangeCircle[_ngcontent-%COMP%]{background-color:var(--Main-One);border-radius:50%;width:65px;height:65px}@media screen and (max-width: 350px){#icons[_ngcontent-%COMP%]{display:none}#Menu[_ngcontent-%COMP%]{display:flex}.serviceSquare[_ngcontent-%COMP%]   .service[_ngcontent-%COMP%]   .bodyFont[_ngcontent-%COMP%]{font-size:.7rem!important}}@media screen and (max-width: 360px){.segments[_ngcontent-%COMP%]   #big[_ngcontent-%COMP%]{display:none}.segments[_ngcontent-%COMP%]   #location[_ngcontent-%COMP%]{margin-right:0}.icon[_ngcontent-%COMP%]{width:15px;height:auto}}@media screen and (max-width: 360px){.segments[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], .adopt[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:.55rem}}"]}),g})()}];let U=(()=>{var o;class g{}return(o=g).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[_.iI.forChild(R),_.iI]}),g})(),L=(()=>{var o;class g{}return(o=g).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[u.MD,a.YN,h.bv,U]}),g})()},5822:(A,C,c)=>{c.d(C,{u:()=>t});var u=c(5841),a=c(496),h=c(878),_=c(315),I=c(6e3);a.A.defaults.withCredentials=!0;let t=(()=>{var f;class v{constructor(l){this.http=l,this.apiUrl=h.c.apiUrl}getCSRFToken(){return a.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(l){var e=this;return(0,u.A)(function*(){return yield e.getCSRFToken(),a.A.post(`${e.apiUrl}/api/register`,l).then(n=>(localStorage.setItem("token",n.data.token),n.data)).catch(n=>{throw console.error("Login error:",n),n})})()}checkEmail(l){return a.A.post(`${this.apiUrl}/api/check-email`,{email:l})}sendVerificationCode(l){return a.A.post(`${this.apiUrl}/api/send-verification-code`,{email:l})}verifyCode(l){return a.A.post(`${this.apiUrl}/api/verify-code`,l)}login(l){var e=this;return(0,u.A)(function*(){return yield e.getCSRFToken(),a.A.post(`${e.apiUrl}/api/login`,l).then(n=>(localStorage.setItem("token",n.data.token),n.data)).catch(n=>{throw console.error("Login error:",n),n})})()}logout(){const l=localStorage.getItem("token");return a.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${l}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var l=this;return(0,u.A)(function*(){const e=localStorage.getItem("token");return(yield a.A.get(`${l.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${e}`}})).data.data})()}fetchProfileData(){var l=this;return(0,u.A)(function*(){try{const e=yield l.getProfile();return console.log("Profile response:",e),e}catch(e){throw console.error("Error fetching profile:",e),e}})()}getPetOwnerData(l){const e=localStorage.getItem("token");return a.A.get(`${this.apiUrl}/api/pet_owner/${l}`,{headers:{Authorization:`Bearer ${e}`}})}fetchPetOwnerData(l){return console.log("th id in auth=====>",l),this.getPetOwnerData(l).then(e=>(console.log("pet owner data:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pet owner:",e),e})}updateProfile(l,e){const n=localStorage.getItem("token");return a.A.put(`${this.apiUrl}/api/pet_owner/${e}`,l,{headers:{Authorization:`Bearer ${n}`}})}updateProfileImage(l,e){const n=localStorage.getItem("token");return a.A.post(`${this.apiUrl}/api/pet_owner/image/${e}`,l,{headers:{Authorization:`Bearer ${n}`}})}updatePass(l,e,n){var d=this;return(0,u.A)(function*(){const m=localStorage.getItem("token");try{return(yield a.A.put(`${d.apiUrl}/api/pet-owners/update-password`,{email:l,password:e,password_confirmation:n},{headers:{Authorization:`Bearer ${m}`}})).data}catch(M){throw console.error("Error updating password:",M),M}})()}}return(f=v).\u0275fac=function(l){return new(l||f)(_.KVO(I.Qq))},f.\u0275prov=_.jDH({token:f,factory:f.\u0275fac,providedIn:"root"}),v})()},1572:(A,C,c)=>{c.d(C,{d:()=>f});var u=c(496),a=c(5109),h=c(878),_=c(315),I=c(6e3),t=c(4003);let f=(()=>{var v;class b{constructor(e,n){this.http=e,this.storage=n,this.apiUrl=h.c.apiUrl,this.petId=null}addPet(e){for(const[d,m]of e.entries())console.log(`${d}: ${m}`);const n=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/pet/store`,e,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}})}getPets(){const e=localStorage.getItem("token");return u.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${e}`}})}getPetsByOwnerId(e){const n=localStorage.getItem("token");return(0,a.H)(u.A.get(`${this.apiUrl}/api/pet_owners/${e}/pets`,{headers:{Authorization:`Bearer ${n}`}}).then(d=>(console.log("Pets by Owner ID response:",d),d.data.data)).catch(d=>{throw console.error("Error fetching pets by owner ID:",d),d}))}getAllPets(){const e=localStorage.getItem("token");return u.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${e}`}})}fetchAllPets(){return this.getAllPets().then(e=>(console.log("All Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching all pets:",e),e})}fetchPets(){return this.getPets().then(e=>(console.log("Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets:",e),e})}getPet(e){return this.http.get(`${this.apiUrl}/api/pet/${e}`)}storePet(e){return this.http.post(`${this.apiUrl}/api/pet`,e)}updatePet(e,n){console.log("pet in pet-info.service====>",n);const d=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/pet/update/${e}`,n,{headers:{Authorization:`Bearer ${d}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(e,n){const d=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${e}`,{is_lost:n?1:0},{headers:{Authorization:`Bearer ${d}`}})}updateAdoptionStatus(e,n){const d=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${e}`,{allow_adoption:n?1:0},{headers:{Authorization:`Bearer ${d}`}})}deleteImage(e){const n=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${e}`,{},{headers:{Authorization:`Bearer ${n}`}})}updateImage(e,n){const d=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${e}`,n,{headers:{Authorization:`Bearer ${d}`}})}deletePet(e){const n=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${n}`}})}setPetId(e){this.petId=e}getPetId(){return this.petId}markPetAsLost(e){return this.http.post(`${this.apiUrl}/api/pet/lost/${e}`,{})}markPetAsFound(e){return this.http.post(`${this.apiUrl}/api/pet/found/${e}`,{})}getOwnerIdByEmail(e){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:e}})}updatePetOwner(e,n){return this.http.put(`${this.apiUrl}/api/pets/${e}`,{pet_owner_id:n})}addDocument(e,n){const d=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/pet/${e}/documents`,n,{headers:{Authorization:`Bearer ${d}`,"Content-Type":"multipart/form-data"}})}uploadImage(e){return this.storage.ref(e).getDownloadURL().toPromise()}addLostPetByFounder(e){const n=localStorage.getItem("token");return u.A.post(`${this.apiUrl}/api/addLostPetByFounder`,e,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${e}`}})}showLostPetByFounder(e){const n=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${n}`}})}deleteLostPetByFounder(e){const n=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${n}`}})}}return(v=b).\u0275fac=function(e){return new(e||v)(_.KVO(I.Qq),_.KVO(t.ap))},v.\u0275prov=_.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),b})()},8525:(A,C,c)=>{c.d(C,{$:()=>f});var u=c(5841),a=c(496),h=c(878),_=c(5109),I=c(6200),t=c(315);a.A.defaults.withCredentials=!0;let f=(()=>{var v;class b{constructor(){this.apiUrl=`${h.c.apiUrl}/api`,a.A.interceptors.request.use(e=>{const n=localStorage.getItem("token");return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e))}getAllProviders(){return a.A.get(`${this.apiUrl}/providers`)}getProviderById(e){return a.A.get(`${this.apiUrl}/providers/${e}`)}getProviderById2(e){return(0,_.H)(a.A.get(`${this.apiUrl}/providers/${e}`)).pipe((0,I.T)(n=>n.data))}createProvider(e){return a.A.post(`${this.apiUrl}/providers`,e)}getAllProviders2(){var e=this;return(0,u.A)(function*(){return a.A.get(`${e.apiUrl}/providers`).then(n=>n.data)})()}updateProvider(e,n){return a.A.put(`${this.apiUrl}/providers/${e}`,n)}deleteProvider(e){return a.A.delete(`${this.apiUrl}/providers/${e}`)}getServicesByProviderId(e){return a.A.get(`${this.apiUrl}/providers/${e}/services`)}getProductsByProviderId(e){return a.A.get(`${this.apiUrl}/providers/${e}/products`)}getVeterinariansByProviderId(e){return a.A.get(`${this.apiUrl}/providers/${e}/veterinarians`)}getVeterianById(e){return a.A.get(`${this.apiUrl}/veterinarians/${e}`)}getServiceById(e){return a.A.get(`${this.apiUrl}/services/${e}`)}getProductById(e){return a.A.get(`${this.apiUrl}/products/${e}`)}getServiceReviewsByServiceId(e){return a.A.get(`${this.apiUrl}/services/${e}/reviews`)}getPetOwnerById(e){return a.A.get(`${this.apiUrl}/pet_owners/${e}`)}getProductReviewsByProductId(e){return a.A.get(`${this.apiUrl}/products/${e}/reviews`)}getProviderByName(e){return(0,_.H)(a.A.get(`${this.apiUrl}/providers/name/${e}`))}addReview(e){var n=this;return(0,u.A)(function*(){try{console.log("Review data before sending:",e);const d=yield a.A.post(`${n.apiUrl}/reviews`,e);return console.log("Server response:",d.data),d.data}catch(d){throw console.error("Error adding review:",d),d}})()}getAverageRatingByProviderId(e){var n=this;return(0,u.A)(function*(){try{const m=(yield n.getServicesByProviderId(e)).data;let M=0,O=0;for(const S of m)(yield n.getServiceReviewsByServiceId(S.id)).data.forEach(E=>{O+=E.rate,M++});return M>0?O/M:0}catch(d){throw console.error("Error calculating average rating:",d),d}})()}getAverageRatingByProductId(e){var n=this;return(0,u.A)(function*(){try{const m=(yield a.A.get(`${n.apiUrl}/products/${e}/reviews`)).data;return 0===m.length?null:m.reduce((O,F)=>O+F.rate,0)/m.length}catch(d){throw console.error("Error fetching reviews:",d),d}})()}}return(v=b).\u0275fac=function(e){return new(e||v)},v.\u0275prov=t.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),b})()}}]);