"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9238],{5822:(U,$,n)=>{n.d($,{u:()=>v});var p=n(5841),r=n(496),u=n(878),c=n(315),A=n(6e3);r.A.defaults.withCredentials=!0;let v=(()=>{var h;class l{constructor(o){this.http=o,this.apiUrl=u.c.apiUrl}getCSRFToken(){return r.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(o){var e=this;return(0,p.A)(function*(){return yield e.getCSRFToken(),r.A.post(`${e.apiUrl}/api/register`,o).then(t=>(localStorage.setItem("token",t.data.token),t.data)).catch(t=>{throw console.error("Login error:",t),t})})()}checkEmail(o){return r.A.post(`${this.apiUrl}/api/check-email`,{email:o})}sendVerificationCode(o){return r.A.post(`${this.apiUrl}/api/send-verification-code`,{email:o})}verifyCode(o){return r.A.post(`${this.apiUrl}/api/verify-code`,o)}login(o){var e=this;return(0,p.A)(function*(){return yield e.getCSRFToken(),r.A.post(`${e.apiUrl}/api/login`,o).then(t=>(localStorage.setItem("token",t.data.token),t.data)).catch(t=>{throw console.error("Login error:",t),t})})()}logout(){const o=localStorage.getItem("token");return r.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${o}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var o=this;return(0,p.A)(function*(){const e=localStorage.getItem("token");return(yield r.A.get(`${o.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${e}`}})).data.data})()}fetchProfileData(){var o=this;return(0,p.A)(function*(){try{const e=yield o.getProfile();return console.log("Profile response:",e),e}catch(e){throw console.error("Error fetching profile:",e),e}})()}getPetOwnerData(o){const e=localStorage.getItem("token");return r.A.get(`${this.apiUrl}/api/pet_owner/${o}`,{headers:{Authorization:`Bearer ${e}`}})}fetchPetOwnerData(o){return console.log("th id in auth=====>",o),this.getPetOwnerData(o).then(e=>(console.log("pet owner data:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pet owner:",e),e})}updateProfile(o,e){const t=localStorage.getItem("token");return r.A.put(`${this.apiUrl}/api/pet_owner/${e}`,o,{headers:{Authorization:`Bearer ${t}`}})}updateProfileImage(o,e){const t=localStorage.getItem("token");return r.A.post(`${this.apiUrl}/api/pet_owner/image/${e}`,o,{headers:{Authorization:`Bearer ${t}`}})}updatePass(o,e,t){var a=this;return(0,p.A)(function*(){const d=localStorage.getItem("token");try{return(yield r.A.put(`${a.apiUrl}/api/pet-owners/update-password`,{email:o,password:e,password_confirmation:t},{headers:{Authorization:`Bearer ${d}`}})).data}catch(s){throw console.error("Error updating password:",s),s}})()}}return(h=l).\u0275fac=function(o){return new(o||h)(c.KVO(A.Qq))},h.\u0275prov=c.jDH({token:h,factory:h.\u0275fac,providedIn:"root"}),l})()},4330:(U,$,n)=>{n.d($,{O:()=>e});var p=n(5841),r=n(5109),u=n(496),c=n(6200),A=n(878),v=n(3595),h=n(4787),l=n(6815),_=n(315),o=n(8525);let e=(()=>{var t;class a{constructor(s){this.providerService=s,this.apiUrl=`${A.c.apiUrl}/api`,u.A.interceptors.request.use(i=>{const g=localStorage.getItem("token");return g&&(i.headers.Authorization=`Bearer ${g}`),i},i=>Promise.reject(i))}getCouponDetails(s){return(0,r.H)(u.A.get(`${this.apiUrl}/coupons/${s}`)).pipe((0,c.T)(i=>i.data))}getProviderById(s){return(0,r.H)(u.A.get(`${this.apiUrl}/providers/${s}`)).pipe((0,c.T)(i=>i.data))}getMembershipCoupons(){return(0,r.H)(u.A.get(`${this.apiUrl}/coupons/membership`)).pipe((0,v.M)(s=>{console.log("Coupons data:",s.data)}),(0,c.T)(s=>s.data))}getNotMembershipCoupons(){return(0,r.H)(u.A.get(`${this.apiUrl}/coupons/not-membership`)).pipe((0,v.M)(s=>{console.log("Coupons data:",s.data)}),(0,c.T)(s=>s.data))}getCouponById(s){return(0,r.H)(u.A.get(`${this.apiUrl}/coupons/${s}`)).pipe((0,c.T)(i=>i.data))}getCouponUsagesByOwnerId(s){return(0,r.H)(u.A.get(`${this.apiUrl}/coupon_usage/owner/${s}`)).pipe((0,c.T)(i=>i.data),(0,v.M)(i=>{console.log(`Coupon usages for owner ${s}:`,i)}),(0,l.W)(i=>(console.error(`Error fetching coupon usages for owner ${s}:`,i),(0,h.of)([]))))}addCouponUsage(s,i,g){var E=this;return(0,p.A)(function*(){return u.A.post(`${E.apiUrl}/coupon_usage`,{owner_id:s,coupon_id:i,date_of_usage:g}).then(P=>P).catch(P=>{throw console.error("Error occurred while adding coupon usage:",P),P})})()}reduceCouponQuantity(s){var i=this;return(0,p.A)(function*(){try{return yield u.A.post(`${i.apiUrl}/coupons/${s}/reduce-quantity`)}catch(g){throw console.error("Error occurred while reducing coupon quantity:",g),g}})()}}return(t=a).\u0275fac=function(s){return new(s||t)(_.KVO(o.$))},t.\u0275prov=_.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),a})()},1572:(U,$,n)=>{n.d($,{d:()=>h});var p=n(496),r=n(5109),u=n(878),c=n(315),A=n(6e3),v=n(4003);let h=(()=>{var l;class _{constructor(e,t){this.http=e,this.storage=t,this.apiUrl=u.c.apiUrl,this.petId=null}addPet(e){for(const[a,d]of e.entries())console.log(`${a}: ${d}`);const t=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/store`,e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}})}getPets(){const e=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${e}`}})}getPetsByOwnerId(e){const t=localStorage.getItem("token");return(0,r.H)(p.A.get(`${this.apiUrl}/api/pet_owners/${e}/pets`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>(console.log("Pets by Owner ID response:",a),a.data.data)).catch(a=>{throw console.error("Error fetching pets by owner ID:",a),a}))}getAllPets(){const e=localStorage.getItem("token");return p.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${e}`}})}fetchAllPets(){return this.getAllPets().then(e=>(console.log("All Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching all pets:",e),e})}fetchPets(){return this.getPets().then(e=>(console.log("Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets:",e),e})}getPet(e){return this.http.get(`${this.apiUrl}/api/pet/${e}`)}storePet(e){return this.http.post(`${this.apiUrl}/api/pet`,e)}updatePet(e,t){console.log("pet in pet-info.service====>",t);const a=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/update/${e}`,t,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(e,t){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${e}`,{is_lost:t?1:0},{headers:{Authorization:`Bearer ${a}`}})}updateAdoptionStatus(e,t){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${e}`,{allow_adoption:t?1:0},{headers:{Authorization:`Bearer ${a}`}})}deleteImage(e){const t=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${e}`,{},{headers:{Authorization:`Bearer ${t}`}})}updateImage(e,t){const a=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${e}`,t,{headers:{Authorization:`Bearer ${a}`}})}deletePet(e){const t=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${t}`}})}setPetId(e){this.petId=e}getPetId(){return this.petId}markPetAsLost(e){return this.http.post(`${this.apiUrl}/api/pet/lost/${e}`,{})}markPetAsFound(e){return this.http.post(`${this.apiUrl}/api/pet/found/${e}`,{})}getOwnerIdByEmail(e){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:e}})}updatePetOwner(e,t){return this.http.put(`${this.apiUrl}/api/pets/${e}`,{pet_owner_id:t})}addDocument(e,t){const a=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/pet/${e}/documents`,t,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})}uploadImage(e){return this.storage.ref(e).getDownloadURL().toPromise()}addLostPetByFounder(e){const t=localStorage.getItem("token");return p.A.post(`${this.apiUrl}/api/addLostPetByFounder`,e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${e}`}})}showLostPetByFounder(e){const t=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${t}`}})}deleteLostPetByFounder(e){const t=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${t}`}})}}return(l=_).\u0275fac=function(e){return new(e||l)(c.KVO(A.Qq),c.KVO(v.ap))},l.\u0275prov=c.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),_})()},8525:(U,$,n)=>{n.d($,{$:()=>h});var p=n(5841),r=n(496),u=n(878),c=n(5109),A=n(6200),v=n(315);r.A.defaults.withCredentials=!0;let h=(()=>{var l;class _{constructor(){this.apiUrl=`${u.c.apiUrl}/api`,r.A.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e))}getAllProviders(){return r.A.get(`${this.apiUrl}/providers`)}getProviderById(e){return r.A.get(`${this.apiUrl}/providers/${e}`)}getProviderById2(e){return(0,c.H)(r.A.get(`${this.apiUrl}/providers/${e}`)).pipe((0,A.T)(t=>t.data))}createProvider(e){return r.A.post(`${this.apiUrl}/providers`,e)}getAllProviders2(){var e=this;return(0,p.A)(function*(){return r.A.get(`${e.apiUrl}/providers`).then(t=>t.data)})()}updateProvider(e,t){return r.A.put(`${this.apiUrl}/providers/${e}`,t)}deleteProvider(e){return r.A.delete(`${this.apiUrl}/providers/${e}`)}getServicesByProviderId(e){return r.A.get(`${this.apiUrl}/providers/${e}/services`)}getProductsByProviderId(e){return r.A.get(`${this.apiUrl}/providers/${e}/products`)}getVeterinariansByProviderId(e){return r.A.get(`${this.apiUrl}/providers/${e}/veterinarians`)}getVeterianById(e){return r.A.get(`${this.apiUrl}/veterinarians/${e}`)}getServiceById(e){return r.A.get(`${this.apiUrl}/services/${e}`)}getProductById(e){return r.A.get(`${this.apiUrl}/products/${e}`)}getServiceReviewsByServiceId(e){return r.A.get(`${this.apiUrl}/services/${e}/reviews`)}getPetOwnerById(e){return r.A.get(`${this.apiUrl}/pet_owners/${e}`)}getProductReviewsByProductId(e){return r.A.get(`${this.apiUrl}/products/${e}/reviews`)}getProviderByName(e){return(0,c.H)(r.A.get(`${this.apiUrl}/providers/name/${e}`))}addReview(e){var t=this;return(0,p.A)(function*(){try{console.log("Review data before sending:",e);const a=yield r.A.post(`${t.apiUrl}/reviews`,e);return console.log("Server response:",a.data),a.data}catch(a){throw console.error("Error adding review:",a),a}})()}getAverageRatingByProviderId(e){var t=this;return(0,p.A)(function*(){try{const d=(yield t.getServicesByProviderId(e)).data;let s=0,i=0;for(const E of d)(yield t.getServiceReviewsByServiceId(E.id)).data.forEach(I=>{i+=I.rate,s++});return s>0?i/s:0}catch(a){throw console.error("Error calculating average rating:",a),a}})()}getAverageRatingByProductId(e){var t=this;return(0,p.A)(function*(){try{const d=(yield r.A.get(`${t.apiUrl}/products/${e}/reviews`)).data;return 0===d.length?null:d.reduce((i,g)=>i+g.rate,0)/d.length}catch(a){throw console.error("Error fetching reviews:",a),a}})()}}return(l=_).\u0275fac=function(e){return new(e||l)},l.\u0275prov=v.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),_})()}}]);