"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9478],{9478:(y,A,c)=>{c.r(A),c.d(A,{AdoptionpetinfoPageModule:()=>O});var g=c(9351),d=c(7199),l=c(7473),m=c(4170),v=c(5841),t=c(315),_=c(5822),f=c(1572);function b(i,u){1&i&&(t.j41(0,"div",7)(1,"ion-label",8),t.EFF(2,"Loading pet information please wait..."),t.k0s(),t.nrm(3,"ion-spinner",9),t.k0s())}function r(i,u){if(1&i&&t.nrm(0,"img",51),2&i){const a=t.XpG(2);t.FS9("alt",a.pet.name),t.Y8G("src",a.pet.image,t.B4B)}}function e(i,u){if(1&i){const a=t.RV6();t.j41(0,"ion-button",52),t.bIt("click",function(){t.eBV(a);const s=t.XpG(2);return t.Njj(s.toggleDescription())}),t.j41(1,"p",53),t.EFF(2),t.k0s()()}if(2&i){const a=t.XpG(2);t.R7$(2),t.JRh(a.isExpanded?"Show Less":"See More")}}function o(i,u){if(1&i){const a=t.RV6();t.qex(0),t.j41(1,"ion-card"),t.DNE(2,r,1,2,"img",10),t.j41(3,"ion-card-header")(4,"div",11)(5,"ion-button",12),t.nrm(6,"ion-icon",13),t.k0s(),t.j41(7,"ion-button",12),t.nrm(8,"ion-icon",14),t.k0s()(),t.j41(9,"div",15)(10,"ion-card-title",16),t.EFF(11),t.k0s(),t.j41(12,"ion-card-subtitle",17),t.nrm(13,"ion-icon",18),t.j41(14,"span",19),t.EFF(15,"1.2 KM \u2022 Naperville"),t.k0s()()()(),t.nrm(16,"hr"),t.j41(17,"ion-card-content",20)(18,"div",21)(19,"ion-chip",22)(20,"ion-label",23),t.nrm(21,"img",24),t.EFF(22),t.k0s()(),t.j41(23,"ion-chip",25)(24,"ion-label",26),t.nrm(25,"img",27),t.EFF(26),t.k0s()(),t.j41(27,"ion-chip",28)(28,"ion-label",29),t.nrm(29,"img",30),t.EFF(30),t.k0s()(),t.j41(31,"ion-chip",31)(32,"ion-label",32),t.nrm(33,"img",33),t.EFF(34),t.k0s()(),t.j41(35,"ion-chip",34)(36,"ion-label",35),t.nrm(37,"img",36),t.EFF(38),t.k0s()(),t.nrm(39,"div",37),t.k0s(),t.nrm(40,"hr"),t.j41(41,"ion-item",38)(42,"div",39)(43,"div",40)(44,"ion-avatar",1),t.nrm(45,"img",41),t.k0s()(),t.j41(46,"div",42)(47,"h2",43),t.EFF(48),t.k0s(),t.j41(49,"p",44),t.EFF(50),t.k0s()(),t.j41(51,"div",45)(52,"ion-buttons",46)(53,"ion-button",47),t.bIt("click",function(){t.eBV(a);const s=t.XpG();return t.Njj(s.presentAlertConfirm("call"))}),t.nrm(54,"ion-icon",48),t.k0s(),t.j41(55,"ion-button",47),t.bIt("click",function(){t.eBV(a);const s=t.XpG();return t.Njj(s.presentAlertConfirm("chat"))}),t.nrm(56,"ion-icon",49),t.k0s()()()()(),t.j41(57,"p"),t.EFF(58),t.k0s(),t.DNE(59,e,3,1,"ion-button",50),t.k0s()(),t.bVm()}if(2&i){const a=t.XpG();t.R7$(2),t.Y8G("ngIf",a.pet.image),t.R7$(9),t.JRh(a.pet.name),t.R7$(11),t.SpI(" Gender: ","m"===a.pet.gender?"Male":"Female"," "),t.R7$(4),t.SpI(" Colour: ",a.pet.color," "),t.R7$(4),t.SpI(" Breed: ",a.pet.breed," "),t.R7$(4),t.SpI(" Age: ",a.pet.petAge," Year "),t.R7$(4),t.SpI(" Weight: ",a.pet.weight," "),t.R7$(7),t.Y8G("src",a.pet.petOwner.profile_image,t.B4B),t.R7$(3),t.Lme("",a.pet.petOwner.first_name," ",a.pet.petOwner.last_name,""),t.R7$(2),t.SpI("",a.pet.name," Owner"),t.R7$(8),t.JRh(a.displayText),t.R7$(),t.Y8G("ngIf",a.showMoreButton)}}const P=[{path:"",component:(()=>{var i;class u{constructor(n,s,h,w,$){this.authService=n,this.petInfoService=s,this.router=h,this.activeRoute=w,this.alertController=$,this.description="Amder is a cat that I have found on the side of the road 1 year ago. He is now a cheerful and active cat who loves to play and spend time with people. He has brought so much joy to our lives and continues to surprise us with his playful antics every day.",this.isExpanded=!1,this.displayText="",this.showMoreButton=!1,this.photos=["assets/R.jpeg","assets/R2.jpeg","assets/R3.jpeg"]}ngOnInit(){var n=this;return(0,v.A)(function*(){n.id=Number(n.activeRoute.snapshot.paramMap.get("id")),console.log("pet id -------\x3e",n.id),null!==n.id&&n.getPetDetails(n.id)})()}getPetDetails(n){var s=this;this.petInfoService.getPet(n).subscribe(function(){var h=(0,v.A)(function*(w){s.pet=w.data,s.calculateAge(),yield s.getPetOwnerDetails(s.pet.pet_owner_id),console.log("Pet details:",s.pet)});return function(w){return h.apply(this,arguments)}}(),h=>{console.error("Error fetching pet details:",h)})}getPetOwnerDetails(n){var s=this;return(0,v.A)(function*(){try{const h=yield s.authService.fetchPetOwnerData(n);s.pet.petOwner=h,console.log("Pet Owner details:",s.pet.petOwner)}catch(h){console.error("Error fetching pet owner details:",h)}})()}calculateAge(){if(this.pet.age){const n=new Date(this.pet.age),s=new Date;let h=s.getFullYear()-n.getFullYear();const w=s.getMonth()-n.getMonth();(w<0||0===w&&s.getDate()<n.getDate())&&h--,this.pet.petAge=h}}setDisplayText(){const n=this.description.split(" ");n.length>45?(this.displayText=n.slice(0,45).join(" ")+"...",this.showMoreButton=!0):(this.displayText=this.description,this.showMoreButton=!1)}toggleDescription(){this.isExpanded=!this.isExpanded,this.displayText=this.isExpanded?this.description:this.description.split(" ").slice(0,45).join(" ")+"..."}presentAlertConfirm(n){var s=this;return(0,v.A)(function*(){yield(yield s.alertController.create({header:"Confirm",message:`Are you sure you want to ${n} this pet owner?`,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:w=>{console.log("Confirm Cancel: blah")}},{text:"Yes",handler:()=>{"call"===n?s.call():"chat"===n&&s.chat()}}]})).present()})()}chat(){const n=encodeURIComponent("Hello, I would like to chat with you!");window.open(`https://wa.me/${this.pet.petOwner.phone}?text=${n}`,"_blank")}call(){window.open(`tel:${this.pet.petOwner.phone}`,"_system")}}return(i=u).\u0275fac=function(n){return new(n||i)(t.rXU(_.u),t.rXU(f.d),t.rXU(m.Ix),t.rXU(m.nX),t.rXU(l.hG))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-adoptionpetinfo"]],decls:10,vars:3,consts:[[3,"translucent"],["slot","start"],["defaultHref","/mains"],[1,"titleFont"],[1,"ion-padding"],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"bodyFont"],["name","circular"],["class","pet-image",3,"src","alt",4,"ngIf"],[1,"pet-icon-container"],["fill","clear",1,"icon-button"],["src","assets/icons/purple-heart.svg",1,"heart-icon"],["src","assets/icons/purple-share.svg",1,"share-icon"],[1,"title-container"],[1,"bodyFont","boldFont","ion-text-center","pet-name"],[1,"item-location"],["src","assets/icons/location.svg","name","location-outline",1,"bodyFont","loc-icon"],[1,"bodyFont","loc"],[1,"no-padding"],[1,"details"],["color","success",1,"bg"],[1,"bodyFont","boldFont","gender","pet-details"],["src","assets/icons/orange-paw.svg",1,"paw-icon"],["color","tertiary",1,"bg"],[1,"bodyFont","boldFont","colour","pet-details"],["src","assets/icons/purple-paw.svg",1,"paw-icon"],["color","warning",1,"bg"],[1,"bodyFont","boldFont","breed","pet-details"],["src","assets/icons/yellow-paw.svg",1,"paw-icon"],["color","danger",1,"bg"],[1,"bodyFont","boldFont","age","pet-details"],["src","assets/icons/turq-paw.svg",1,"paw-icon"],["color","primary",1,"bg"],[1,"bodyFont","boldFont","weight","pet-details"],["src","assets/icons/pink-paw.svg",1,"paw-icon"],[1,"simple-divider"],[1,"owner-info"],[1,"row-container"],[1,"image"],["alt","Owner Image",1,"owner-img",3,"src"],[1,"owner-details"],[1,"owner-name","bodyFont","boldFont"],[1,"pet-name","bodyFont"],[1,"icon-container"],["slot","end"],["fill","clear",3,"click"],["src","assets/icons/phone-black.svg","name","call",1,"phone-icon"],["src","assets/icons/message-black.svg","name","chatbubble",1,"message-icon"],["expand","block","fill","clear","color","primary",3,"click",4,"ngIf"],[1,"pet-image",3,"src","alt"],["expand","block","fill","clear","color","primary",3,"click"],[1,"see-more-less"]],template:function(n,s){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-back-button",2),t.k0s(),t.nrm(4,"br"),t.j41(5,"ion-title",3),t.EFF(6,"Adopt Pet"),t.k0s()()(),t.j41(7,"ion-content",4),t.DNE(8,b,4,0,"div",5)(9,o,60,13,"ng-container",6),t.k0s()),2&n&&(t.Y8G("translucent",!0),t.R7$(8),t.Y8G("ngIf",void 0===s.pet),t.R7$(),t.Y8G("ngIf",s.pet))},dependencies:[g.bT,l.mC,l.Jm,l.QW,l.b_,l.I9,l.ME,l.HW,l.tN,l.ZB,l.W9,l.eU,l.iq,l.uz,l.he,l.w2,l.BC,l.ai,l.el],styles:["ion-buttons[_ngcontent-%COMP%]{margin-top:20px}ion-back-button[_ngcontent-%COMP%]{color:var(--Main-Two)}ion-content[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0}hr[_ngcontent-%COMP%]{border-top:1px solid #c5c5c5}.pet-image[_ngcontent-%COMP%]{display:block;margin:10px auto;width:70%;max-width:350px;height:auto;padding-bottom:0;border-radius:16px}.pet-name[_ngcontent-%COMP%]{font-size:1rem!important}.icon-button[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;margin:0}.heart-icon[_ngcontent-%COMP%], .share-icon[_ngcontent-%COMP%]{margin-bottom:24px;width:25px;height:25px;gap:-2px;justify-content:flex-end}.item-location[_ngcontent-%COMP%]{display:flex;justify-content:center}.loc-icon[_ngcontent-%COMP%]{width:22.5px;height:22.5px}.loc[_ngcontent-%COMP%]{margin-top:5px;margin-left:4px}.pet-icon-container[_ngcontent-%COMP%]{position:absolute;justify-content:flex-end;top:-2px;right:10px;display:flex;gap:26px;padding:0;margin:0 18px 0 0;z-index:5;margin-bottom:-4}.ion-padding[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(.5rem + .5vw);color:#000;width:100%;text-align:center;position:relative;z-index:1;margin-top:10px}.details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:100%;position:relative;overflow:hidden}ion-chip[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex:0 1 calc(45% - 10px);border-radius:16px;height:80px;padding:5;overflow:hidden;background:transparent}.paw-icon[_ngcontent-%COMP%]{margin-left:auto;width:65px;height:65px;opacity:1;position:absolute;bottom:-12px;right:-10px;z-index:-1;transform:rotate(-30deg)}.pet-details[_ngcontent-%COMP%]{height:60px;border-radius:16px;display:flex;flex-direction:column;align-items:center;z-index:1;overflow:hidden;opacity:85%}.gender[_ngcontent-%COMP%]{background-color:var(--Main-One);border-color:var(--Main-One)}.colour[_ngcontent-%COMP%]{background-color:var(--Main-Two);border-color:var(--Main-Two)}.breed[_ngcontent-%COMP%]{background-color:var(--Accent-One);border-color:var(--Accent-One)}.age[_ngcontent-%COMP%]{background-color:var(--Accent-Two);border-color:var(--Accent-Two)}",".weight[_ngcontent-%COMP%]{background-color:var(--Backup-Pink);border-color:var(--Backup-Pink)}.owner-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:16px;--background: transparent;--border-color: transparent;--ion-item-background: transparent;--ion-background-color: transparent}.owner-info[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-right:8px}.owner-info[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.owner-info[_ngcontent-%COMP%]   .owner-details[_ngcontent-%COMP%]   .pet-name[_ngcontent-%COMP%]{margin-top:4px;color:#757575!important}.row-container[_ngcontent-%COMP%]{display:flex;align-items:center;--ion-item-border-width: 0;--ion-item-border-color: transparent}.owner-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover}.owner-name[_ngcontent-%COMP%], .pet-name[_ngcontent-%COMP%]{margin-left:15px}.phone-icon[_ngcontent-%COMP%], .message-icon[_ngcontent-%COMP%]{background:#fff;border:1px solid white;padding:5px;border-radius:30%;box-shadow:0 4px 8px rgba 0,0,0,.3;width:20px;height:20px;margin-left:10px}.see-more-less[_ngcontent-%COMP%]{--color: var(--Main-Two) !important;font-family:Montserrat,sans-serif;font-optical-sizing:auto;font-size:.875rem;font-weight:500;font-style:normal}"]}),u})()}];let k=(()=>{var i;class u{}return(i=u).\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[m.iI.forChild(P),m.iI]}),u})(),O=(()=>{var i;class u{}return(i=u).\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[g.MD,d.YN,l.bv,k]}),u})()},5822:(y,A,c)=>{c.d(A,{u:()=>t});var g=c(5841),d=c(496),l=c(878),m=c(315),v=c(6e3);d.A.defaults.withCredentials=!0;let t=(()=>{var _;class f{constructor(r){this.http=r,this.apiUrl=l.c.apiUrl}getCSRFToken(){return d.A.get(`${this.apiUrl}/sanctum/csrf-cookie`)}register(r){var e=this;return(0,g.A)(function*(){return yield e.getCSRFToken(),d.A.post(`${e.apiUrl}/api/register`,r).then(o=>(localStorage.setItem("token",o.data.token),o.data)).catch(o=>{throw console.error("Login error:",o),o})})()}checkEmail(r){return d.A.post(`${this.apiUrl}/api/check-email`,{email:r})}sendVerificationCode(r){return d.A.post(`${this.apiUrl}/api/send-verification-code`,{email:r})}verifyCode(r){return d.A.post(`${this.apiUrl}/api/verify-code`,r)}login(r){var e=this;return(0,g.A)(function*(){return yield e.getCSRFToken(),d.A.post(`${e.apiUrl}/api/login`,r).then(o=>(localStorage.setItem("token",o.data.token),o.data)).catch(o=>{throw console.error("Login error:",o),o})})()}logout(){const r=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/logout`,{},{headers:{Authorization:`Bearer ${r}`}}).then(()=>{localStorage.removeItem("token")})}getProfile(){var r=this;return(0,g.A)(function*(){const e=localStorage.getItem("token");return(yield d.A.get(`${r.apiUrl}/api/petOwner/profile`,{headers:{Authorization:`Bearer ${e}`}})).data.data})()}fetchProfileData(){var r=this;return(0,g.A)(function*(){try{const e=yield r.getProfile();return console.log("Profile response:",e),e}catch(e){throw console.error("Error fetching profile:",e),e}})()}getPetOwnerData(r){const e=localStorage.getItem("token");return d.A.get(`${this.apiUrl}/api/pet_owner/${r}`,{headers:{Authorization:`Bearer ${e}`}})}fetchPetOwnerData(r){return console.log("th id in auth=====>",r),this.getPetOwnerData(r).then(e=>(console.log("pet owner data:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pet owner:",e),e})}updateProfile(r,e){const o=localStorage.getItem("token");return d.A.put(`${this.apiUrl}/api/pet_owner/${e}`,r,{headers:{Authorization:`Bearer ${o}`}})}updateProfileImage(r,e){const o=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet_owner/image/${e}`,r,{headers:{Authorization:`Bearer ${o}`}})}updatePass(r,e,o){var p=this;return(0,g.A)(function*(){const P=localStorage.getItem("token");try{return(yield d.A.put(`${p.apiUrl}/api/pet-owners/update-password`,{email:r,password:e,password_confirmation:o},{headers:{Authorization:`Bearer ${P}`}})).data}catch(k){throw console.error("Error updating password:",k),k}})()}}return(_=f).\u0275fac=function(r){return new(r||_)(m.KVO(v.Qq))},_.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),f})()},1572:(y,A,c)=>{c.d(A,{d:()=>_});var g=c(496),d=c(5109),l=c(878),m=c(315),v=c(6e3),t=c(4003);let _=(()=>{var f;class b{constructor(e,o){this.http=e,this.storage=o,this.apiUrl=l.c.apiUrl,this.petId=null}addPet(e){for(const[p,P]of e.entries())console.log(`${p}: ${P}`);const o=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/pet/store`,e,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}getPets(){const e=localStorage.getItem("token");return g.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${e}`}})}getPetsByOwnerId(e){const o=localStorage.getItem("token");return(0,d.H)(g.A.get(`${this.apiUrl}/api/pet_owners/${e}/pets`,{headers:{Authorization:`Bearer ${o}`}}).then(p=>(console.log("Pets by Owner ID response:",p),p.data.data)).catch(p=>{throw console.error("Error fetching pets by owner ID:",p),p}))}getAllPets(){const e=localStorage.getItem("token");return g.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${e}`}})}fetchAllPets(){return this.getAllPets().then(e=>(console.log("All Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching all pets:",e),e})}fetchPets(){return this.getPets().then(e=>(console.log("Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets:",e),e})}getPet(e){return this.http.get(`${this.apiUrl}/api/pet/${e}`)}storePet(e){return this.http.post(`${this.apiUrl}/api/pet`,e)}updatePet(e,o){console.log("pet in pet-info.service====>",o);const p=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/pet/update/${e}`,o,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(e,o){const p=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${e}`,{is_lost:o?1:0},{headers:{Authorization:`Bearer ${p}`}})}updateAdoptionStatus(e,o){const p=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${e}`,{allow_adoption:o?1:0},{headers:{Authorization:`Bearer ${p}`}})}deleteImage(e){const o=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${e}`,{},{headers:{Authorization:`Bearer ${o}`}})}updateImage(e,o){const p=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${e}`,o,{headers:{Authorization:`Bearer ${p}`}})}deletePet(e){const o=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${o}`}})}setPetId(e){this.petId=e}getPetId(){return this.petId}markPetAsLost(e){return this.http.post(`${this.apiUrl}/api/pet/lost/${e}`,{})}markPetAsFound(e){return this.http.post(`${this.apiUrl}/api/pet/found/${e}`,{})}getOwnerIdByEmail(e){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:e}})}updatePetOwner(e,o){return this.http.put(`${this.apiUrl}/api/pets/${e}`,{pet_owner_id:o})}addDocument(e,o){const p=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/pet/${e}/documents`,o,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"multipart/form-data"}})}uploadImage(e){return this.storage.ref(e).getDownloadURL().toPromise()}addLostPetByFounder(e){const o=localStorage.getItem("token");return g.A.post(`${this.apiUrl}/api/addLostPetByFounder`,e,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${e}`}})}showLostPetByFounder(e){const o=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${o}`}})}deleteLostPetByFounder(e){const o=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${o}`}})}}return(f=b).\u0275fac=function(e){return new(e||f)(m.KVO(v.Qq),m.KVO(t.ap))},f.\u0275prov=m.jDH({token:f,factory:f.\u0275fac,providedIn:"root"}),b})()}}]);