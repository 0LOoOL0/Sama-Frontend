"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[221],{221:(C,P,l)=>{l.r(P),l.d(P,{AdoptionlistPageModule:()=>$});var d=l(9351),m=l(7199),c=l(7473),h=l(4170),v=l(5841),t=l(315),k=l(1572);const g=(n,p)=>({segButtonClicked:n,segButtonNotClicked:p});function _(n,p){1&n&&(t.j41(0,"div",12)(1,"div",13)(2,"div",14),t.nrm(3,"img",15),t.j41(4,"ion-label",16),t.EFF(5,"Sorry, we couldn\u2019t find what you are looking for!"),t.k0s()()()())}function A(n,p){1&n&&(t.j41(0,"div",12)(1,"div",13)(2,"div",14),t.nrm(3,"img",15),t.j41(4,"ion-label",16),t.EFF(5,"Sorry, we couldn\u2019t find what you are looking for!"),t.k0s()()()())}function e(n,p){if(1&n){const a=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const s=t.eBV(a).$implicit,u=t.XpG(2);return t.Njj(u.navigateToInfo(s.id))}),t.j41(1,"div",20),t.nrm(2,"img",21),t.k0s(),t.j41(3,"div",22)(4,"div")(5,"div",23)(6,"ion-label",24),t.EFF(7),t.k0s()(),t.j41(8,"div",25),t.nrm(9,"img",26),t.j41(10,"ion-label",27),t.EFF(11),t.k0s()()(),t.nrm(12,"img",28),t.k0s()()}if(2&n){const a=p.$implicit;t.R7$(2),t.Y8G("src",a.image,t.B4B),t.R7$(5),t.JRh(a.name),t.R7$(4),t.SpI(" ",a.distance,"")}}function i(n,p){if(1&n&&(t.j41(0,"div")(1,"div",13)(2,"div")(3,"div",17),t.DNE(4,e,13,3,"div",18),t.k0s()()()()),2&n){const a=t.XpG();t.R7$(4),t.Y8G("ngForOf",a.getPets())}}function r(n,p){if(1&n){const a=t.RV6();t.j41(0,"ion-fab",29)(1,"div",30)(2,"ion-fab-button",31),t.bIt("click",function(){t.eBV(a);const s=t.XpG();return t.Njj(s.showOptionsPopup())}),t.nrm(3,"img",32),t.j41(4,"ion-label"),t.EFF(5),t.k0s()()()()}if(2&n){const a=t.XpG();t.R7$(5),t.JRh(a.getFabLabel())}}const I=[{path:"",component:(()=>{var n;class p{constructor(o,s,u){this.router=o,this.petInfoService=s,this.alertController=u,this.searchQuery="",this.AllPets={},this.adoptionPets=[],this.lostPets=[],this.mattingPets=[],this.petListType=1,this.role=""}ngOnInit(){this.petInfoService.fetchAllPets().then(o=>{this.AllPets=o,this.filterPets()}).catch(o=>{console.error("Error fetching pets data:",o)}),this.petInfoService.fetchAllLostPets().subscribe(o=>{this.lostPets=o.lostPets},o=>{console.error("Error fetching lost pets:",o)})}filterPets(){this.adoptionPets=this.AllPets.filter(o=>1===o.allow_adoption),this.mattingPets=this.AllPets.filter(o=>"yes"===o.is_neutered)}getPets(){let o=[];return 1===this.petListType?o=this.adoptionPets:2===this.petListType?o=this.lostPets:3===this.petListType&&(o=this.mattingPets),this.searchQuery&&(o=o.filter(s=>s.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),o}getFabLabel(){return 1===this.petListType?"Adopt":2===this.petListType?"Report Lost":3===this.petListType?"Find Mate":""}navigateToInfo(o){2===this.petListType?this.router.navigate(["/lostpetinfo",o],{queryParams:{role:this.role}}):this.router.navigate(["/adoptionpetinfo",o])}isFounder(){return"founder"===this.role}showAdoption(){this.petListType=1}showLostPet(){this.petListType=2}showMating(){this.petListType=3}showOptionsPopup(){var o=this;return(0,v.A)(function*(){1===o.petListType?o.router.navigate(["/mypet"]):2===o.petListType?o.router.navigate(["/lostform"]):console.log("Find mate clicked")})()}navigateToForm(o,s){"lostForm"===o&&"founder"===s&&this.router.navigate(["/lostform",{role:s}])}}return(n=p).\u0275fac=function(o){return new(o||n)(t.rXU(h.Ix),t.rXU(k.d),t.rXU(c.hG))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-adoptionlist"]],decls:23,vars:17,consts:[["slot","start"],[1,"header-margin-Single-Line"],[1,"titleFont"],["slot","end"],["src","assets/icons/filter.svg",1,"icon"],[1,"ion-padding","full-height"],["placeholder","Search here...",3,"ngModelChange","ngModel"],[1,"segments"],["fill","clear",3,"click","ngClass"],["class","contanier MakeItCenter MakeItFlex",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"contanier","MakeItCenter","MakeItFlex"],[1,"MakeItCenter"],[1,"noPets","MakeItFlexAsAColumn"],["src","assets/mypet.svg","alt","No pets found"],[1,"bodyFont","boldFont","textGray"],[1,"MakeItAGride","gridContainer"],["class","singleCell",3,"click",4,"ngFor","ngForOf"],[1,"singleCell",3,"click"],[1,"imgContainer"],["alt","Pet Image",3,"src"],[1,"FlexSpaceInBetween"],[1,"titleContainer"],[1,"bodyFont","boldFont"],[1,"MakeItFlex","location"],["id","location","src","assets/icons/location.svg",1,"iconSmall"],[1,"bodyFont","textGray"],["src","assets/icons/heart.svg",1,"icon"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"FabButton"],["fill","clear",3,"click"],["id","location","src","assets/icons/plus-white.svg",1,"iconSmall"]],template:function(o,s){1&o&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button"),t.k0s(),t.j41(4,"div",1)(5,"ion-label",2),t.EFF(6,"Explore Pets"),t.k0s()(),t.j41(7,"ion-buttons",3)(8,"ion-button"),t.nrm(9,"img",4),t.k0s()()()(),t.j41(10,"ion-content",5)(11,"ion-searchbar",6),t.mxI("ngModelChange",function(y){return t.DH7(s.searchQuery,y)||(s.searchQuery=y),y}),t.k0s(),t.j41(12,"div",7)(13,"ion-button",8),t.bIt("click",function(){return s.showAdoption()}),t.EFF(14," Adoption "),t.k0s(),t.j41(15,"ion-button",8),t.bIt("click",function(){return s.showLostPet()}),t.EFF(16," Lost Pets "),t.k0s(),t.j41(17,"ion-button",8),t.bIt("click",function(){return s.showMating()}),t.EFF(18," Mating "),t.k0s()(),t.DNE(19,_,6,0,"div",9)(20,A,6,0,"div",9)(21,i,5,1,"div",10)(22,r,6,1,"ion-fab",11),t.k0s()),2&o&&(t.R7$(11),t.R50("ngModel",s.searchQuery),t.R7$(2),t.Y8G("ngClass",t.l_i(8,g,1===s.petListType,1!==s.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(11,g,2===s.petListType,2!==s.petListType)),t.R7$(2),t.Y8G("ngClass",t.l_i(14,g,3===s.petListType,3!==s.petListType)),t.R7$(2),t.Y8G("ngIf",0===s.petListType),t.R7$(),t.Y8G("ngIf",0!=s.petListType&&0===s.getPets().length),t.R7$(),t.Y8G("ngIf",0!=s.petListType&&s.getPets().length>0),t.R7$(),t.Y8G("ngIf",0!=s.petListType))},dependencies:[d.YU,d.Sq,d.bT,m.BC,m.vS,c.Jm,c.QW,c.W9,c.Q8,c.YW,c.eU,c.he,c.S1,c.ai,c.Gw,c.el],styles:["ion-buttons[_ngcontent-%COMP%]{margin-top:20px}.icon[_ngcontent-%COMP%]{width:24px;height:auto}.segments[_ngcontent-%COMP%]{margin-left:5px;width:100%}.segments[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-style:normal;font-size:.7rem;text-align:center;border-radius:16px}.segments[_ngcontent-%COMP%]   #big[_ngcontent-%COMP%]{display:inline}.segButtonClicked[_ngcontent-%COMP%]{background-color:var(--Main-Two);color:#fff}.segButtonNotClicked[_ngcontent-%COMP%]{border:1px solid var(--GrayColor);background-color:var(--background-color);color:var(--GrayColor)}.contanier[_ngcontent-%COMP%]{width:100%;height:85%}.noPets[_ngcontent-%COMP%]{width:80%;max-width:350px;text-align:center}.noPets[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:auto}.gridContainer[_ngcontent-%COMP%]{max-width:350px}.singleCell[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:5px;padding:10px;border-radius:16px;background-color:var(--White)}.imgContainer[_ngcontent-%COMP%]{width:100%;height:70%;margin-bottom:10px;border-radius:16px;position:relative;overflow:hidden}.imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:16px;height:auto;object-fit:cover;object-position:center}.titleContainer[_ngcontent-%COMP%]{width:100%}.iconSmall[_ngcontent-%COMP%]{width:17px;height:auto}.location[_ngcontent-%COMP%]{margin-top:3px}#location[_ngcontent-%COMP%]{margin-right:5px}.FabButton[_ngcontent-%COMP%]{font-family:Montserrat;font-optical-sizing:auto;font-weight:600;font-size:.875rem;font-style:normal}.FabButton[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{width:125px;height:40px;--color: var(--White);--border-radius: 16px;--background: var(--Main-One)}"]}),p})()}];let M=(()=>{var n;class p{}return(n=p).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[h.iI.forChild(I),h.iI]}),p})(),$=(()=>{var n;class p{}return(n=p).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.MD,m.YN,c.bv,M]}),p})()},1572:(C,P,l)=>{l.d(P,{d:()=>k});var d=l(496),m=l(5109),c=l(878),h=l(315),v=l(6e3),t=l(4003);let k=(()=>{var g;class _{constructor(e,i){this.http=e,this.storage=i,this.apiUrl=c.c.apiUrl,this.petId=null}addPet(e){for(const[r,f]of e.entries())console.log(`${r}: ${f}`);const i=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/store`,e,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}})}getPets(){const e=localStorage.getItem("token");return d.A.get(`${this.apiUrl}/api/petOwner/pets`,{headers:{Authorization:`Bearer ${e}`}})}getPetsByOwnerId(e){const i=localStorage.getItem("token");return(0,m.H)(d.A.get(`${this.apiUrl}/api/pet_owners/${e}/pets`,{headers:{Authorization:`Bearer ${i}`}}).then(r=>(console.log("Pets by Owner ID response:",r),r.data.data)).catch(r=>{throw console.error("Error fetching pets by owner ID:",r),r}))}getAllPets(){const e=localStorage.getItem("token");return d.A.get(`${this.apiUrl}/api/pets`,{headers:{Authorization:`Bearer ${e}`}})}fetchAllPets(){return this.getAllPets().then(e=>(console.log("All Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching all pets:",e),e})}fetchPets(){return this.getPets().then(e=>(console.log("Pets response:",e),e.data.data)).catch(e=>{throw console.error("Error fetching pets:",e),e})}getPet(e){return this.http.get(`${this.apiUrl}/api/pet/${e}`)}storePet(e){return this.http.post(`${this.apiUrl}/api/pet`,e)}updatePet(e,i){console.log("pet in pet-info.service====>",i);const r=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/update/${e}`,i,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}updateLostStatus(e,i){const r=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-lost-status/${e}`,{is_lost:i?1:0},{headers:{Authorization:`Bearer ${r}`}})}updateAdoptionStatus(e,i){const r=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-adoption-status/${e}`,{allow_adoption:i?1:0},{headers:{Authorization:`Bearer ${r}`}})}deleteImage(e){const i=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/delete-image/${e}`,{},{headers:{Authorization:`Bearer ${i}`}})}updateImage(e,i){const r=localStorage.getItem("token");return this.http.post(`${this.apiUrl}/api/pet/update-image/${e}`,i,{headers:{Authorization:`Bearer ${r}`}})}deletePet(e){const i=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/pet/${e}`,{headers:{Authorization:`Bearer ${i}`}})}setPetId(e){this.petId=e}getPetId(){return this.petId}markPetAsLost(e){return this.http.post(`${this.apiUrl}/api/pet/lost/${e}`,{})}markPetAsFound(e){return this.http.post(`${this.apiUrl}/api/pet/found/${e}`,{})}getOwnerIdByEmail(e){return this.http.get(`${this.apiUrl}/api/petOwners/byEmail`,{params:{email:e}})}updatePetOwner(e,i){return this.http.put(`${this.apiUrl}/api/pets/${e}`,{pet_owner_id:i})}addDocument(e,i){const r=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/pet/${e}/documents`,i,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}})}uploadImage(e){return this.storage.ref(e).getDownloadURL().toPromise()}addLostPetByFounder(e){const i=localStorage.getItem("token");return d.A.post(`${this.apiUrl}/api/addLostPetByFounder`,e,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}})}fetchAllLostPets(){const e=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/allLostPets`,{headers:{Authorization:`Bearer ${e}`}})}showLostPetByFounder(e){const i=localStorage.getItem("token");return this.http.get(`${this.apiUrl}/api/showLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${i}`}})}deleteLostPetByFounder(e){const i=localStorage.getItem("token");return this.http.delete(`${this.apiUrl}/api/deleteLostPetByFounder/${e}`,{headers:{Authorization:`Bearer ${i}`}})}}return(g=_).\u0275fac=function(e){return new(e||g)(h.KVO(v.Qq),h.KVO(t.ap))},g.\u0275prov=h.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),_})()}}]);